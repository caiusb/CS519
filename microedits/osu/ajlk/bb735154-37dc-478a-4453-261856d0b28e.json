{
  "userid": "ajlk",
  "guid": "bb735154-37dc-478a-4453-261856d0b28e",
  "lastStatus": "unpublished",
  "items": [
    {
      "seqNo": 0,
      "time": 1377621350,
      "scriptId": null,
      "historyId": "25202467944932693167f7bccc3-cc98-4de3-a44d-0ac4c504e839",
      "updateSize": 11363,
      "ast": {
        "textVersion": "v2.2,js,ctx",
        "jsonVersion": "v1.0,resolved,short",
        "name": "my formula app",
        "comment": "A starter to create a formula app with 2 variables.",
        "icon": "AlmostEqual",
        "color": "#ffFFA500",
        "autoIcon": "AlmostEqual",
        "autoColor": "#FFA500",
        "platform": "current",
        "rootId": "xswHWQ2Qysb6c2XphoiRYnei",
        "showAd": false,
        "isLibrary": false,
        "allowExport": true,
        "hasUniqueIds": false,
        "decls": [
          {
            "name": "main",
            "inParameters": [],
            "outParameters": [],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "page",
            "initBody": [
              {
                "text": "This part is run once when pushing the page. State changes are allowed here.",
                "nodeType": "comment",
                "id": "xk4G0AGBJTlXXX2bo50x92Tg"
              },
              {
                "expr": ":wall .set_background ,( :colors .black ,)",
                "nodeType": "exprStmt",
                "id": "A5bGp8Q12MMTgvBtBgYmSVDU",
                "locals": []
              },
              {
                "expr": ":wall .set_foreground ,( :colors .white ,)",
                "nodeType": "exprStmt",
                "id": "oMJlYT20b2Wr2NjWY9dI5VCy",
                "locals": []
              },
              {
                "text": "TODO: change the title",
                "nodeType": "comment",
                "id": "DKf7pE35qielh2lchMfm2kAi"
              },
              {
                "expr": ":wall .set_title ,( 'scrub0 ,)",
                "nodeType": "exprStmt",
                "id": "yOEyCvzvMeKA8pYlIyZMKTwy",
                "locals": []
              },
              {
                "text": "TODO: change initial values",
                "nodeType": "comment",
                "id": "af6rlEqbD4nhmXTiIQrBBFOG"
              },
              {
                "expr": ":data #RspA0mz4rpRD8o8HYydSK8L9 ,:= '12",
                "nodeType": "exprStmt",
                "id": "hEvH4Z5KXhukePpds452G5cW",
                "locals": []
              },
              {
                "expr": ":data #I5adVn8lEhd1jZ7NGZP62K7C ,:= '25",
                "nodeType": "exprStmt",
                "id": "fnnTBvjb2LaT72GxAgCZZJwB",
                "locals": []
              },
              {
                "expr": ":data #xARgHi9eNpPsYp38Ud86UZni ,:= ,0",
                "nodeType": "exprStmt",
                "id": "QA7I99XTn6Adb2ShVY1YTrRm",
                "locals": []
              },
              {
                "expr": ":code #U54MQXXXvWM9hvtRxS3XEcDV",
                "nodeType": "exprStmt",
                "id": "xIv3FF6SzHewx9g6FL4qlVFD",
                "locals": []
              }
            ],
            "displayBody": [
              {
                "body": [
                  {
                    "text": "This is the outer box. Adding some margins and making the fonts bigger",
                    "nodeType": "comment",
                    "id": "y7oA0auhrm2TmMNEOgNsREsa"
                  },
                  {
                    "expr": ":box .set_margins ,( ,1 ,, ,3 ,, ,1 ,, ,4 ,)",
                    "nodeType": "exprStmt",
                    "id": "Zrm20ZG2Dq7U6ZbLRGyrpZ1F",
                    "locals": []
                  },
                  {
                    "expr": ":box .set_horizontal_alignment ,( ,1 ,, ,1 ,)",
                    "nodeType": "exprStmt",
                    "id": "ODvfX2CrJ1H44nQQhDSTylME",
                    "locals": []
                  },
                  {
                    "expr": ":box .set_font_size ,( ,2 ,. ,5 ,)",
                    "nodeType": "exprStmt",
                    "id": "aZa0PXNODNyweoOCYtbSsuoc",
                    "locals": []
                  },
                  {
                    "body": [
                      {
                        "text": "A number box is composed of",
                        "nodeType": "comment",
                        "id": "RNPjNx4i1eDszToos3VL1fkL"
                      },
                      {
                        "text": "* a title box which can be tapped to locked the value",
                        "nodeType": "comment",
                        "id": "OXILOkmLv05QptHZ216jPkev"
                      },
                      {
                        "text": "* a number box which can be editable if the value is not locked",
                        "nodeType": "comment",
                        "id": "nzVgZoiCIjyC71dc2sKTtp10"
                      },
                      {
                        "expr": ":code #XfluYvFud0ri6k21OS2XR1wG",
                        "nodeType": "exprStmt",
                        "id": "x5zh9iCkq59JPWYt4SVe8bds",
                        "locals": []
                      },
                      {
                        "body": [
                          {
                            "expr": "'scrub1 .post_to_wall",
                            "nodeType": "exprStmt",
                            "id": "tKJi8wjRjnpa8sGtfqLMdydh",
                            "locals": []
                          },
                          {
                            "expr": ":code #xVopRHDNIyC1hOganRKkgq9u ,( ,1 ,)",
                            "nodeType": "exprStmt",
                            "id": "xa3Kk2N5TcEpvCtBJZwl48XA",
                            "locals": []
                          }
                        ],
                        "nodeType": "boxed",
                        "id": "TDHAmviIAiLHW6sirvKvmzy2"
                      },
                      {
                        "body": [
                          {
                            "text": "This is the box that shows the number",
                            "nodeType": "comment",
                            "id": "lXm8PTmvWfUG7JuJ0wEjp0Gi"
                          },
                          {
                            "nodeType": "if",
                            "condition": ":data #xARgHi9eNpPsYp38Ud86UZni ,= ,0",
                            "thenBody": [
                              {
                                "expr": ":code #xVopRHDNIyC1hOganRKkgq9u ,( ,1 ,)",
                                "nodeType": "exprStmt",
                                "id": "rbyIcv24v4B9qziBxouFFmFy",
                                "locals": []
                              },
                              {
                                "expr": ":data #RspA0mz4rpRD8o8HYydSK8L9 .post_to_wall",
                                "nodeType": "exprStmt",
                                "id": "v0JJg47wGwZoP9dvHkr4L6n8",
                                "locals": []
                              }
                            ],
                            "elseBody": [
                              {
                                "expr": ":box .edit ,( 'scrub2 ,, :data #RspA0mz4rpRD8o8HYydSK8L9 ,, $d3r6MhGPqxkpGsMX57m6tZeAB0 ,)",
                                "actions": [
                                  {
                                    "inParameters": [
                                      {
                                        "name": "text",
                                        "type": "String",
                                        "nodeType": "localDef",
                                        "id": "d3r6MhGPqxkpGsMX57m6tZeAP0"
                                      }
                                    ],
                                    "outParameters": [],
                                    "body": [
                                      {
                                        "expr": ":data #RspA0mz4rpRD8o8HYydSK8L9 ,:= $d3r6MhGPqxkpGsMX57m6tZeAP0",
                                        "nodeType": "exprStmt",
                                        "id": "smrSyMUqlNr3BGdZgLB3RX5A",
                                        "locals": []
                                      },
                                      {
                                        "expr": ":code #U54MQXXXvWM9hvtRxS3XEcDV",
                                        "nodeType": "exprStmt",
                                        "id": "K2piEnfq4Cl0LQRBGd7dWQfQ",
                                        "locals": []
                                      }
                                    ],
                                    "nodeType": "inlineAction",
                                    "id": "d3r6MhGPqxkpGsMX57m6tZeA",
                                    "locals": [
                                      {
                                        "name": "change x",
                                        "type": "Text Action",
                                        "nodeType": "localDef",
                                        "id": "d3r6MhGPqxkpGsMX57m6tZeAB0"
                                      }
                                    ]
                                  }
                                ],
                                "nodeType": "inlineActions",
                                "id": "xeJlCrlOQfVULN3e4Spp28xT",
                                "locals": []
                              },
                              {
                                "expr": ":code #KyOlbXVZhtPktZ4T5gc0EJX2",
                                "nodeType": "exprStmt",
                                "id": "YRyUKP0rrOK8IxcVbxPlTXGT",
                                "locals": []
                              }
                            ],
                            "isElseIf": false,
                            "id": "x9uie4kUJS8v02vv7JsOfg6a",
                            "locals": []
                          }
                        ],
                        "nodeType": "boxed",
                        "id": "LM1HfYD2xg2CtLY78d4s3o52"
                      }
                    ],
                    "nodeType": "boxed",
                    "id": "IhDcJ8gw3780rQHQifsPkyBx"
                  },
                  {
                    "text": "We do the same for I and R",
                    "nodeType": "comment",
                    "id": "dx3O14PP2yv9h6H3NB287Vuo"
                  },
                  {
                    "body": [
                      {
                        "expr": ":code #XfluYvFud0ri6k21OS2XR1wG",
                        "nodeType": "exprStmt",
                        "id": "r6IdxpXkI964L4WwaYZc0IfF",
                        "locals": []
                      },
                      {
                        "body": [
                          {
                            "expr": "'scrub3 .post_to_wall",
                            "nodeType": "exprStmt",
                            "id": "clzeqtHB3hcD3RisR8EdILNX",
                            "locals": []
                          },
                          {
                            "expr": ":code #xVopRHDNIyC1hOganRKkgq9u ,( ,0 ,)",
                            "nodeType": "exprStmt",
                            "id": "lPYO5RZ2uNFXVWqWu2tsyvdU",
                            "locals": []
                          }
                        ],
                        "nodeType": "boxed",
                        "id": "PU2b1h865J0Bfvk4frJ2WZ4q"
                      },
                      {
                        "body": [
                          {
                            "nodeType": "if",
                            "condition": ":data #xARgHi9eNpPsYp38Ud86UZni ,= ,1",
                            "thenBody": [
                              {
                                "expr": ":code #xVopRHDNIyC1hOganRKkgq9u ,( ,0 ,)",
                                "nodeType": "exprStmt",
                                "id": "xG0IAGyuk9VkH1CQ7IdGiBjS",
                                "locals": []
                              },
                              {
                                "expr": ":data #I5adVn8lEhd1jZ7NGZP62K7C .post_to_wall",
                                "nodeType": "exprStmt",
                                "id": "x2bwgsa0TxlmOqbdKsGU8XH5",
                                "locals": []
                              }
                            ],
                            "elseBody": [
                              {
                                "expr": ":box .edit ,( 'scrub2 ,, :data #I5adVn8lEhd1jZ7NGZP62K7C ,, $xPoDKam2wRBamXJMHfN6D06UB0 ,)",
                                "actions": [
                                  {
                                    "inParameters": [
                                      {
                                        "name": "text",
                                        "type": "String",
                                        "nodeType": "localDef",
                                        "id": "xPoDKam2wRBamXJMHfN6D06UP0"
                                      }
                                    ],
                                    "outParameters": [],
                                    "body": [
                                      {
                                        "expr": ":data #I5adVn8lEhd1jZ7NGZP62K7C ,:= $xPoDKam2wRBamXJMHfN6D06UP0",
                                        "nodeType": "exprStmt",
                                        "id": "zEaGlGGzqIW2Ekit7byyFbJQ",
                                        "locals": []
                                      },
                                      {
                                        "expr": ":code #U54MQXXXvWM9hvtRxS3XEcDV",
                                        "nodeType": "exprStmt",
                                        "id": "NNpKve4FIDhl7tbS7MkHWJaP",
                                        "locals": []
                                      }
                                    ],
                                    "nodeType": "inlineAction",
                                    "id": "xPoDKam2wRBamXJMHfN6D06U",
                                    "locals": [
                                      {
                                        "name": "change y",
                                        "type": "Text Action",
                                        "nodeType": "localDef",
                                        "id": "xPoDKam2wRBamXJMHfN6D06UB0"
                                      }
                                    ]
                                  }
                                ],
                                "nodeType": "inlineActions",
                                "id": "Ulm0FWdZ4ZSRWTnhX7Q0gG2h",
                                "locals": []
                              },
                              {
                                "expr": ":code #KyOlbXVZhtPktZ4T5gc0EJX2",
                                "nodeType": "exprStmt",
                                "id": "WgWNb8mU7mECLRqlFo99uUuu",
                                "locals": []
                              }
                            ],
                            "isElseIf": false,
                            "id": "kG8iXG4aIOaczchcoNo1LTry",
                            "locals": []
                          }
                        ],
                        "nodeType": "boxed",
                        "id": "KAsd5j3ORtJdw4eS2eJk5T26"
                      }
                    ],
                    "nodeType": "boxed",
                    "id": "Rw8D47K0NlkA9zz8o7FSY84m"
                  }
                ],
                "nodeType": "boxed",
                "id": "r1KBv00RemxQGfpuC4MISQU2"
              }
            ],
            "id": "byJKDTPFjRlHAhL8dB0WCCJ7"
          },
          {
            "name": "y",
            "comment": "",
            "type": "String",
            "isReadonly": false,
            "isTransient": false,
            "nodeType": "data",
            "id": "I5adVn8lEhd1jZ7NGZP62K7C"
          },
          {
            "name": "x",
            "comment": "",
            "type": "String",
            "isReadonly": false,
            "isTransient": false,
            "nodeType": "data",
            "id": "RspA0mz4rpRD8o8HYydSK8L9"
          },
          {
            "name": "skin number box",
            "inParameters": [],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "TODO: customize the default style of an editing box",
                "nodeType": "comment",
                "id": "JZRytwDaDvAaOXXPqKbvomIl"
              },
              {
                "expr": ":box .set_background ,( :colors .white ,)",
                "nodeType": "exprStmt",
                "id": "DF16jFCRatwyH3mWWUE3VCVQ",
                "locals": []
              },
              {
                "expr": ":box .set_foreground ,( :colors .black ,)",
                "nodeType": "exprStmt",
                "id": "xmPgAxqJ84yfWW212D2Y4HA7",
                "locals": []
              },
              {
                "expr": ":box .set_horizontal_alignment ,( ,1 ,, ,1 ,)",
                "nodeType": "exprStmt",
                "id": "r71ua85FYGa1sFkc9ib9gJbx",
                "locals": []
              }
            ],
            "id": "KyOlbXVZhtPktZ4T5gc0EJX2"
          },
          {
            "name": "skin number section",
            "inParameters": [],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "TODO: customize the default style of a number section",
                "nodeType": "comment",
                "id": "FAf4r3uzQ5quJd7n4defvxg2"
              },
              {
                "text": "Make it stretch horizontally",
                "nodeType": "comment",
                "id": "jR7rJ31I1LLszJmdBgekxeQr"
              },
              {
                "expr": ":box .set_horizontal_alignment ,( ,1 ,, ,1 ,)",
                "nodeType": "exprStmt",
                "id": "xmKzauIaM1VY2FguBR28flGw",
                "locals": []
              }
            ],
            "id": "XfluYvFud0ri6k21OS2XR1wG"
          },
          {
            "name": "calculate",
            "inParameters": [],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "This action calculates the formula. One of the variable is locked",
                "nodeType": "comment",
                "id": "FiMyPXBmE7hx9OBZJSFUfZ9J"
              },
              {
                "expr": "$xs5BkWiGhCqvkiSmhEy2ueRRL0 ,:= :code #b8fughmdijTJ2ks9SZ0yAeZq ,( :data #RspA0mz4rpRD8o8HYydSK8L9 ,)",
                "nodeType": "exprStmt",
                "id": "xs5BkWiGhCqvkiSmhEy2ueRR",
                "locals": [
                  {
                    "name": "x",
                    "type": "Number",
                    "nodeType": "localDef",
                    "id": "xs5BkWiGhCqvkiSmhEy2ueRRL0"
                  }
                ]
              },
              {
                "expr": "$BqUzQdwZy4T8O7pXuWrD5ATAL0 ,:= :code #b8fughmdijTJ2ks9SZ0yAeZq ,( :data #I5adVn8lEhd1jZ7NGZP62K7C ,)",
                "nodeType": "exprStmt",
                "id": "BqUzQdwZy4T8O7pXuWrD5ATA",
                "locals": [
                  {
                    "name": "y",
                    "type": "Number",
                    "nodeType": "localDef",
                    "id": "BqUzQdwZy4T8O7pXuWrD5ATAL0"
                  }
                ]
              },
              {
                "nodeType": "if",
                "condition": ":data #xARgHi9eNpPsYp38Ud86UZni ,= ,1",
                "thenBody": [
                  {
                    "text": "TODO: update formula",
                    "nodeType": "comment",
                    "id": "xJznocOx8BhyPPywvpyJejDs"
                  },
                  {
                    "expr": ":data #I5adVn8lEhd1jZ7NGZP62K7C ,:= ,( $xs5BkWiGhCqvkiSmhEy2ueRRL0 ,* $xs5BkWiGhCqvkiSmhEy2ueRRL0 ,) .to_string",
                    "nodeType": "exprStmt",
                    "id": "OQ2J7yIsAW2pq3Of86Y2T6O2",
                    "locals": []
                  }
                ],
                "elseBody": [
                  {
                    "text": "TODO: update formula",
                    "nodeType": "comment",
                    "id": "xFGuytbNbystOKBJoY2R5xF7"
                  },
                  {
                    "expr": ":data #RspA0mz4rpRD8o8HYydSK8L9 ,:= :math .sqrt ,( $BqUzQdwZy4T8O7pXuWrD5ATAL0 ,) .to_string",
                    "nodeType": "exprStmt",
                    "id": "MDqms7qetcP2XXBwUKqhErs2",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "WEnJ5h0glYh1LDszm4mIPITj",
                "locals": []
              }
            ],
            "id": "U54MQXXXvWM9hvtRxS3XEcDV"
          },
          {
            "name": "to number or 0",
            "inParameters": [
              {
                "name": "s",
                "type": "String",
                "nodeType": "localDef",
                "id": "b8fughmdijTJ2ks9SZ0yAeZqP0"
              }
            ],
            "outParameters": [
              {
                "name": "v",
                "type": "Number",
                "nodeType": "localDef",
                "id": "b8fughmdijTJ2ks9SZ0yAeZqP1"
              }
            ],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "converts the string to a number or 0 if the format is invalid",
                "nodeType": "comment",
                "id": "xmB0xc1GNo20qlvxntAwv0CJ"
              },
              {
                "expr": "$b8fughmdijTJ2ks9SZ0yAeZqP1 ,:= $b8fughmdijTJ2ks9SZ0yAeZqP0 .to_number",
                "nodeType": "exprStmt",
                "id": "Q63L8VwmcvMAjhNY4uMyo4Yp",
                "locals": []
              },
              {
                "nodeType": "if",
                "condition": "$b8fughmdijTJ2ks9SZ0yAeZqP1 .is_invalid",
                "thenBody": [
                  {
                    "expr": "$b8fughmdijTJ2ks9SZ0yAeZqP1 ,:= ,0",
                    "nodeType": "exprStmt",
                    "id": "r5bztBQle2SronGK3mcqdwoS",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "imDFwj4pKvu6l61VjMAMfLmn",
                "locals": []
              }
            ],
            "id": "b8fughmdijTJ2ks9SZ0yAeZq"
          },
          {
            "name": "locked",
            "comment": "",
            "type": "Number",
            "isReadonly": false,
            "isTransient": false,
            "nodeType": "data",
            "id": "xARgHi9eNpPsYp38Ud86UZni"
          },
          {
            "name": "lock",
            "inParameters": [
              {
                "name": "p",
                "type": "Number",
                "nodeType": "localDef",
                "id": "xVopRHDNIyC1hOganRKkgq9uP0"
              }
            ],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "expr": ":box .on_tapped ,( $TmD25DtpQeBTE2HEpp1ITEgKB0 ,)",
                "actions": [
                  {
                    "inParameters": [],
                    "outParameters": [],
                    "body": [
                      {
                        "text": "We update the locked variable. On the handler is finished running, the page will be displayed again.",
                        "nodeType": "comment",
                        "id": "xaMpyjD8FaHuYgI86yUYBhqo"
                      },
                      {
                        "expr": ":data #xARgHi9eNpPsYp38Ud86UZni ,:= $xVopRHDNIyC1hOganRKkgq9uP0",
                        "nodeType": "exprStmt",
                        "id": "xY5hYIBg5AwtvXksIxTCNHsv",
                        "locals": []
                      }
                    ],
                    "nodeType": "inlineAction",
                    "id": "TmD25DtpQeBTE2HEpp1ITEgK",
                    "locals": [
                      {
                        "name": "tap x",
                        "type": "Action",
                        "nodeType": "localDef",
                        "id": "TmD25DtpQeBTE2HEpp1ITEgKB0"
                      }
                    ]
                  }
                ],
                "nodeType": "inlineActions",
                "id": "I8MPwzaNPqQrgEkMTJbkXkY7",
                "locals": []
              }
            ],
            "id": "xVopRHDNIyC1hOganRKkgq9u"
          }
        ],
        "deletedDecls": [],
        "nodeType": "app",
        "id": "app"
      }
    },
    {
      "seqNo": 1,
      "time": 1377621386,
      "scriptId": null,
      "historyId": "2520246794137513113648791c2-33c1-4549-80f7-83b84fdd2df6",
      "updateSize": 2,
      "updates": {}
    }
  ]
}