{
  "userid": "ajlk",
  "guid": "3b231786-807e-4829-0372-82980a78d597",
  "lastStatus": "unpublished",
  "items": [
    {
      "seqNo": 0,
      "time": 1381122291,
      "scriptId": null,
      "historyId": "2520211785087696580acd370a5-cecd-4b30-9bef-f5d40c6790f4",
      "updateSize": 11599,
      "ast": {
        "textVersion": "v2.2,js,ctx",
        "jsonVersion": "v1.0,resolved,short",
        "name": "chat demo",
        "comment": "A template to create apps using pages.",
        "icon": "AddressBook",
        "autoIcon": "AddressBook",
        "autoColor": "#FF2800",
        "platform": "current",
        "rootId": "xPVLZKRfDmGiasdkBt2RaNR4",
        "showAd": false,
        "isLibrary": false,
        "allowExport": false,
        "hasUniqueIds": true,
        "decls": [
          {
            "nodeType": "library",
            "name": "controls",
            "libIdentifier": "qyrq",
            "libIsPublished": true,
            "scriptName": null,
            "exportedTypes": "",
            "exportedActions": [
              {
                "name": "button",
                "inParameters": [
                  {
                    "name": "text",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "lJS454FPEr4oV0VYaZHd4WxrP0"
                  },
                  {
                    "name": "tapped",
                    "type": "Action",
                    "nodeType": "localDef",
                    "id": "lJS454FPEr4oV0VYaZHd4WxrP1"
                  }
                ],
                "outParameters": [],
                "isPrivate": false,
                "isOffloaded": false,
                "isTest": false,
                "isAsync": false,
                "nodeType": "libAction",
                "parentLibId": "xD9BAbPJDR2yruI8F0FjGH9G",
                "id": "lJS454FPEr4oV0VYaZHd4Wxr"
              },
              {
                "name": "checkbox",
                "inParameters": [
                  {
                    "name": "text",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "qihNeXyqWJiX4gAkyi9W2IsKP0"
                  },
                  {
                    "name": "value",
                    "type": "Boolean",
                    "nodeType": "localDef",
                    "id": "qihNeXyqWJiX4gAkyi9W2IsKP1"
                  },
                  {
                    "name": "on value change",
                    "type": "Boolean Action",
                    "nodeType": "localDef",
                    "id": "qihNeXyqWJiX4gAkyi9W2IsKP2"
                  }
                ],
                "outParameters": [],
                "isPrivate": false,
                "isOffloaded": false,
                "isTest": false,
                "isAsync": false,
                "nodeType": "libAction",
                "parentLibId": "xD9BAbPJDR2yruI8F0FjGH9G",
                "id": "qihNeXyqWJiX4gAkyi9W2IsK"
              },
              {
                "name": "indentation",
                "inParameters": [],
                "outParameters": [
                  {
                    "name": "x",
                    "type": "Number",
                    "nodeType": "localDef",
                    "id": "WemcEa2c4UQrULr33PljNkMCP0"
                  }
                ],
                "isPrivate": false,
                "isOffloaded": false,
                "isTest": false,
                "isAsync": false,
                "nodeType": "libAction",
                "parentLibId": "xD9BAbPJDR2yruI8F0FjGH9G",
                "id": "WemcEa2c4UQrULr33PljNkMC"
              },
              {
                "name": "show example",
                "inParameters": [],
                "outParameters": [],
                "isPrivate": false,
                "isOffloaded": false,
                "isTest": false,
                "isAsync": false,
                "nodeType": "libAction",
                "parentLibId": "xD9BAbPJDR2yruI8F0FjGH9G",
                "id": "zZB05YErYHArhsRUhWjPsrLH"
              },
              {
                "name": "input string collection",
                "inParameters": [
                  {
                    "name": "label",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "R17HOVpIzZzFQG95z8Tf1GGTP0"
                  },
                  {
                    "name": "strings",
                    "type": "String Collection",
                    "nodeType": "localDef",
                    "id": "R17HOVpIzZzFQG95z8Tf1GGTP1"
                  }
                ],
                "outParameters": [],
                "isPrivate": false,
                "isOffloaded": false,
                "isTest": false,
                "isAsync": false,
                "nodeType": "libAction",
                "parentLibId": "xD9BAbPJDR2yruI8F0FjGH9G",
                "id": "R17HOVpIzZzFQG95z8Tf1GGT"
              },
              {
                "name": "input text line",
                "inParameters": [
                  {
                    "name": "label",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "cd3GLEf2cDCezZ8GyIh9OUxLP0"
                  },
                  {
                    "name": "value",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "cd3GLEf2cDCezZ8GyIh9OUxLP1"
                  },
                  {
                    "name": "on value change",
                    "type": "Text Action",
                    "nodeType": "localDef",
                    "id": "cd3GLEf2cDCezZ8GyIh9OUxLP2"
                  }
                ],
                "outParameters": [],
                "isPrivate": false,
                "isOffloaded": false,
                "isTest": false,
                "isAsync": false,
                "nodeType": "libAction",
                "parentLibId": "xD9BAbPJDR2yruI8F0FjGH9G",
                "id": "cd3GLEf2cDCezZ8GyIh9OUxL"
              },
              {
                "name": "input text area",
                "inParameters": [
                  {
                    "name": "label",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "RynAdFP4ZNGwFRFA8wymHG6UP0"
                  },
                  {
                    "name": "value",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "RynAdFP4ZNGwFRFA8wymHG6UP1"
                  },
                  {
                    "name": "on value change",
                    "type": "Text Action",
                    "nodeType": "localDef",
                    "id": "RynAdFP4ZNGwFRFA8wymHG6UP2"
                  }
                ],
                "outParameters": [],
                "isPrivate": false,
                "isOffloaded": false,
                "isTest": false,
                "isAsync": false,
                "nodeType": "libAction",
                "parentLibId": "xD9BAbPJDR2yruI8F0FjGH9G",
                "id": "RynAdFP4ZNGwFRFA8wymHG6U"
              },
              {
                "name": "input password",
                "inParameters": [
                  {
                    "name": "label",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "fVl91qHNtT2BQRfrNDGKiSB7P0"
                  },
                  {
                    "name": "value",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "fVl91qHNtT2BQRfrNDGKiSB7P1"
                  },
                  {
                    "name": "on value change",
                    "type": "Text Action",
                    "nodeType": "localDef",
                    "id": "fVl91qHNtT2BQRfrNDGKiSB7P2"
                  }
                ],
                "outParameters": [],
                "isPrivate": false,
                "isOffloaded": false,
                "isTest": false,
                "isAsync": false,
                "nodeType": "libAction",
                "parentLibId": "xD9BAbPJDR2yruI8F0FjGH9G",
                "id": "fVl91qHNtT2BQRfrNDGKiSB7"
              },
              {
                "name": "input number",
                "inParameters": [
                  {
                    "name": "label",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "L1QnwBlKauqVhVnG4GHnyGGtP0"
                  },
                  {
                    "name": "value",
                    "type": "Number",
                    "nodeType": "localDef",
                    "id": "L1QnwBlKauqVhVnG4GHnyGGtP1"
                  },
                  {
                    "name": "on value change",
                    "type": "Number Action",
                    "nodeType": "localDef",
                    "id": "L1QnwBlKauqVhVnG4GHnyGGtP2"
                  }
                ],
                "outParameters": [],
                "isPrivate": false,
                "isOffloaded": false,
                "isTest": false,
                "isAsync": false,
                "nodeType": "libAction",
                "parentLibId": "xD9BAbPJDR2yruI8F0FjGH9G",
                "id": "L1QnwBlKauqVhVnG4GHnyGGt"
              }
            ],
            "resolveClauses": [],
            "id": "xD9BAbPJDR2yruI8F0FjGH9G"
          },
          {
            "nodeType": "library",
            "name": "theme",
            "libIdentifier": "dmuva",
            "libIsPublished": true,
            "scriptName": null,
            "exportedTypes": "",
            "exportedActions": [
              {
                "name": "title 1",
                "inParameters": [
                  {
                    "name": "text",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "SgonRb2I6lBjcuj4M54yVyULP0"
                  }
                ],
                "outParameters": [],
                "isPrivate": false,
                "isOffloaded": false,
                "isTest": false,
                "isAsync": false,
                "nodeType": "libAction",
                "parentLibId": "FQP6qc7w5kRGlWY1B4OXqrgX",
                "id": "SgonRb2I6lBjcuj4M54yVyUL"
              },
              {
                "name": "title 2",
                "inParameters": [
                  {
                    "name": "text",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "K9Ue3ZbY5yE7K5EiJVblq34nP0"
                  }
                ],
                "outParameters": [],
                "isPrivate": false,
                "isOffloaded": false,
                "isTest": false,
                "isAsync": false,
                "nodeType": "libAction",
                "parentLibId": "FQP6qc7w5kRGlWY1B4OXqrgX",
                "id": "K9Ue3ZbY5yE7K5EiJVblq34n"
              },
              {
                "name": "title 3",
                "inParameters": [
                  {
                    "name": "text",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "MLxs7euDsUrGBHPHMvqmKseBP0"
                  }
                ],
                "outParameters": [],
                "isPrivate": false,
                "isOffloaded": false,
                "isTest": false,
                "isAsync": false,
                "nodeType": "libAction",
                "parentLibId": "FQP6qc7w5kRGlWY1B4OXqrgX",
                "id": "MLxs7euDsUrGBHPHMvqmKseB"
              },
              {
                "name": "subtle",
                "inParameters": [
                  {
                    "name": "text",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "Ii5VCwWlxf1o6MCHdsDT6SGNP0"
                  }
                ],
                "outParameters": [],
                "isPrivate": false,
                "isOffloaded": false,
                "isTest": false,
                "isAsync": false,
                "nodeType": "libAction",
                "parentLibId": "FQP6qc7w5kRGlWY1B4OXqrgX",
                "id": "Ii5VCwWlxf1o6MCHdsDT6SGN"
              },
              {
                "name": "normal",
                "inParameters": [
                  {
                    "name": "text",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "xOQv049aamUJyJg3Y4oCVtrdP0"
                  }
                ],
                "outParameters": [],
                "isPrivate": false,
                "isOffloaded": false,
                "isTest": false,
                "isAsync": false,
                "nodeType": "libAction",
                "parentLibId": "FQP6qc7w5kRGlWY1B4OXqrgX",
                "id": "xOQv049aamUJyJg3Y4oCVtrd"
              },
              {
                "name": "example",
                "inParameters": [],
                "outParameters": [],
                "isPrivate": false,
                "isOffloaded": false,
                "isTest": false,
                "isAsync": false,
                "nodeType": "libAction",
                "parentLibId": "FQP6qc7w5kRGlWY1B4OXqrgX",
                "id": "sTf0ctBSRWzc5DeIbq2Ff6C0"
              },
              {
                "name": "accent",
                "inParameters": [
                  {
                    "name": "text",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "hmGMoatYWi0Yj26HRKF4Ks1uP0"
                  }
                ],
                "outParameters": [],
                "isPrivate": false,
                "isOffloaded": false,
                "isTest": false,
                "isAsync": false,
                "nodeType": "libAction",
                "parentLibId": "FQP6qc7w5kRGlWY1B4OXqrgX",
                "id": "hmGMoatYWi0Yj26HRKF4Ks1u"
              },
              {
                "name": "set right aligned",
                "inParameters": [
                  {
                    "name": "value",
                    "type": "Boolean",
                    "nodeType": "localDef",
                    "id": "lL2pjhGgV4iV6XbdCudsIjeYP0"
                  }
                ],
                "outParameters": [],
                "isPrivate": false,
                "isOffloaded": false,
                "isTest": false,
                "isAsync": false,
                "nodeType": "libAction",
                "parentLibId": "FQP6qc7w5kRGlWY1B4OXqrgX",
                "id": "lL2pjhGgV4iV6XbdCudsIjeY"
              }
            ],
            "resolveClauses": [],
            "id": "FQP6qc7w5kRGlWY1B4OXqrgX"
          },
          {
            "name": "main",
            "inParameters": [],
            "outParameters": [],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "page",
            "initBody": [
              {
                "expr": ":cloud_data .switch_to_session ,( :cloud_data .everyone_session ,)",
                "nodeType": "exprStmt",
                "id": "F18MrWnMPQB0CWYaiYvSThSi",
                "locals": []
              }
            ],
            "displayBody": [
              {
                "collection": ":records #kpZxFMB9q9h1hhlmsDBgctyP",
                "conditions": [
                  {
                    "condition": "T",
                    "nodeType": "where",
                    "id": "FLtww0tr7CglyPmYlyL4EoaT",
                    "locals": []
                  }
                ],
                "body": [
                  {
                    "body": [
                      {
                        "expr": ":box .use_horizontal_layout",
                        "nodeType": "exprStmt",
                        "id": "OM811ZOOp94EP2IT2lg427T5",
                        "locals": []
                      },
                      {
                        "expr": ":box .set_margins ,( ,0 ,, ,0 ,, ,0 ,, ,1 ,)",
                        "nodeType": "exprStmt",
                        "id": "LmOxxJAHsSoLH6xnlWV3sz4e",
                        "locals": []
                      },
                      {
                        "body": [
                          {
                            "expr": ":box .set_font_weight ,( 'scrub0 ,)",
                            "nodeType": "exprStmt",
                            "id": "MZZkq18XXvQw2W2XBmm2yPVv",
                            "locals": []
                          },
                          {
                            "expr": ":box .set_margins ,( ,0 ,, ,0 ,. ,5 ,, ,0 ,, ,0 ,)",
                            "nodeType": "exprStmt",
                            "id": "L2vUtqFITTz8CgxpsEgUtdTz",
                            "locals": []
                          },
                          {
                            "expr": "$xp68MTlOZtth0c3WNc1xFkUKL0 ,:= :bazaar .user_of ,( $mPj4jxphsgVkyn5bc19lGHmRB0 .userid .get ,)",
                            "nodeType": "exprStmt",
                            "id": "xp68MTlOZtth0c3WNc1xFkUK",
                            "locals": [
                              {
                                "name": "user",
                                "type": "User",
                                "nodeType": "localDef",
                                "id": "xp68MTlOZtth0c3WNc1xFkUKL0"
                              }
                            ]
                          },
                          {
                            "nodeType": "if",
                            "condition": "$xp68MTlOZtth0c3WNc1xFkUKL0 .is_invalid",
                            "thenBody": [
                              {
                                "expr": "$mPj4jxphsgVkyn5bc19lGHmRB0 .userid .get .post_to_wall",
                                "nodeType": "exprStmt",
                                "id": "MSrdXuAeRQKdka4S8ulljOIR",
                                "locals": []
                              }
                            ],
                            "elseBody": [
                              {
                                "expr": "$xp68MTlOZtth0c3WNc1xFkUKL0 .name .post_to_wall",
                                "nodeType": "exprStmt",
                                "id": "vTFCSpFI2Fxd6iVuhlijGrlM",
                                "locals": []
                              }
                            ],
                            "isElseIf": false,
                            "id": "APwgshoZffR7EqtUI39Kf6Jl",
                            "locals": []
                          }
                        ],
                        "nodeType": "boxed",
                        "id": "IkvwpvlbbGZQnQOw0lZuVsiw"
                      },
                      {
                        "body": [
                          {
                            "expr": "$mPj4jxphsgVkyn5bc19lGHmRB0 .text .get .post_to_wall",
                            "nodeType": "exprStmt",
                            "id": "xOqomy6Foyn9zHddpg4z4utn",
                            "locals": []
                          }
                        ],
                        "nodeType": "boxed",
                        "id": "JcP3wNs5T6xoiVkX4B8SY2mY"
                      }
                    ],
                    "nodeType": "boxed",
                    "id": "xeTEnxaZ5zjlcMJJQxyisbce"
                  }
                ],
                "nodeType": "foreach",
                "id": "mPj4jxphsgVkyn5bc19lGHmR",
                "locals": [
                  {
                    "name": "message",
                    "type": "{\"o\":\"message\"}",
                    "nodeType": "localDef",
                    "id": "mPj4jxphsgVkyn5bc19lGHmRB0"
                  }
                ]
              },
              {
                "body": [
                  {
                    "expr": ":box .use_horizontal_layout",
                    "nodeType": "exprStmt",
                    "id": "YZSb6TGUXRGYhX32YF4Pyc4S",
                    "locals": []
                  },
                  {
                    "expr": ":/267b #xD9BAbPJDR2yruI8F0FjGH9G #RynAdFP4ZNGwFRFA8wymHG6U ,( ' ,, :data #d5SYFXhGzPFo2tz3fhoX0cng ,, $FXoEIVqBUWcuKduZca2il7M3B0 ,)",
                    "actions": [
                      {
                        "inParameters": [
                          {
                            "name": "text",
                            "type": "String",
                            "nodeType": "localDef",
                            "id": "FXoEIVqBUWcuKduZca2il7M3P0"
                          }
                        ],
                        "outParameters": [],
                        "body": [
                          {
                            "expr": ":data #d5SYFXhGzPFo2tz3fhoX0cng ,:= $FXoEIVqBUWcuKduZca2il7M3P0",
                            "nodeType": "exprStmt",
                            "id": "qZJA2NBpecCdBSEUJkOvykd4",
                            "locals": []
                          }
                        ],
                        "nodeType": "inlineAction",
                        "id": "FXoEIVqBUWcuKduZca2il7M3",
                        "locals": [
                          {
                            "name": "on value change",
                            "type": "Text Action",
                            "nodeType": "localDef",
                            "id": "FXoEIVqBUWcuKduZca2il7M3B0"
                          }
                        ]
                      }
                    ],
                    "nodeType": "inlineActions",
                    "id": "uS2Tmbs0jtDRhFAxO3tWwju6",
                    "locals": []
                  },
                  {
                    "expr": ":/267b #xD9BAbPJDR2yruI8F0FjGH9G #lJS454FPEr4oV0VYaZHd4Wxr ,( 'scrub1 ,, $xui8z81LTRb5ADT2YL8Zys9IB0 ,)",
                    "actions": [
                      {
                        "inParameters": [],
                        "outParameters": [],
                        "body": [
                          {
                            "expr": "$JQ4fGhOD8S23ZlV3nGkvKMrQL0 ,:= :records #kpZxFMB9q9h1hhlmsDBgctyP .add_row",
                            "nodeType": "exprStmt",
                            "id": "JQ4fGhOD8S23ZlV3nGkvKMrQ",
                            "locals": [
                              {
                                "name": "message2",
                                "type": "{\"o\":\"message\"}",
                                "nodeType": "localDef",
                                "id": "JQ4fGhOD8S23ZlV3nGkvKMrQL0"
                              }
                            ]
                          },
                          {
                            "expr": "$JQ4fGhOD8S23ZlV3nGkvKMrQL0 .userid .set ,( :bazaar .current_user .id ,)",
                            "nodeType": "exprStmt",
                            "id": "xFnhW2SyzQElj6KTDJM2qsHx",
                            "locals": []
                          },
                          {
                            "expr": "$JQ4fGhOD8S23ZlV3nGkvKMrQL0 .text .set ,( :data #d5SYFXhGzPFo2tz3fhoX0cng ,)",
                            "nodeType": "exprStmt",
                            "id": "f4dLcuxXJNnt11viJ9nO5bbu",
                            "locals": []
                          },
                          {
                            "expr": ":data #d5SYFXhGzPFo2tz3fhoX0cng ,:= '",
                            "nodeType": "exprStmt",
                            "id": "SqJHsu1zpPY9YT5jzS69ucdM",
                            "locals": []
                          }
                        ],
                        "nodeType": "inlineAction",
                        "id": "xui8z81LTRb5ADT2YL8Zys9I",
                        "locals": [
                          {
                            "name": "tapped",
                            "type": "Action",
                            "nodeType": "localDef",
                            "id": "xui8z81LTRb5ADT2YL8Zys9IB0"
                          }
                        ]
                      }
                    ],
                    "nodeType": "inlineActions",
                    "id": "xsF7xYmXS5KAjD4LwAk7kuf2",
                    "locals": []
                  }
                ],
                "nodeType": "boxed",
                "id": "nWVgga6h7bdbY0kQICj5f7ky"
              }
            ],
            "id": "t23nHTf84VcC6C8qEGs1PMr4"
          },
          {
            "nodeType": "record",
            "name": "message",
            "sourceName": "message table",
            "comment": "",
            "category": "table",
            "isCloudEnabled": true,
            "keys": [],
            "fields": [
              {
                "nodeType": "recordField",
                "name": "userid",
                "type": "String",
                "id": "QmXlWX3UGsalIYwFhgsG85qM"
              },
              {
                "nodeType": "recordField",
                "name": "text",
                "type": "String",
                "id": "rRlVMI5zIyStJOj4MNkUraDy"
              }
            ],
            "id": "kpZxFMB9q9h1hhlmsDBgctyP"
          },
          {
            "name": "s",
            "comment": "",
            "type": "String",
            "isReadonly": false,
            "isTransient": true,
            "nodeType": "data",
            "id": "d5SYFXhGzPFo2tz3fhoX0cng"
          }
        ],
        "deletedDecls": [],
        "nodeType": "app",
        "id": "app"
      }
    },
    {
      "seqNo": 1,
      "time": 1381122295,
      "scriptId": null,
      "historyId": "25202117850444194850e4abeaa-2966-4107-809e-65380e841b48",
      "updateSize": 2,
      "updates": {}
    }
  ]
}