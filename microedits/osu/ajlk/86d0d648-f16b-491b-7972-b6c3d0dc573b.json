{
  "userid": "ajlk",
  "guid": "86d0d648-f16b-491b-7972-b6c3d0dc573b",
  "lastStatus": "deleted",
  "items": [
    {
      "seqNo": 0,
      "time": 1363631896,
      "scriptId": null,
      "historyId": "2520386689039753154f9e5bd9a-27af-45a7-bc6a-38fecdc859ee",
      "updateSize": 21377,
      "ast": {
        "textVersion": "v2.2,js,ctx",
        "jsonVersion": "v1.0,resolved,short",
        "name": "facebook",
        "comment": "Allows to create requests against the Facebook Graph APIs.",
        "icon": "AddUser",
        "autoIcon": "AddUser",
        "autoColor": "#A1CAF1",
        "platform": "current",
        "rootId": "fDRy8CKcybU0B3InEeoIbm96",
        "showAd": false,
        "isLibrary": true,
        "allowExport": true,
        "hasUniqueIds": false,
        "decls": [
          {
            "name": "example",
            "inParameters": [],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": true,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "This library provides the building blocks to do Facebook Graph API requests (http://developers.facebook.com/docs/reference/apis/).",
                "nodeType": "comment",
                "id": "ydna13cQa7xuU39SXRO288D9"
              },
              {
                "text": "## Registering a Facebook app",
                "nodeType": "comment",
                "id": "XPQyUnHgz2xZg1rxoiujNj64"
              },
              {
                "text": "Before you get started, you will need to create a Facebook app (if you have not done so). Start from here:",
                "nodeType": "comment",
                "id": "D1LtI242S82IFFI4TH52l4CH"
              },
              {
                "text": "* https://developers.facebook.com/apps",
                "nodeType": "comment",
                "id": "YcthTmGDG4UU2CZK7UjX6bwG"
              },
              {
                "text": "Once you've created your Facebook app, expand the `Website with Facebook Login` tab and enter the following url:",
                "nodeType": "comment",
                "id": "d2Dh4dXeGaIQaJodor03tOOr"
              },
              {
                "text": "* https://www.touchdevelop.com/[userid]/oauth",
                "nodeType": "comment",
                "id": "lt0YX4q8uLELc18lr011ajgq"
              },
              {
                "text": "where `[userid]` should be replaced with your TouchDevelop user id. That is the funny word listed under your name in the hub (`/xyz`).",
                "nodeType": "comment",
                "id": "vt2XQS6jkgrPKLE66vlUumuv"
              },
              {
                "text": "## Authentication",
                "nodeType": "comment",
                "id": "wZq57V4IFcRh4Z7ibhNvdUeU"
              },
              {
                "text": "Grab your Facebook App ID (NOT the secret!) and pass it to the `authentication` action. Do not worry about leaking this id; it is designed to be public.",
                "nodeType": "comment",
                "id": "X8derXjmEGSY9BJlRnSXrI6m"
              },
              {
                "expr": "$I9LaDTRVLAkmIifJPFkeZvY5L0 ,:= 'scrub0",
                "nodeType": "exprStmt",
                "id": "I9LaDTRVLAkmIifJPFkeZvY5",
                "locals": [
                  {
                    "name": "application id",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "I9LaDTRVLAkmIifJPFkeZvY5L0"
                  }
                ]
              },
              {
                "expr": ":code #Gp2Kf2Z0k4GcCjezedRTNh22 ,( $I9LaDTRVLAkmIifJPFkeZvY5L0 ,)",
                "nodeType": "exprStmt",
                "id": "TBvB7Nqzl3EXmeimzxVX4RpT",
                "locals": []
              },
              {
                "text": "## Posting to the Facebool wall",
                "nodeType": "comment",
                "id": "bTfYOxgtW4Ls2ohwYFWsU2wk"
              },
              {
                "text": "A common Facebook activity is to post a message to your wall. This is done through the `post text`, `post message` or `post link` actions.",
                "nodeType": "comment",
                "id": "xFW6NX3MdkHy024pkarQMJAG"
              },
              {
                "text": "* posting a simple message",
                "nodeType": "comment",
                "id": "t7z0v3SLkfZ6l9CaxDrJ3NLv"
              },
              {
                "expr": "$n2sV32VlKxBR48Y46Imq8ETuL0 ,:= :code #pY5eO2KTZyH8DtKML1vwo2RK ,( 'TouchDevelop_is_cool/0021 ,)",
                "nodeType": "exprStmt",
                "id": "n2sV32VlKxBR48Y46Imq8ETu",
                "locals": [
                  {
                    "name": "id",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "n2sV32VlKxBR48Y46Imq8ETuL0"
                  }
                ]
              },
              {
                "expr": ",( 'scrub1 ,∥ $n2sV32VlKxBR48Y46Imq8ETuL0 ,) .post_to_wall",
                "nodeType": "exprStmt",
                "id": "Zki9NwBAAaRWjQE68uFSbhET",
                "locals": []
              },
              {
                "text": "* posting a link",
                "nodeType": "comment",
                "id": "vbz1x4KqUdfXNr567GzK8Udh"
              },
              {
                "expr": "$n2sV32VlKxBR48Y46Imq8ETuL0 ,:= :code #MrApCZAZ1vG2C5APdKGcxLFa ,( 'scrub2 ,, :web .link_url ,( 'scrub3 ,, 'scrub4 ,) ,)",
                "nodeType": "exprStmt",
                "id": "xUuIasyIzlJhqHcnEYd5FQpP",
                "locals": []
              },
              {
                "expr": ",( 'scrub5 ,∥ $n2sV32VlKxBR48Y46Imq8ETuL0 ,) .post_to_wall",
                "nodeType": "exprStmt",
                "id": "QjW27IgEO2bOJnTGuRQSnG1C",
                "locals": []
              },
              {
                "text": "* posting a message",
                "nodeType": "comment",
                "id": "PsuiPusVTZ0OcUXbY3M0z5fg"
              },
              {
                "expr": "$Ew8ih0oBsuWE9b8r4KDrbb2IL0 ,:= :social .create_message ,( 'scrub2 ,)",
                "nodeType": "exprStmt",
                "id": "Ew8ih0oBsuWE9b8r4KDrbb2I",
                "locals": [
                  {
                    "name": "msg",
                    "type": "Message",
                    "nodeType": "localDef",
                    "id": "Ew8ih0oBsuWE9b8r4KDrbb2IL0"
                  }
                ]
              },
              {
                "expr": "$Ew8ih0oBsuWE9b8r4KDrbb2IL0 .set_link ,( 'scrub4 ,)",
                "nodeType": "exprStmt",
                "id": "sNbtCtXcYEb9ZsoPczDDTG4V",
                "locals": []
              },
              {
                "expr": "$n2sV32VlKxBR48Y46Imq8ETuL0 ,:= :code #x38rUwRAbvQvQew2wrZIxGsg ,( $Ew8ih0oBsuWE9b8r4KDrbb2IL0 ,)",
                "nodeType": "exprStmt",
                "id": "KgqWAczguF21qeyEyQAwArcZ",
                "locals": []
              },
              {
                "expr": ",( 'scrub6 ,∥ $n2sV32VlKxBR48Y46Imq8ETuL0 ,) .post_to_wall",
                "nodeType": "exprStmt",
                "id": "Gn3EHIrVYR6fe3L5hGS8Y0jm",
                "locals": []
              },
              {
                "text": "## Creating requests",
                "nodeType": "comment",
                "id": "ZJPVxsSfzCY6DQrxWsoaJdK9"
              },
              {
                "text": "You can use the `create request` action to craft more specialized requests against the Facebook Graph API.",
                "nodeType": "comment",
                "id": "cSBDYHaZgq1Jhp3AAiDXjwIM"
              },
              {
                "text": "The library will append the access token as needed; and will refresh the token if necessary.",
                "nodeType": "comment",
                "id": "jF0pbhgqEiZ8jbdMmpq00nWl"
              },
              {
                "expr": "$n6k2M1ESO16mOcqIxVyKqDctL0 ,:= :code #xwljF4TyxroiLHa4OxA7wExx ,( 'me ,, ' ,)",
                "nodeType": "exprStmt",
                "id": "n6k2M1ESO16mOcqIxVyKqDct",
                "locals": [
                  {
                    "name": "request",
                    "type": "Web Request",
                    "nodeType": "localDef",
                    "id": "n6k2M1ESO16mOcqIxVyKqDctL0"
                  }
                ]
              },
              {
                "text": "Once you have the request object, you can set the additional parameters and send it away!",
                "nodeType": "comment",
                "id": "xXWE3WD9K4ACOa8d186jjGMd"
              },
              {
                "expr": "$xG8K2hWR0nzejYq6maXNqCCRL0 ,:= $n6k2M1ESO16mOcqIxVyKqDctL0 .send",
                "nodeType": "exprStmt",
                "id": "xG8K2hWR0nzejYq6maXNqCCR",
                "locals": [
                  {
                    "name": "response",
                    "type": "Web Response",
                    "nodeType": "localDef",
                    "id": "xG8K2hWR0nzejYq6maXNqCCRL0"
                  }
                ]
              },
              {
                "expr": "$xG8K2hWR0nzejYq6maXNqCCRL0 .post_to_wall",
                "nodeType": "exprStmt",
                "id": "sJTl2vXQ4MxWEVXIBWS5Wc3B",
                "locals": []
              }
            ],
            "id": "cpS4gTW5qwgIKd2rV8jgEWp6"
          },
          {
            "name": "authenticate",
            "inParameters": [
              {
                "name": "application id",
                "type": "String",
                "nodeType": "localDef",
                "id": "Gp2Kf2Z0k4GcCjezedRTNh22P0"
              }
            ],
            "outParameters": [],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "Authenticates the user with the given application.",
                "nodeType": "comment",
                "id": "WON6laoHT2VUFShfYSRKnUCu"
              },
              {
                "nodeType": "if",
                "condition": "$Gp2Kf2Z0k4GcCjezedRTNh22P0 .is_invalid",
                "thenBody": [
                  {
                    "expr": "$Gp2Kf2Z0k4GcCjezedRTNh22P0 ,:= '",
                    "nodeType": "exprStmt",
                    "id": "IPWUwj4cYyqO6Fh5t29m2ALw",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "M6UC0mAtEAf2nZNFmLw3lszi",
                "locals": []
              },
              {
                "expr": "$J4pM56BtuggyxFJCZ4CYxYccL0 ,:= :data #gAxGJMt4PhfD8gX6JMUz4CCI .is_invalid ,or :data #gAxGJMt4PhfD8gX6JMUz4CCI .access_token .is_invalid ,or :data #qXwSSt9T2qSNy2h7ouNsUZ1O .is_invalid ,or ,not :data #qXwSSt9T2qSNy2h7ouNsUZ1O .equals ,( $Gp2Kf2Z0k4GcCjezedRTNh22P0 ,)",
                "nodeType": "exprStmt",
                "id": "J4pM56BtuggyxFJCZ4CYxYcc",
                "locals": [
                  {
                    "name": "needs refresh",
                    "type": "Boolean",
                    "nodeType": "localDef",
                    "id": "J4pM56BtuggyxFJCZ4CYxYccL0"
                  }
                ]
              },
              {
                "nodeType": "if",
                "condition": "$J4pM56BtuggyxFJCZ4CYxYccL0",
                "thenBody": [
                  {
                    "expr": ":data #qXwSSt9T2qSNy2h7ouNsUZ1O ,:= $Gp2Kf2Z0k4GcCjezedRTNh22P0",
                    "nodeType": "exprStmt",
                    "id": "fqqravH4Z71yCN2MG2GyEhGS",
                    "locals": []
                  },
                  {
                    "nodeType": "if",
                    "condition": "$Gp2Kf2Z0k4GcCjezedRTNh22P0 .is_empty",
                    "thenBody": [
                      {
                        "expr": ":data #gAxGJMt4PhfD8gX6JMUz4CCI ,:= :invalid .oauth_response",
                        "nodeType": "exprStmt",
                        "id": "mGJATvdT4v2HrZCB3RoYe7us",
                        "locals": []
                      }
                    ],
                    "elseBody": [
                      {
                        "expr": "$DTvJq6SSrWqtco449piTVA41L0 ,:= 'scrub7 ,∥ :web .url_encode ,( :data #qXwSSt9T2qSNy2h7ouNsUZ1O ,)",
                        "nodeType": "exprStmt",
                        "id": "DTvJq6SSrWqtco449piTVA41",
                        "locals": [
                          {
                            "name": "url",
                            "type": "String",
                            "nodeType": "localDef",
                            "id": "DTvJq6SSrWqtco449piTVA41L0"
                          }
                        ]
                      },
                      {
                        "expr": ":data #gAxGJMt4PhfD8gX6JMUz4CCI ,:= :web .oauth_v2 ,( $DTvJq6SSrWqtco449piTVA41L0 ,)",
                        "nodeType": "exprStmt",
                        "id": "vYDbeMcv4PzOhfQPP2OSLcph",
                        "locals": []
                      }
                    ],
                    "isElseIf": false,
                    "id": "eD3BtZBanIEKtYKzb4oi8BdC",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "zxja7nJN28dnLYeXsISpEZvO",
                "locals": []
              }
            ],
            "id": "Gp2Kf2Z0k4GcCjezedRTNh22"
          },
          {
            "name": "create request",
            "inParameters": [
              {
                "name": "graph path",
                "type": "String",
                "nodeType": "localDef",
                "id": "xwljF4TyxroiLHa4OxA7wExxP0"
              },
              {
                "name": "query arguments",
                "type": "String",
                "nodeType": "localDef",
                "id": "xwljF4TyxroiLHa4OxA7wExxP1"
              }
            ],
            "outParameters": [
              {
                "name": "request",
                "type": "Web Request",
                "nodeType": "localDef",
                "id": "xwljF4TyxroiLHa4OxA7wExxP2"
              }
            ],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "Creates a Facebook Graph request with the given path and additional query arguments. Authenticates the user if needed. Returns invalid if authentication failed.",
                "nodeType": "comment",
                "id": "u3Px34rs7NEGK4NuYJnQnugB"
              },
              {
                "expr": ":code #Gp2Kf2Z0k4GcCjezedRTNh22 ,( :data #qXwSSt9T2qSNy2h7ouNsUZ1O ,)",
                "nodeType": "exprStmt",
                "id": "SFe7K6ZtsPxHyf2WaHR9yfJL",
                "locals": []
              },
              {
                "nodeType": "if",
                "condition": ":data #gAxGJMt4PhfD8gX6JMUz4CCI .access_token .is_invalid",
                "thenBody": [
                  {
                    "expr": "$xwljF4TyxroiLHa4OxA7wExxP2 ,:= :invalid .web_request",
                    "nodeType": "exprStmt",
                    "id": "xH7arCS1DFhBNAQzeizTiSpl",
                    "locals": []
                  }
                ],
                "elseBody": [
                  {
                    "expr": "$bkb4J5oFkPGz2oe4sO6VPHC9L0 ,:= 'scrub8 ,∥ $xwljF4TyxroiLHa4OxA7wExxP0 .trim_start ,( '/002f ,) ,∥ 'scrub9 ,∥ :data #gAxGJMt4PhfD8gX6JMUz4CCI .access_token",
                    "nodeType": "exprStmt",
                    "id": "bkb4J5oFkPGz2oe4sO6VPHC9",
                    "locals": [
                      {
                        "name": "url",
                        "type": "String",
                        "nodeType": "localDef",
                        "id": "bkb4J5oFkPGz2oe4sO6VPHC9L0"
                      }
                    ]
                  },
                  {
                    "nodeType": "if",
                    "condition": ",not $xwljF4TyxroiLHa4OxA7wExxP1 .is_empty",
                    "thenBody": [
                      {
                        "expr": "$bkb4J5oFkPGz2oe4sO6VPHC9L0 ,:= $bkb4J5oFkPGz2oe4sO6VPHC9L0 ,∥ '/0026 ,∥ $xwljF4TyxroiLHa4OxA7wExxP1",
                        "nodeType": "exprStmt",
                        "id": "HIHUXKrRQnp2HV6y4O7BY7wi",
                        "locals": []
                      }
                    ],
                    "isElseIf": false,
                    "id": "Ts4mt2cMgGZ71i4cMK23bqM0",
                    "locals": []
                  },
                  {
                    "expr": "$xwljF4TyxroiLHa4OxA7wExxP2 ,:= :web .create_request ,( $bkb4J5oFkPGz2oe4sO6VPHC9L0 ,)",
                    "nodeType": "exprStmt",
                    "id": "qXhFQ4FR3MBBDBBqUTEgJNnX",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "XIPZzS24X5uamlDPSjUOnx3U",
                "locals": []
              }
            ],
            "id": "xwljF4TyxroiLHa4OxA7wExx"
          },
          {
            "name": "oauth res",
            "comment": "",
            "type": "OAuth Response",
            "isReadonly": false,
            "isTransient": false,
            "nodeType": "data",
            "id": "gAxGJMt4PhfD8gX6JMUz4CCI"
          },
          {
            "name": "application id",
            "comment": "",
            "type": "String",
            "isReadonly": false,
            "isTransient": false,
            "nodeType": "data",
            "id": "qXwSSt9T2qSNy2h7ouNsUZ1O"
          },
          {
            "name": "post text",
            "inParameters": [
              {
                "name": "message",
                "type": "String",
                "nodeType": "localDef",
                "id": "pY5eO2KTZyH8DtKML1vwo2RKP0"
              }
            ],
            "outParameters": [
              {
                "name": "id",
                "type": "String",
                "nodeType": "localDef",
                "id": "pY5eO2KTZyH8DtKML1vwo2RKP1"
              }
            ],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "Posts a message to the current user Facebook wall and returns the ID of the generated message if successfull. Requires `publish_stream` scope.",
                "nodeType": "comment",
                "id": "pLZfVSHV1izuuKkhhbgCGzFT"
              },
              {
                "expr": "$JjAoMTDhAiVJX6SRHgqihW2wL0 ,:= :code #xwljF4TyxroiLHa4OxA7wExx ,( 'me ,, 'scrub10 ,∥ :web .url_encode ,( $pY5eO2KTZyH8DtKML1vwo2RKP0 ,) ,)",
                "nodeType": "exprStmt",
                "id": "JjAoMTDhAiVJX6SRHgqihW2w",
                "locals": [
                  {
                    "name": "request",
                    "type": "Web Request",
                    "nodeType": "localDef",
                    "id": "JjAoMTDhAiVJX6SRHgqihW2wL0"
                  }
                ]
              },
              {
                "expr": "$pY5eO2KTZyH8DtKML1vwo2RKP1 ,:= '",
                "nodeType": "exprStmt",
                "id": "uBuzXsi6HCcFJYSPRBii9ohX",
                "locals": []
              },
              {
                "nodeType": "if",
                "condition": ",not $JjAoMTDhAiVJX6SRHgqihW2wL0 .is_invalid",
                "thenBody": [
                  {
                    "expr": "$JjAoMTDhAiVJX6SRHgqihW2wL0 .set_method ,( 'scrub11 ,)",
                    "nodeType": "exprStmt",
                    "id": "nXXOlqYpdyZZfWbrCkoZ88n7",
                    "locals": []
                  },
                  {
                    "expr": "$gNcDFCbW6GXmO4ujMxfNF4g2L0 ,:= :code #xSQ2Xl3XNjDN7J4UhI16KlEW ,( $JjAoMTDhAiVJX6SRHgqihW2wL0 ,)",
                    "nodeType": "exprStmt",
                    "id": "gNcDFCbW6GXmO4ujMxfNF4g2",
                    "locals": [
                      {
                        "name": "response",
                        "type": "Web Response",
                        "nodeType": "localDef",
                        "id": "gNcDFCbW6GXmO4ujMxfNF4g2L0"
                      }
                    ]
                  },
                  {
                    "expr": "$pY5eO2KTZyH8DtKML1vwo2RKP1 ,:= :code #qHmu0UUGfrNljjjaJGMU8Fmi ,( $gNcDFCbW6GXmO4ujMxfNF4g2L0 ,)",
                    "nodeType": "exprStmt",
                    "id": "z4lcKvLSNWB47POACSWIRBvX",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "SeM94IJ5MAc2r3grSppUbQFA",
                "locals": []
              }
            ],
            "id": "pY5eO2KTZyH8DtKML1vwo2RK"
          },
          {
            "name": "send request",
            "inParameters": [
              {
                "name": "request",
                "type": "Web Request",
                "nodeType": "localDef",
                "id": "xSQ2Xl3XNjDN7J4UhI16KlEWP0"
              }
            ],
            "outParameters": [
              {
                "name": "response",
                "type": "Web Response",
                "nodeType": "localDef",
                "id": "xSQ2Xl3XNjDN7J4UhI16KlEWP1"
              }
            ],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "Sends the Facebook Graph request and tries to handle gracefully errors.",
                "nodeType": "comment",
                "id": "xU2wDHhH74eRYoPqnJZPKdUN"
              },
              {
                "expr": ":time .log ,( 'scrub12 ,∥ $xSQ2Xl3XNjDN7J4UhI16KlEWP0 ,)",
                "nodeType": "exprStmt",
                "id": "x7rrICdgP7X5isYFMHuUU2jL",
                "locals": []
              },
              {
                "expr": "$xSQ2Xl3XNjDN7J4UhI16KlEWP1 ,:= $xSQ2Xl3XNjDN7J4UhI16KlEWP0 .send",
                "nodeType": "exprStmt",
                "id": "xWJxN3Co1m8Yy4I0tY8A2hwR",
                "locals": []
              },
              {
                "expr": ":time .log ,( 'scrub13 ,∥ $xSQ2Xl3XNjDN7J4UhI16KlEWP1 ,)",
                "nodeType": "exprStmt",
                "id": "xDKqFV6iEh23JDkYltD5nLqj",
                "locals": []
              },
              {
                "text": "Clear access token if it appears outdated",
                "nodeType": "comment",
                "id": "xHFmtYLoq5rc6DfKxmZNYtGc"
              }
            ],
            "id": "xSQ2Xl3XNjDN7J4UhI16KlEW"
          },
          {
            "name": "post message",
            "inParameters": [
              {
                "name": "msg",
                "type": "Message",
                "nodeType": "localDef",
                "id": "x38rUwRAbvQvQew2wrZIxGsgP0"
              }
            ],
            "outParameters": [
              {
                "name": "id",
                "type": "String",
                "nodeType": "localDef",
                "id": "x38rUwRAbvQvQew2wrZIxGsgP1"
              }
            ],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "Posts the message on the current user Facebook wall and returns the ID of the generated message if successfull. Requires `publish_stream` scope.",
                "nodeType": "comment",
                "id": "xwM4rqNMsZXkUfuoa32W8cS7"
              },
              {
                "expr": "$BAynPDWbfYvvnzAyLOJgd6Q6L0 ,:= :collections .create_string_collection",
                "nodeType": "exprStmt",
                "id": "BAynPDWbfYvvnzAyLOJgd6Q6",
                "locals": [
                  {
                    "name": "strings",
                    "type": "String Collection",
                    "nodeType": "localDef",
                    "id": "BAynPDWbfYvvnzAyLOJgd6Q6L0"
                  }
                ]
              },
              {
                "expr": "$BAynPDWbfYvvnzAyLOJgd6Q6L0 .add ,( 'scrub14 ,)",
                "nodeType": "exprStmt",
                "id": "vqoOtQbPxo6MSC8boIwc4yyi",
                "locals": []
              },
              {
                "expr": ":code #xFQzJhy339mPMzeM4dpthB2A ,( $BAynPDWbfYvvnzAyLOJgd6Q6L0 ,, 'scrub15 ,, $x38rUwRAbvQvQew2wrZIxGsgP0 .message ,)",
                "nodeType": "exprStmt",
                "id": "xXnDIC04cIWYqK1H5L8KJkEI",
                "locals": []
              },
              {
                "expr": ":code #xFQzJhy339mPMzeM4dpthB2A ,( $BAynPDWbfYvvnzAyLOJgd6Q6L0 ,, 'to ,, $x38rUwRAbvQvQew2wrZIxGsgP0 .to ,)",
                "nodeType": "exprStmt",
                "id": "FUiuHAZT62LCnLGV8dgQktUy",
                "locals": []
              },
              {
                "expr": ":code #xFQzJhy339mPMzeM4dpthB2A ,( $BAynPDWbfYvvnzAyLOJgd6Q6L0 ,, 'scrub16 ,, $x38rUwRAbvQvQew2wrZIxGsgP0 .picture_link ,)",
                "nodeType": "exprStmt",
                "id": "WcP6ha3CB7DRzN5ZSpcWqUNQ",
                "locals": []
              },
              {
                "expr": ":code #xFQzJhy339mPMzeM4dpthB2A ,( $BAynPDWbfYvvnzAyLOJgd6Q6L0 ,, 'scrub17 ,, $x38rUwRAbvQvQew2wrZIxGsgP0 .link ,)",
                "nodeType": "exprStmt",
                "id": "B120xNEhY7KPouRqn2vmd4WF",
                "locals": []
              },
              {
                "expr": ":code #xFQzJhy339mPMzeM4dpthB2A ,( $BAynPDWbfYvvnzAyLOJgd6Q6L0 ,, 'scrub18 ,, $x38rUwRAbvQvQew2wrZIxGsgP0 .media_link ,)",
                "nodeType": "exprStmt",
                "id": "xku2B4Yp8Z8qWcONx2Vc23nx",
                "locals": []
              },
              {
                "expr": "$x38rUwRAbvQvQew2wrZIxGsgP1 ,:= '",
                "nodeType": "exprStmt",
                "id": "aSE4ARCy40sAvFH4q8psTlCn",
                "locals": []
              },
              {
                "expr": "$xZstQGn6hxUHqMSdX7HBAIRtL0 ,:= :code #xwljF4TyxroiLHa4OxA7wExx ,( 'me ,, $BAynPDWbfYvvnzAyLOJgd6Q6L0 .join ,( '/0026 ,) ,)",
                "nodeType": "exprStmt",
                "id": "xZstQGn6hxUHqMSdX7HBAIRt",
                "locals": [
                  {
                    "name": "request",
                    "type": "Web Request",
                    "nodeType": "localDef",
                    "id": "xZstQGn6hxUHqMSdX7HBAIRtL0"
                  }
                ]
              },
              {
                "nodeType": "if",
                "condition": ",not $xZstQGn6hxUHqMSdX7HBAIRtL0 .is_invalid",
                "thenBody": [
                  {
                    "expr": "$xZstQGn6hxUHqMSdX7HBAIRtL0 .set_method ,( 'scrub11 ,)",
                    "nodeType": "exprStmt",
                    "id": "xXKk0v8c5lPPaM6SMR0toLmG",
                    "locals": []
                  },
                  {
                    "expr": "$EYTVATWCG7Io3CPbCOf2wvcrL0 ,:= :code #xSQ2Xl3XNjDN7J4UhI16KlEW ,( $xZstQGn6hxUHqMSdX7HBAIRtL0 ,)",
                    "nodeType": "exprStmt",
                    "id": "EYTVATWCG7Io3CPbCOf2wvcr",
                    "locals": [
                      {
                        "name": "response",
                        "type": "Web Response",
                        "nodeType": "localDef",
                        "id": "EYTVATWCG7Io3CPbCOf2wvcrL0"
                      }
                    ]
                  },
                  {
                    "expr": "$x38rUwRAbvQvQew2wrZIxGsgP1 ,:= :code #qHmu0UUGfrNljjjaJGMU8Fmi ,( $EYTVATWCG7Io3CPbCOf2wvcrL0 ,)",
                    "nodeType": "exprStmt",
                    "id": "xu5qdrwvuOo9av9jvNX2Pp1Y",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "OoUj9PJ93E3eUOP4VlNoKR6R",
                "locals": []
              }
            ],
            "id": "x38rUwRAbvQvQew2wrZIxGsg"
          },
          {
            "name": "add query value",
            "inParameters": [
              {
                "name": "strings",
                "type": "String Collection",
                "nodeType": "localDef",
                "id": "xFQzJhy339mPMzeM4dpthB2AP0"
              },
              {
                "name": "name",
                "type": "String",
                "nodeType": "localDef",
                "id": "xFQzJhy339mPMzeM4dpthB2AP1"
              },
              {
                "name": "value",
                "type": "String",
                "nodeType": "localDef",
                "id": "xFQzJhy339mPMzeM4dpthB2AP2"
              }
            ],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "nodeType": "if",
                "condition": ",not $xFQzJhy339mPMzeM4dpthB2AP2 .is_invalid ,and ,not $xFQzJhy339mPMzeM4dpthB2AP2 .is_empty",
                "thenBody": [
                  {
                    "expr": "$xFQzJhy339mPMzeM4dpthB2AP0 .add ,( $xFQzJhy339mPMzeM4dpthB2AP1 ,∥ '/003d ,∥ :web .url_encode ,( $xFQzJhy339mPMzeM4dpthB2AP2 ,) ,)",
                    "nodeType": "exprStmt",
                    "id": "eNKeZDqbH2Yq43NYq22x4sFd",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "q0yXWR7fbv0ej2znSa2PKmaL",
                "locals": []
              }
            ],
            "id": "xFQzJhy339mPMzeM4dpthB2A"
          },
          {
            "name": "post link",
            "inParameters": [
              {
                "name": "message",
                "type": "String",
                "nodeType": "localDef",
                "id": "MrApCZAZ1vG2C5APdKGcxLFaP0"
              },
              {
                "name": "link",
                "type": "Link",
                "nodeType": "localDef",
                "id": "MrApCZAZ1vG2C5APdKGcxLFaP1"
              }
            ],
            "outParameters": [
              {
                "name": "id",
                "type": "String",
                "nodeType": "localDef",
                "id": "MrApCZAZ1vG2C5APdKGcxLFaP2"
              }
            ],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "Posts the message and the link on the current user Facebook wall and returns the ID of the generated message if successfull. Requires `publish_stream` scope.",
                "nodeType": "comment",
                "id": "R5uoHWiVNrgF9yUduP80oDgN"
              },
              {
                "expr": "$lfcycZBSNSLQSXh9Ah9geY2EL0 ,:= :collections .create_string_collection",
                "nodeType": "exprStmt",
                "id": "lfcycZBSNSLQSXh9Ah9geY2E",
                "locals": [
                  {
                    "name": "strings",
                    "type": "String Collection",
                    "nodeType": "localDef",
                    "id": "lfcycZBSNSLQSXh9Ah9geY2EL0"
                  }
                ]
              },
              {
                "expr": "$lfcycZBSNSLQSXh9Ah9geY2EL0 .add ,( 'scrub14 ,)",
                "nodeType": "exprStmt",
                "id": "xMpOpIGbwo2iw9lYe1tYWnr3",
                "locals": []
              },
              {
                "expr": ":code #xFQzJhy339mPMzeM4dpthB2A ,( $lfcycZBSNSLQSXh9Ah9geY2EL0 ,, 'scrub15 ,, $MrApCZAZ1vG2C5APdKGcxLFaP0 ,)",
                "nodeType": "exprStmt",
                "id": "JDNv0oQjNrLYYQ9lLb4OEeKl",
                "locals": []
              },
              {
                "expr": ":code #xFQzJhy339mPMzeM4dpthB2A ,( $lfcycZBSNSLQSXh9Ah9geY2EL0 ,, 'scrub19 ,, $MrApCZAZ1vG2C5APdKGcxLFaP1 .name ,)",
                "nodeType": "exprStmt",
                "id": "NQB7uUkeR4WG8nA9WcTdBWkF",
                "locals": []
              },
              {
                "nodeType": "if",
                "condition": "$MrApCZAZ1vG2C5APdKGcxLFaP1 .kind .equals ,( 'scrub20 ,)",
                "thenBody": [
                  {
                    "expr": ":code #xFQzJhy339mPMzeM4dpthB2A ,( $lfcycZBSNSLQSXh9Ah9geY2EL0 ,, 'scrub16 ,, $MrApCZAZ1vG2C5APdKGcxLFaP1 .address ,)",
                    "nodeType": "exprStmt",
                    "id": "XPRWhrkBH25sWvbjyGFwSfrG",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "KmJ3h2RjksKQ1JfZCf9tIWgf",
                "locals": []
              },
              {
                "nodeType": "if",
                "condition": "$MrApCZAZ1vG2C5APdKGcxLFaP1 .kind .equals ,( 'scrub21 ,)",
                "thenBody": [
                  {
                    "expr": ":code #xFQzJhy339mPMzeM4dpthB2A ,( $lfcycZBSNSLQSXh9Ah9geY2EL0 ,, 'scrub18 ,, $MrApCZAZ1vG2C5APdKGcxLFaP1 .address ,)",
                    "nodeType": "exprStmt",
                    "id": "Txb8nHllOVB1Pl2t1xBRfPai",
                    "locals": []
                  }
                ],
                "elseBody": [
                  {
                    "expr": ":code #xFQzJhy339mPMzeM4dpthB2A ,( $lfcycZBSNSLQSXh9Ah9geY2EL0 ,, 'scrub17 ,, $MrApCZAZ1vG2C5APdKGcxLFaP1 .address ,)",
                    "nodeType": "exprStmt",
                    "id": "xKTDsPnrPXJDu8DFhQMFeXAO",
                    "locals": []
                  }
                ],
                "isElseIf": true,
                "id": "HQoMcqpSYp4BgunYdXHe2Gp7",
                "locals": []
              },
              {
                "expr": "$MrApCZAZ1vG2C5APdKGcxLFaP2 ,:= '",
                "nodeType": "exprStmt",
                "id": "vIE288HPkmBUM3ZLfDK1sq0B",
                "locals": []
              },
              {
                "expr": "$GQy23U7AtR5ZvBA6FAAM2v98L0 ,:= :code #xwljF4TyxroiLHa4OxA7wExx ,( 'me ,, $lfcycZBSNSLQSXh9Ah9geY2EL0 .join ,( '/0026 ,) ,)",
                "nodeType": "exprStmt",
                "id": "GQy23U7AtR5ZvBA6FAAM2v98",
                "locals": [
                  {
                    "name": "request",
                    "type": "Web Request",
                    "nodeType": "localDef",
                    "id": "GQy23U7AtR5ZvBA6FAAM2v98L0"
                  }
                ]
              },
              {
                "nodeType": "if",
                "condition": ",not $GQy23U7AtR5ZvBA6FAAM2v98L0 .is_invalid",
                "thenBody": [
                  {
                    "expr": "$GQy23U7AtR5ZvBA6FAAM2v98L0 .set_method ,( 'scrub11 ,)",
                    "nodeType": "exprStmt",
                    "id": "KDz8Q3NTkpTLE72SNBFsN5xn",
                    "locals": []
                  },
                  {
                    "expr": "$JOa3QgFMGaJ4jOzRUXAZGoupL0 ,:= :code #xSQ2Xl3XNjDN7J4UhI16KlEW ,( $GQy23U7AtR5ZvBA6FAAM2v98L0 ,)",
                    "nodeType": "exprStmt",
                    "id": "JOa3QgFMGaJ4jOzRUXAZGoup",
                    "locals": [
                      {
                        "name": "response",
                        "type": "Web Response",
                        "nodeType": "localDef",
                        "id": "JOa3QgFMGaJ4jOzRUXAZGoupL0"
                      }
                    ]
                  },
                  {
                    "expr": "$MrApCZAZ1vG2C5APdKGcxLFaP2 ,:= :code #qHmu0UUGfrNljjjaJGMU8Fmi ,( $JOa3QgFMGaJ4jOzRUXAZGoupL0 ,)",
                    "nodeType": "exprStmt",
                    "id": "UVj027cuKz2L1fFUzuApOzm7",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "R25N37KqqKx4KfE3c3IQDj7H",
                "locals": []
              }
            ],
            "id": "MrApCZAZ1vG2C5APdKGcxLFa"
          },
          {
            "name": "read id",
            "inParameters": [
              {
                "name": "response",
                "type": "Web Response",
                "nodeType": "localDef",
                "id": "qHmu0UUGfrNljjjaJGMU8FmiP0"
              }
            ],
            "outParameters": [
              {
                "name": "id",
                "type": "String",
                "nodeType": "localDef",
                "id": "qHmu0UUGfrNljjjaJGMU8FmiP1"
              }
            ],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "expr": "$qHmu0UUGfrNljjjaJGMU8FmiP1 ,:= '",
                "nodeType": "exprStmt",
                "id": "Ys7rlneXyECH5VtciMRXc6Sx",
                "locals": []
              },
              {
                "nodeType": "if",
                "condition": "$qHmu0UUGfrNljjjaJGMU8FmiP0 .status_code ,= ,2 ,0 ,0",
                "thenBody": [
                  {
                    "expr": "$xSRnLz7g42FXnCF2ZEG2QubPL0 ,:= $qHmu0UUGfrNljjjaJGMU8FmiP0 .content_as_json",
                    "nodeType": "exprStmt",
                    "id": "xSRnLz7g42FXnCF2ZEG2QubP",
                    "locals": [
                      {
                        "name": "rjs",
                        "type": "Json Object",
                        "nodeType": "localDef",
                        "id": "xSRnLz7g42FXnCF2ZEG2QubPL0"
                      }
                    ]
                  },
                  {
                    "expr": "$qHmu0UUGfrNljjjaJGMU8FmiP1 ,:= $xSRnLz7g42FXnCF2ZEG2QubPL0 .string ,( 'id ,)",
                    "nodeType": "exprStmt",
                    "id": "jRuTtw7dWfj5fU2cI3aSEbUG",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "RI0N5XmfZaqD0ftc9kqqgbaA",
                "locals": []
              }
            ],
            "id": "qHmu0UUGfrNljjjaJGMU8Fmi"
          }
        ],
        "deletedDecls": [],
        "nodeType": "app",
        "id": "app"
      }
    },
    {
      "seqNo": 1,
      "time": 1363631992,
      "scriptId": null,
      "historyId": "25203866880799692298bd6397e-2170-4a8b-9014-7eec6aa96036",
      "updateSize": 228,
      "updates": {
        "JjAoMTDhAiVJX6SRHgqihW2w": {
          "expr": "$JjAoMTDhAiVJX6SRHgqihW2wL0 ,:= :code #xwljF4TyxroiLHa4OxA7wExx ,( 'me ,, 'scrub22 ,∥ :web .url_encode ,( $pY5eO2KTZyH8DtKML1vwo2RKP0 ,) ,)"
        },
        "app": {
          "rootId": "wx4OEzOy20ySHxuDOq743DeT"
        }
      }
    },
    {
      "seqNo": 2,
      "time": 1363632139,
      "scriptId": null,
      "historyId": "2520386686606352307ea662417-ea18-4a50-8027-7dcdcd929fee",
      "updateSize": 730,
      "updates": {
        "IftwJOv1P7h8MziImmqNUHdqL0": {
          "name": "url",
          "type": "String",
          "nodeType": "localDef"
        },
        "IftwJOv1P7h8MziImmqNUHdq": {
          "expr": "$IftwJOv1P7h8MziImmqNUHdqL0 ,:= 'scrub23 ,∥ :web .url_encode ,( :data #qXwSSt9T2qSNy2h7ouNsUZ1O ,)",
          "nodeType": "exprStmt",
          "locals": [
            "IftwJOv1P7h8MziImmqNUHdqL0"
          ]
        },
        "vYDbeMcv4PzOhfQPP2OSLcph": {
          "expr": ":data #gAxGJMt4PhfD8gX6JMUz4CCI ,:= :web .oauth_v2 ,( $IftwJOv1P7h8MziImmqNUHdqL0 ,)"
        },
        "eD3BtZBanIEKtYKzb4oi8BdC": {
          "elseBody": [
            "IftwJOv1P7h8MziImmqNUHdq",
            "vYDbeMcv4PzOhfQPP2OSLcph"
          ]
        },
        "app": {
          "rootId": "GzRPeTYulq8IyUaXEvjrAGrz"
        },
        "DTvJq6SSrWqtco449piTVA41": null,
        "DTvJq6SSrWqtco449piTVA41L0": null
      }
    },
    {
      "seqNo": 3,
      "time": 1363632362,
      "scriptId": null,
      "historyId": "25203866843750914932d5205e0-2df1-482b-b15f-e0007d0955d0",
      "updateSize": 45,
      "updates": {
        "app": {
          "rootId": "xi8JHvvQj42DLfVC1rXdmnGh"
        }
      }
    },
    {
      "seqNo": 4,
      "time": 1363632595,
      "scriptId": null,
      "historyId": "25203866820425051049c265ea0-375d-4c5b-bb39-a927b19e2b9e",
      "updateSize": 319,
      "updates": {
        "W0FJKdZeJvvad27YtEJBthJC": {
          "expr": "$JjAoMTDhAiVJX6SRHgqihW2wL0 .url .copy_to_clipboard",
          "nodeType": "exprStmt",
          "locals": []
        },
        "SeM94IJ5MAc2r3grSppUbQFA": {
          "thenBody": [
            "nXXOlqYpdyZZfWbrCkoZ88n7",
            "gNcDFCbW6GXmO4ujMxfNF4g2",
            "z4lcKvLSNWB47POACSWIRBvX",
            "W0FJKdZeJvvad27YtEJBthJC"
          ]
        },
        "app": {
          "rootId": "dLJNCymkcjohn7PUkYkzo8bH"
        }
      }
    }
  ]
}