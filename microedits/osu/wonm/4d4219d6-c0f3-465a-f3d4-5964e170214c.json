{
  "userid": "wonm",
  "guid": "4d4219d6-c0f3-465a-f3d4-5964e170214c",
  "lastStatus": "deleted",
  "items": [
    {
      "seqNo": 0,
      "time": 1379025514,
      "scriptId": null,
      "historyId": "2520232752853720435efbd837f-d50d-4675-8b3a-15e4f4f611ed",
      "updateSize": 29624,
      "ast": {
        "textVersion": "v2.2,js,ctx",
        "jsonVersion": "v1.0,resolved,short",
        "name": "Cloud Pairing",
        "comment": "A library for pairing up users in cloud sessions. #docs",
        "icon": "Sun",
        "color": "#ff007FFF",
        "autoIcon": "Sun",
        "autoColor": "#007FFF",
        "platform": "current,media",
        "rootId": "jnWfrzIjgFgpCEvz64e5LQy0",
        "showAd": false,
        "isLibrary": true,
        "allowExport": false,
        "hasUniqueIds": true,
        "decls": [
          {
            "nodeType": "record",
            "name": "pairings",
            "sourceName": "pairings table",
            "comment": "",
            "category": "table",
            "isCloudEnabled": true,
            "keys": [],
            "fields": [
              {
                "nodeType": "recordField",
                "name": "session id",
                "type": "String",
                "id": "lUC3p32yke4qvqhj0jRgFwyS"
              },
              {
                "nodeType": "recordField",
                "name": "created",
                "type": "String",
                "id": "xAr9JY4ct0BkNNxgzFypnl2U"
              },
              {
                "nodeType": "recordField",
                "name": "first id",
                "type": "String",
                "id": "FloLEEsPwzc2IvDXzhXTbUgH"
              },
              {
                "nodeType": "recordField",
                "name": "second id",
                "type": "String",
                "id": "XYb927icQLyX2pW4BFyFfRAS"
              },
              {
                "nodeType": "recordField",
                "name": "state",
                "type": "String",
                "id": "yqji1b2MdtpC4f1Hv8S0q2E0"
              }
            ],
            "id": "xzWmvX9EkvBO86LZaRk4ep5C"
          },
          {
            "name": "pending pairs",
            "inParameters": [],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "body": [
                  {
                    "collection": ":records #xzWmvX9EkvBO86LZaRk4ep5C",
                    "conditions": [
                      {
                        "condition": ",not $x1nvN2WububXPM9ypDAAfo8KB0 .first_id .get .equals ,( :bazaar .current_user .id ,) ,and $x1nvN2WububXPM9ypDAAfo8KB0 .second_id .get .equals ,( ' ,) ,and :records #Khs296nLxHjRDdrtrNmfpEY8 .at ,( $x1nvN2WububXPM9ypDAAfo8KB0 .first_id .get ,, :bazaar .current_user .id ,) .session .get .equals ,( ' ,)",
                        "nodeType": "where",
                        "id": "nPU95px8DOj4yKxpe1QedEMd",
                        "locals": []
                      }
                    ],
                    "body": [
                      {
                        "body": [
                          {
                            "expr": ":box .use_horizontal_layout",
                            "nodeType": "exprStmt",
                            "id": "VPN296Dq9hH8XBL9r0RbiLGW",
                            "locals": []
                          },
                          {
                            "expr": ":code #xpjNXBV6tNhtRGWsZsxP1rG4",
                            "nodeType": "exprStmt",
                            "id": "f6NjhGBBUhy6NatB5oW2y2jM",
                            "locals": []
                          },
                          {
                            "body": [
                              {
                                "expr": ":box .set_foreground ,( :colors .blue ,)",
                                "nodeType": "exprStmt",
                                "id": "x8uQZIg7SjnnpjhS5dn5hx7q",
                                "locals": []
                              },
                              {
                                "expr": "'scrub0 .post_to_wall",
                                "nodeType": "exprStmt",
                                "id": "A9FbPD9QqkdqZGkfPc5eA94f",
                                "locals": []
                              },
                              {
                                "expr": ":code #EV0QbjuF7OwGlyfXFA8bJOv1 ,( $x1nvN2WububXPM9ypDAAfo8KB0 .first_id .get ,)",
                                "nodeType": "exprStmt",
                                "id": "x43TGnabXsPMX1CQ8BNTar9i",
                                "locals": []
                              },
                              {
                                "expr": ":box .on_tapped ,( $eEWrNW8KZ5BQmjo1zhCCCtEJB0 ,)",
                                "actions": [
                                  {
                                    "inParameters": [],
                                    "outParameters": [],
                                    "body": [
                                      {
                                        "expr": "$x1nvN2WububXPM9ypDAAfo8KB0 .second_id .test_and_set ,( :bazaar .current_user .id ,)",
                                        "nodeType": "exprStmt",
                                        "id": "KhzUZH0Y58MvSY5M9cOUTyzG",
                                        "locals": []
                                      },
                                      {
                                        "condition": ",not $x1nvN2WububXPM9ypDAAfo8KB0 .second_id .confirmed",
                                        "body": [
                                          {
                                            "expr": ",await :time .sleep ,( ,. ,2 ,)",
                                            "nodeType": "exprStmt",
                                            "id": "lj4YnVYZkUe5qG4bqy5c7ZlS",
                                            "locals": []
                                          }
                                        ],
                                        "nodeType": "while",
                                        "id": "BmeuQsTYfr7Z3hI0dTLlcV9N",
                                        "locals": []
                                      },
                                      {
                                        "nodeType": "if",
                                        "condition": "$x1nvN2WububXPM9ypDAAfo8KB0 .second_id .get .equals ,( :bazaar .current_user .id ,)",
                                        "thenBody": [
                                          {
                                            "expr": "$x1nvN2WububXPM9ypDAAfo8KB0 .state .set ,( 'scrub1 ,)",
                                            "nodeType": "exprStmt",
                                            "id": "eL7p3KUP4TS0E6xod0zhCC6O",
                                            "locals": []
                                          },
                                          {
                                            "expr": ":records #Khs296nLxHjRDdrtrNmfpEY8 .at ,( $x1nvN2WububXPM9ypDAAfo8KB0 .first_id .get ,, $x1nvN2WububXPM9ypDAAfo8KB0 .second_id .get ,) .session .set ,( 'scrub2 ,)",
                                            "nodeType": "exprStmt",
                                            "id": "yZ8UTiyVTti4BnvEMW4Zi84s",
                                            "locals": []
                                          }
                                        ],
                                        "elseBody": [
                                          {
                                            "text": "we lost the race to someone else",
                                            "nodeType": "comment",
                                            "id": "v3QUJLnqdaR1OX2JDcV7hVqJ"
                                          }
                                        ],
                                        "isElseIf": false,
                                        "id": "iJe5ixJZczmNvarN3wK2c4P8",
                                        "locals": []
                                      }
                                    ],
                                    "nodeType": "inlineAction",
                                    "id": "eEWrNW8KZ5BQmjo1zhCCCtEJ",
                                    "locals": [
                                      {
                                        "name": "handler2",
                                        "type": "Action",
                                        "nodeType": "localDef",
                                        "id": "eEWrNW8KZ5BQmjo1zhCCCtEJB0"
                                      }
                                    ]
                                  }
                                ],
                                "nodeType": "inlineActions",
                                "id": "xMLNVSBP45coKD6ESzkPATEk",
                                "locals": []
                              }
                            ],
                            "nodeType": "boxed",
                            "id": "ypArAyYRHWQh0CR2jP940oD5"
                          }
                        ],
                        "nodeType": "boxed",
                        "id": "xifTgqnV1gQ3YlK0bPB2jsw0"
                      }
                    ],
                    "nodeType": "foreach",
                    "id": "x1nvN2WububXPM9ypDAAfo8K",
                    "locals": [
                      {
                        "name": "p",
                        "type": "{\"o\":\"pairings\"}",
                        "nodeType": "localDef",
                        "id": "x1nvN2WububXPM9ypDAAfo8KB0"
                      }
                    ]
                  }
                ],
                "nodeType": "boxed",
                "id": "q7F69r3acjuDVYiqoRkEeQKC"
              }
            ],
            "id": "vqS8u9S5f49S3CfE3WIn4BjE"
          },
          {
            "name": "new pair request",
            "inParameters": [],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "body": [
                  {
                    "expr": ":box .set_font_size ,( ,1 ,. ,5 ,)",
                    "nodeType": "exprStmt",
                    "id": "NlD0zR4EXooWsdippZt9WtRG",
                    "locals": []
                  },
                  {
                    "expr": ":box .set_foreground ,( :colors .blue ,)",
                    "nodeType": "exprStmt",
                    "id": "zJ4iWpI7bBG1TLX7T2BWQS7o",
                    "locals": []
                  },
                  {
                    "expr": "'scrub3 .post_to_wall",
                    "nodeType": "exprStmt",
                    "id": "d6M4Oly5NEZ22ti2l2iTxwKV",
                    "locals": []
                  },
                  {
                    "expr": ":box .on_tapped ,( $IjQVQROKjNIUJ2EpQWxEtraAB0 ,)",
                    "actions": [
                      {
                        "inParameters": [],
                        "outParameters": [],
                        "body": [
                          {
                            "expr": "$N4UYmcF84QNoK9m8M52UpTFSL0 ,:= :records #xzWmvX9EkvBO86LZaRk4ep5C .add_row",
                            "nodeType": "exprStmt",
                            "id": "N4UYmcF84QNoK9m8M52UpTFS",
                            "locals": [
                              {
                                "name": "p",
                                "type": "{\"o\":\"pairings\"}",
                                "nodeType": "localDef",
                                "id": "N4UYmcF84QNoK9m8M52UpTFSL0"
                              }
                            ]
                          },
                          {
                            "expr": "$N4UYmcF84QNoK9m8M52UpTFSL0 .created .set ,( :time .now .to_string ,)",
                            "nodeType": "exprStmt",
                            "id": "YOwmVm6zgfoEK72RiGFxVIt2",
                            "locals": []
                          },
                          {
                            "expr": "$N4UYmcF84QNoK9m8M52UpTFSL0 .first_id .set ,( :bazaar .current_user .id ,)",
                            "nodeType": "exprStmt",
                            "id": "j4yNrjurSRYfbfa2lHq0SSph",
                            "locals": []
                          },
                          {
                            "expr": "$N4UYmcF84QNoK9m8M52UpTFSL0 .state .set ,( 'scrub4 ,)",
                            "nodeType": "exprStmt",
                            "id": "A9z7cC5KasF4xFS8DKnIbRTw",
                            "locals": []
                          }
                        ],
                        "nodeType": "inlineAction",
                        "id": "IjQVQROKjNIUJ2EpQWxEtraA",
                        "locals": [
                          {
                            "name": "handler",
                            "type": "Action",
                            "nodeType": "localDef",
                            "id": "IjQVQROKjNIUJ2EpQWxEtraAB0"
                          }
                        ]
                      }
                    ],
                    "nodeType": "inlineActions",
                    "id": "K4HDekkPFaNIEulMm7UmWr2x",
                    "locals": []
                  }
                ],
                "nodeType": "boxed",
                "id": "SNGJkfCR1L4fagJXts2fgx2M"
              }
            ],
            "id": "x9TmeBP74EYbaLV5P07sWl0S"
          },
          {
            "name": "my pairings",
            "inParameters": [
              {
                "name": "init",
                "type": "Action",
                "nodeType": "localDef",
                "id": "x411qQTZG2QDl614kyj0jlsrP0"
              },
              {
                "name": "play",
                "type": "Action",
                "nodeType": "localDef",
                "id": "x411qQTZG2QDl614kyj0jlsrP1"
              }
            ],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "body": [
                  {
                    "collection": ":records #xzWmvX9EkvBO86LZaRk4ep5C",
                    "conditions": [
                      {
                        "condition": "$lMLVWAbdn6QjC03yFIzbZ65cB0 .first_id .get .equals ,( :bazaar .current_user .id ,) ,or ,( ,not $lMLVWAbdn6QjC03yFIzbZ65cB0 .first_id .get .equals ,( ' ,) ,and $lMLVWAbdn6QjC03yFIzbZ65cB0 .second_id .get .equals ,( :bazaar .current_user .id ,) ,)",
                        "nodeType": "where",
                        "id": "x1Kt9qHnzcXMP4NaZawLhQuS",
                        "locals": []
                      }
                    ],
                    "body": [
                      {
                        "expr": ":code #ehrI3KhI2VGd87AvepTIbdRA ,( $lMLVWAbdn6QjC03yFIzbZ65cB0 ,, $x411qQTZG2QDl614kyj0jlsrP0 ,, $x411qQTZG2QDl614kyj0jlsrP1 ,)",
                        "nodeType": "exprStmt",
                        "id": "WkmL5SFLIESoFTTG4Su6L2EA",
                        "locals": []
                      }
                    ],
                    "nodeType": "foreach",
                    "id": "lMLVWAbdn6QjC03yFIzbZ65c",
                    "locals": [
                      {
                        "name": "p",
                        "type": "{\"o\":\"pairings\"}",
                        "nodeType": "localDef",
                        "id": "lMLVWAbdn6QjC03yFIzbZ65cB0"
                      }
                    ]
                  }
                ],
                "nodeType": "boxed",
                "id": "btRDLey0jlJla25XYsii90pC"
              }
            ],
            "id": "x411qQTZG2QDl614kyj0jlsr"
          },
          {
            "name": "show user",
            "inParameters": [
              {
                "name": "s",
                "type": "String",
                "nodeType": "localDef",
                "id": "EV0QbjuF7OwGlyfXFA8bJOv1P0"
              }
            ],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "body": [
                  {
                    "expr": ":box .set_foreground ,( :colors .foreground ,)",
                    "nodeType": "exprStmt",
                    "id": "AiXo6zn7yhEuCvKPXlmgh52h",
                    "locals": []
                  },
                  {
                    "expr": ":box .set_horizontal_align ,( 'scrub5 ,)",
                    "nodeType": "exprStmt",
                    "id": "AKxn6vyQ4zFVz4EQ7WLR2USa",
                    "locals": []
                  },
                  {
                    "expr": "$k0gQoDtByTZrUyttFNfODYvZL0 ,:= :bazaar .user_of ,( $EV0QbjuF7OwGlyfXFA8bJOv1P0 ,)",
                    "nodeType": "exprStmt",
                    "id": "k0gQoDtByTZrUyttFNfODYvZ",
                    "locals": [
                      {
                        "name": "user",
                        "type": "User",
                        "nodeType": "localDef",
                        "id": "k0gQoDtByTZrUyttFNfODYvZL0"
                      }
                    ]
                  },
                  {
                    "nodeType": "if",
                    "condition": "$k0gQoDtByTZrUyttFNfODYvZL0 .is_invalid",
                    "thenBody": [
                      {
                        "expr": ":box .set_foreground ,( :colors .light_gray ,)",
                        "nodeType": "exprStmt",
                        "id": "vu4Pavtt1vA3pt5Ld6t9SfjE",
                        "locals": []
                      },
                      {
                        "expr": "'scrub6 .post_to_wall",
                        "nodeType": "exprStmt",
                        "id": "Ir8n4madH1F5Ho75lQU7hFEb",
                        "locals": []
                      }
                    ],
                    "isElseIf": false,
                    "id": "xpnY2tQF5kGVf5HTNKTo1hB2",
                    "locals": []
                  },
                  {
                    "nodeType": "if",
                    "condition": "$k0gQoDtByTZrUyttFNfODYvZL0 .has_picture",
                    "thenBody": [
                      {
                        "expr": "$k0gQoDtByTZrUyttFNfODYvZL0 .picture ,( 'scrub7 ,) .post_to_wall",
                        "nodeType": "exprStmt",
                        "id": "P9UkPd8lqKNMB7kf2D7QZRep",
                        "locals": []
                      },
                      {
                        "expr": "$k0gQoDtByTZrUyttFNfODYvZL0 .name .post_to_wall",
                        "nodeType": "exprStmt",
                        "id": "xmXN9eEOECHGVMqsK8YcbcZL",
                        "locals": []
                      }
                    ],
                    "isElseIf": true,
                    "id": "tWt4FNoLG2ODGl0pcW21ASFl",
                    "locals": []
                  }
                ],
                "nodeType": "boxed",
                "id": "qJp3AI52AT486jA3cMAfQuNf"
              }
            ],
            "id": "EV0QbjuF7OwGlyfXFA8bJOv1"
          },
          {
            "name": "resume",
            "inParameters": [
              {
                "name": "p",
                "type": "{\"o\":\"pairings\"}",
                "nodeType": "localDef",
                "id": "g98408yBYm9UJQd4pYgtr48BP0"
              },
              {
                "name": "play",
                "type": "Action",
                "nodeType": "localDef",
                "id": "g98408yBYm9UJQd4pYgtr48BP1"
              }
            ],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "expr": ":data #bV1pCf2mOO6g124ExROavGLH ,:= $g98408yBYm9UJQd4pYgtr48BP0 .first_id .get",
                "nodeType": "exprStmt",
                "id": "gU0dKi2x2FA7OqSLpfLezBt9",
                "locals": []
              },
              {
                "expr": ":data #LX6d2222x6O2yqhqsH9kJ2iw ,:= $g98408yBYm9UJQd4pYgtr48BP0 .second_id .get",
                "nodeType": "exprStmt",
                "id": "xIMX1s0o24mtqPOhtSMRKgsZ",
                "locals": []
              },
              {
                "expr": "$jWG28zEOpQefhrMnJSrEiutuL0 ,:= :cloud_data .session_of ,( $g98408yBYm9UJQd4pYgtr48BP0 .session_id .get ,, ' ,)",
                "nodeType": "exprStmt",
                "id": "jWG28zEOpQefhrMnJSrEiutu",
                "locals": [
                  {
                    "name": "session",
                    "type": "Cloud Session",
                    "nodeType": "localDef",
                    "id": "jWG28zEOpQefhrMnJSrEiutuL0"
                  }
                ]
              },
              {
                "expr": ":cloud_data .switch_to_session ,( $jWG28zEOpQefhrMnJSrEiutuL0 ,)",
                "nodeType": "exprStmt",
                "id": "bPhVi7zfRinzHs4dJ394HVIA",
                "locals": []
              },
              {
                "expr": "$g98408yBYm9UJQd4pYgtr48BP1 .run",
                "nodeType": "exprStmt",
                "id": "RUt2RQ80h3D9XfMQXd7Rrghf",
                "locals": []
              }
            ],
            "id": "g98408yBYm9UJQd4pYgtr48B"
          },
          {
            "name": "start",
            "inParameters": [
              {
                "name": "p",
                "type": "{\"o\":\"pairings\"}",
                "nodeType": "localDef",
                "id": "cmqfKcJD1VWM0aXOzD21zGj7P0"
              },
              {
                "name": "init",
                "type": "Action",
                "nodeType": "localDef",
                "id": "cmqfKcJD1VWM0aXOzD21zGj7P1"
              }
            ],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": true,
            "nodeType": "action",
            "body": [
              {
                "expr": ":data #bV1pCf2mOO6g124ExROavGLH ,:= $cmqfKcJD1VWM0aXOzD21zGj7P0 .first_id .get",
                "nodeType": "exprStmt",
                "id": "TIl2t2iPdQcQ3lAfmzjWXz0O",
                "locals": []
              },
              {
                "expr": ":data #LX6d2222x6O2yqhqsH9kJ2iw ,:= $cmqfKcJD1VWM0aXOzD21zGj7P0 .second_id .get",
                "nodeType": "exprStmt",
                "id": "T4JGAyUYuANDnr1DbcPiywLB",
                "locals": []
              },
              {
                "expr": "$B13mEhosDPgNDrlWp72vxxjjL0 ,:= :bazaar .user_of ,( $cmqfKcJD1VWM0aXOzD21zGj7P0 .first_id .get ,) .name",
                "nodeType": "exprStmt",
                "id": "B13mEhosDPgNDrlWp72vxxjj",
                "locals": [
                  {
                    "name": "user1",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "B13mEhosDPgNDrlWp72vxxjjL0"
                  }
                ]
              },
              {
                "expr": "$MhFb1V47XVmhz2G4Q25gpjaCL0 ,:= :bazaar .user_of ,( $cmqfKcJD1VWM0aXOzD21zGj7P0 .second_id .get ,) .name",
                "nodeType": "exprStmt",
                "id": "MhFb1V47XVmhz2G4Q25gpjaC",
                "locals": [
                  {
                    "name": "user2",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "MhFb1V47XVmhz2G4Q25gpjaCL0"
                  }
                ]
              },
              {
                "expr": "$wuy3DL1M443dT95wXo0uTRkZL0 ,:= ,await :cloud_data .create_session ,( $B13mEhosDPgNDrlWp72vxxjjL0 ,∥ '_/002b_ ,∥ $MhFb1V47XVmhz2G4Q25gpjaCL0 ,, 'scrub8 ,)",
                "nodeType": "exprStmt",
                "id": "wuy3DL1M443dT95wXo0uTRkZ",
                "locals": [
                  {
                    "name": "session",
                    "type": "Cloud Session",
                    "nodeType": "localDef",
                    "id": "wuy3DL1M443dT95wXo0uTRkZL0"
                  }
                ]
              },
              {
                "expr": "$cmqfKcJD1VWM0aXOzD21zGj7P0 .session_id .set ,( $wuy3DL1M443dT95wXo0uTRkZL0 .id ,)",
                "nodeType": "exprStmt",
                "id": "sm9amrBe4u7M7Jy3OrqUKf1s",
                "locals": []
              },
              {
                "expr": "$cmqfKcJD1VWM0aXOzD21zGj7P0 .state .set ,( 'scrub9 ,)",
                "nodeType": "exprStmt",
                "id": "KtQK7cpZf3d14oDuMpbccl6o",
                "locals": []
              },
              {
                "text": "this code is needed right now until we have bug fix",
                "nodeType": "comment",
                "id": "Uk5UKzIU9poIXzdsE4IlctZn"
              },
              {
                "condition": ",not $cmqfKcJD1VWM0aXOzD21zGj7P0 .state .confirmed",
                "body": [
                  {
                    "expr": ",await :time .sleep ,( ,. ,2 ,)",
                    "nodeType": "exprStmt",
                    "id": "x2b7EWemIFTFeYzyF7pni1Ez",
                    "locals": []
                  }
                ],
                "nodeType": "while",
                "id": "N1MZ4yGsrymS22P88f3qX9f4",
                "locals": []
              },
              {
                "expr": ":cloud_data .switch_to_session ,( $wuy3DL1M443dT95wXo0uTRkZL0 ,)",
                "nodeType": "exprStmt",
                "id": "v6RO0AKoipa037DMZXTVln4u",
                "locals": []
              },
              {
                "expr": "$cmqfKcJD1VWM0aXOzD21zGj7P1 .run",
                "nodeType": "exprStmt",
                "id": "Wjj752ICls2qKGZrd5i48r3T",
                "locals": []
              }
            ],
            "id": "cmqfKcJD1VWM0aXOzD21zGj7"
          },
          {
            "name": "show pair",
            "inParameters": [
              {
                "name": "p",
                "type": "{\"o\":\"pairings\"}",
                "nodeType": "localDef",
                "id": "ehrI3KhI2VGd87AvepTIbdRAP0"
              },
              {
                "name": "init",
                "type": "Action",
                "nodeType": "localDef",
                "id": "ehrI3KhI2VGd87AvepTIbdRAP1"
              },
              {
                "name": "play",
                "type": "Action",
                "nodeType": "localDef",
                "id": "ehrI3KhI2VGd87AvepTIbdRAP2"
              }
            ],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "body": [
                  {
                    "expr": ":box .use_horizontal_layout",
                    "nodeType": "exprStmt",
                    "id": "rBbG82VUGhmTU9QBRxkpM3QW",
                    "locals": []
                  },
                  {
                    "expr": ":code #xpjNXBV6tNhtRGWsZsxP1rG4",
                    "nodeType": "exprStmt",
                    "id": "ngsLD2lnQkike0zprpwbQgT5",
                    "locals": []
                  },
                  {
                    "body": [
                      {
                        "body": [
                          {
                            "expr": ":box .use_horizontal_layout",
                            "nodeType": "exprStmt",
                            "id": "ycHNpQmavoK2o0VVaKzDsbAU",
                            "locals": []
                          },
                          {
                            "expr": ":box .set_vertical_align ,( 'scrub10 ,)",
                            "nodeType": "exprStmt",
                            "id": "qIbh9z2gcdOwG4K9BSmRvjML",
                            "locals": []
                          },
                          {
                            "expr": ":code #EV0QbjuF7OwGlyfXFA8bJOv1 ,( $ehrI3KhI2VGd87AvepTIbdRAP0 .first_id .get ,)",
                            "nodeType": "exprStmt",
                            "id": "VM76cCVQkz9UiJxH6Zg4fS4w",
                            "locals": []
                          },
                          {
                            "expr": "'_/002b_ .post_to_wall",
                            "nodeType": "exprStmt",
                            "id": "OxST8LKogABt344bJAMupfhS",
                            "locals": []
                          },
                          {
                            "expr": ":code #EV0QbjuF7OwGlyfXFA8bJOv1 ,( $ehrI3KhI2VGd87AvepTIbdRAP0 .second_id .get ,)",
                            "nodeType": "exprStmt",
                            "id": "xnG2PfxOqAeQFcuxlBf1LfvX",
                            "locals": []
                          }
                        ],
                        "nodeType": "boxed",
                        "id": "ebz2ZMivbZEUhveov5JFghlz"
                      },
                      {
                        "body": [
                          {
                            "expr": ":box .use_horizontal_layout",
                            "nodeType": "exprStmt",
                            "id": "xJUa6y4QJj6EnPQQbUOIisMd",
                            "locals": []
                          },
                          {
                            "expr": ":box .set_font_size ,( ,. ,5 ,)",
                            "nodeType": "exprStmt",
                            "id": "Zg16IOxIyis2y2wAgRLD2CNu",
                            "locals": []
                          },
                          {
                            "expr": "'scrub11 .post_to_wall",
                            "nodeType": "exprStmt",
                            "id": "xT225GEOt3Ue2wRs3ejwJtzo",
                            "locals": []
                          },
                          {
                            "expr": "$ehrI3KhI2VGd87AvepTIbdRAP0 .created .get .post_to_wall",
                            "nodeType": "exprStmt",
                            "id": "NxwRShpFYLkw3iX8ot1o0auL",
                            "locals": []
                          }
                        ],
                        "nodeType": "boxed",
                        "id": "SLJgUqfBz7myKnvNzfcKSFJ5"
                      },
                      {
                        "body": [
                          {
                            "expr": ":box .use_horizontal_layout",
                            "nodeType": "exprStmt",
                            "id": "VsNfWA9z8dnPWr6B4R3lqKJv",
                            "locals": []
                          },
                          {
                            "expr": ":box .set_font_size ,( ,. ,5 ,)",
                            "nodeType": "exprStmt",
                            "id": "xwYQbOOQY0RjNFlXpgR2cISQ",
                            "locals": []
                          },
                          {
                            "expr": "'scrub12 .post_to_wall",
                            "nodeType": "exprStmt",
                            "id": "FHBht2VFxTgSisGigfGA5dRF",
                            "locals": []
                          },
                          {
                            "expr": ":code #lj1iKFtmRQ244y9UZju697Of ,( $ehrI3KhI2VGd87AvepTIbdRAP0 ,) .post_to_wall",
                            "nodeType": "exprStmt",
                            "id": "t6VCLZp6Zy7anCFGpGkfA6O9",
                            "locals": []
                          }
                        ],
                        "nodeType": "boxed",
                        "id": "xAGM8U4cPsBHlZNZUAwhKwjx"
                      }
                    ],
                    "nodeType": "boxed",
                    "id": "dA9d0VI3g5cKAKT1SakZ8uCi"
                  },
                  {
                    "body": [
                      {
                        "expr": ":box .set_horizontal_align ,( 'scrub5 ,)",
                        "nodeType": "exprStmt",
                        "id": "hltx9EQ2ueRZCwiUo9N2oYiV",
                        "locals": []
                      },
                      {
                        "expr": ":box .set_vertical_align ,( 'scrub5 ,)",
                        "nodeType": "exprStmt",
                        "id": "uXSl2b1c4RVXltwYnHJAybei",
                        "locals": []
                      },
                      {
                        "expr": ":box .set_foreground ,( :colors .blue ,)",
                        "nodeType": "exprStmt",
                        "id": "ghKKaH97woOW4ZMfnGFcwLy6",
                        "locals": []
                      },
                      {
                        "nodeType": "if",
                        "condition": "$ehrI3KhI2VGd87AvepTIbdRAP0 .state .get .equals ,( 'scrub1 ,) ,and :bazaar .current_user .id .equals ,( $ehrI3KhI2VGd87AvepTIbdRAP0 .first_id .get ,)",
                        "thenBody": [
                          {
                            "body": [
                              {
                                "expr": ":box .set_font_size ,( ,1 ,. ,5 ,)",
                                "nodeType": "exprStmt",
                                "id": "NCiznU5juITkDOIiv7Lh11ij",
                                "locals": []
                              },
                              {
                                "expr": "'scrub13 .post_to_wall",
                                "nodeType": "exprStmt",
                                "id": "xREUflsEJuDwdmtqj5r7iX74",
                                "locals": []
                              },
                              {
                                "expr": ":box .on_tapped ,( $xU8yO1SkuuGJ0sraw8hNh0eMB0 ,)",
                                "actions": [
                                  {
                                    "inParameters": [],
                                    "outParameters": [],
                                    "body": [
                                      {
                                        "expr": ",await :code #cmqfKcJD1VWM0aXOzD21zGj7 ,( $ehrI3KhI2VGd87AvepTIbdRAP0 ,, $ehrI3KhI2VGd87AvepTIbdRAP1 ,)",
                                        "nodeType": "exprStmt",
                                        "id": "OdxLsaY7jV2EhTcgUZPAUX56",
                                        "locals": []
                                      },
                                      {
                                        "expr": "$ehrI3KhI2VGd87AvepTIbdRAP2 .run",
                                        "nodeType": "exprStmt",
                                        "id": "pc3O1HwN1VwMZmZZ4tSFcauL",
                                        "locals": []
                                      }
                                    ],
                                    "nodeType": "inlineAction",
                                    "id": "xU8yO1SkuuGJ0sraw8hNh0eM",
                                    "locals": [
                                      {
                                        "name": "handler2",
                                        "type": "Action",
                                        "nodeType": "localDef",
                                        "id": "xU8yO1SkuuGJ0sraw8hNh0eMB0"
                                      }
                                    ]
                                  }
                                ],
                                "nodeType": "inlineActions",
                                "id": "x4T5b7DTw3UJT9VjzFZG4rq5",
                                "locals": []
                              }
                            ],
                            "nodeType": "boxed",
                            "id": "xN1xW5S2zM33hTj4Pag4CFMg"
                          }
                        ],
                        "isElseIf": false,
                        "id": "R01NMXrqQB8uag6TBCh19qI8",
                        "locals": []
                      },
                      {
                        "nodeType": "if",
                        "condition": "$ehrI3KhI2VGd87AvepTIbdRAP0 .state .get .equals ,( 'scrub9 ,)",
                        "thenBody": [
                          {
                            "body": [
                              {
                                "expr": ":box .set_font_size ,( ,1 ,. ,5 ,)",
                                "nodeType": "exprStmt",
                                "id": "lC8oOXE0BP8D29v4u7dVYaCT",
                                "locals": []
                              },
                              {
                                "expr": "'scrub13 .post_to_wall",
                                "nodeType": "exprStmt",
                                "id": "kbmTAOwpcAzN2ejoeKtwsP2e",
                                "locals": []
                              },
                              {
                                "expr": ":box .on_tapped ,( $c04p4spolNlKZqPvjmUJ4dJmB0 ,)",
                                "actions": [
                                  {
                                    "inParameters": [],
                                    "outParameters": [],
                                    "body": [
                                      {
                                        "expr": ":code #g98408yBYm9UJQd4pYgtr48B ,( $ehrI3KhI2VGd87AvepTIbdRAP0 ,, $ehrI3KhI2VGd87AvepTIbdRAP2 ,)",
                                        "nodeType": "exprStmt",
                                        "id": "xnsf8JDQOSwHpZ4bDmDHW7ca",
                                        "locals": []
                                      }
                                    ],
                                    "nodeType": "inlineAction",
                                    "id": "c04p4spolNlKZqPvjmUJ4dJm",
                                    "locals": [
                                      {
                                        "name": "handler2",
                                        "type": "Action",
                                        "nodeType": "localDef",
                                        "id": "c04p4spolNlKZqPvjmUJ4dJmB0"
                                      }
                                    ]
                                  }
                                ],
                                "nodeType": "inlineActions",
                                "id": "v2hoklYukugRXXZZzDrm2v7Y",
                                "locals": []
                              }
                            ],
                            "nodeType": "boxed",
                            "id": "xIkwW8eszGVDAldaBR4fQRdx"
                          }
                        ],
                        "isElseIf": true,
                        "id": "DI10qRQ0lHbu8MvHS4M4d14o",
                        "locals": []
                      },
                      {
                        "nodeType": "if",
                        "condition": "$ehrI3KhI2VGd87AvepTIbdRAP0 .first_id .get .equals ,( :bazaar .current_user .id ,)",
                        "thenBody": [
                          {
                            "body": [
                              {
                                "expr": ":box .set_font_size ,( ,. ,8 ,)",
                                "nodeType": "exprStmt",
                                "id": "g2fJVfpDuw4QIQmSz5qGIkvG",
                                "locals": []
                              },
                              {
                                "expr": "'scrub14 .post_to_wall",
                                "nodeType": "exprStmt",
                                "id": "oHmKzoQyErHfszwZhdWWyVDV",
                                "locals": []
                              },
                              {
                                "expr": ":box .on_tapped ,( $fpR4Q7r6GErRKIWIxPMdPSIsB0 ,)",
                                "actions": [
                                  {
                                    "inParameters": [],
                                    "outParameters": [],
                                    "body": [
                                      {
                                        "expr": ":records #Khs296nLxHjRDdrtrNmfpEY8 .at ,( $ehrI3KhI2VGd87AvepTIbdRAP0 .first_id .get ,, $ehrI3KhI2VGd87AvepTIbdRAP0 .second_id .get ,) .clear_fields",
                                        "nodeType": "exprStmt",
                                        "id": "xwp4HDag0jzihhk18wERkQgz",
                                        "locals": []
                                      },
                                      {
                                        "expr": "$ehrI3KhI2VGd87AvepTIbdRAP0 .delete_row",
                                        "nodeType": "exprStmt",
                                        "id": "xnCSmoUdzViYFhorR76QELCa",
                                        "locals": []
                                      }
                                    ],
                                    "nodeType": "inlineAction",
                                    "id": "fpR4Q7r6GErRKIWIxPMdPSIs",
                                    "locals": [
                                      {
                                        "name": "handler",
                                        "type": "Action",
                                        "nodeType": "localDef",
                                        "id": "fpR4Q7r6GErRKIWIxPMdPSIsB0"
                                      }
                                    ]
                                  }
                                ],
                                "nodeType": "inlineActions",
                                "id": "lTDBs1KP8PhX2v2c6M86BjxS",
                                "locals": []
                              }
                            ],
                            "nodeType": "boxed",
                            "id": "Gek3mUCCmcByynr73L7A8yKS"
                          }
                        ],
                        "isElseIf": false,
                        "id": "gGBCKghwLsrYjRxFP4DYH5CS",
                        "locals": []
                      }
                    ],
                    "nodeType": "boxed",
                    "id": "QErXec0CLbNoz8gGF76MjJjF"
                  }
                ],
                "nodeType": "boxed",
                "id": "QN7BUEYmOyNYrnp4H7Xbfcb1"
              }
            ],
            "id": "ehrI3KhI2VGd87AvepTIbdRA"
          },
          {
            "name": "pair state",
            "inParameters": [
              {
                "name": "p",
                "type": "{\"o\":\"pairings\"}",
                "nodeType": "localDef",
                "id": "lj1iKFtmRQ244y9UZju697OfP0"
              }
            ],
            "outParameters": [
              {
                "name": "s",
                "type": "String",
                "nodeType": "localDef",
                "id": "lj1iKFtmRQ244y9UZju697OfP1"
              }
            ],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "nodeType": "if",
                "condition": "$lj1iKFtmRQ244y9UZju697OfP0 .state .get .equals ,( 'scrub1 ,)",
                "thenBody": [
                  {
                    "nodeType": "if",
                    "condition": "$lj1iKFtmRQ244y9UZju697OfP0 .first_id .get .equals ,( :bazaar .current_user .id ,)",
                    "thenBody": [
                      {
                        "expr": "$lj1iKFtmRQ244y9UZju697OfP1 ,:= 'scrub15",
                        "nodeType": "exprStmt",
                        "id": "NWo04oN9aLkcHQDuW5dFJENw",
                        "locals": []
                      }
                    ],
                    "elseBody": [
                      {
                        "expr": "$lj1iKFtmRQ244y9UZju697OfP1 ,:= 'scrub16",
                        "nodeType": "exprStmt",
                        "id": "xDbPpQJN097c0k4skzUm73lp",
                        "locals": []
                      }
                    ],
                    "isElseIf": false,
                    "id": "x1aP0ZMLHlSoGTr92jlDcoft",
                    "locals": []
                  }
                ],
                "elseBody": [
                  {
                    "expr": "$lj1iKFtmRQ244y9UZju697OfP1 ,:= $lj1iKFtmRQ244y9UZju697OfP0 .state .get",
                    "nodeType": "exprStmt",
                    "id": "wgyZrqeoECgygfzIZVOlLYY9",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "GG46bjvnwhzJp5kPQullsbWH",
                "locals": []
              }
            ],
            "id": "lj1iKFtmRQ244y9UZju697Of"
          },
          {
            "name": "show pairing dialog",
            "inParameters": [
              {
                "name": "initialize session",
                "type": "Action",
                "nodeType": "localDef",
                "id": "xwM4QBfN36kNZ0nxJFoIibn0P0"
              },
              {
                "name": "play",
                "type": "Action",
                "nodeType": "localDef",
                "id": "xwM4QBfN36kNZ0nxJFoIibn0P1"
              }
            ],
            "outParameters": [],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "expr": ":cloud_data .switch_to_session ,( :cloud_data .everyone_session ,)",
                "nodeType": "exprStmt",
                "id": "MzvLSl74JuO9uwrH9xXgU3GA",
                "locals": []
              },
              {
                "body": [
                  {
                    "expr": ":box .set_horizontal_align ,( 'scrub17 ,)",
                    "nodeType": "exprStmt",
                    "id": "xRO34ibQWA0q01pfNCKa4tTA",
                    "locals": []
                  },
                  {
                    "body": [
                      {
                        "expr": ":code #xpjNXBV6tNhtRGWsZsxP1rG4",
                        "nodeType": "exprStmt",
                        "id": "xJwHMsKJjWQ4N2A5NknGP52K",
                        "locals": []
                      },
                      {
                        "expr": ":box .use_horizontal_layout",
                        "nodeType": "exprStmt",
                        "id": "x4XQoIpiJOX0Rd4cyG3CZuvm",
                        "locals": []
                      },
                      {
                        "expr": ":box .set_vertical_align ,( 'top ,)",
                        "nodeType": "exprStmt",
                        "id": "xKSOHiP7CzzQaBHdAvUUe1AL",
                        "locals": []
                      },
                      {
                        "expr": ":code #EV0QbjuF7OwGlyfXFA8bJOv1 ,( :bazaar .current_user .id ,)",
                        "nodeType": "exprStmt",
                        "id": "AXI4wbSzxd1hGPb9eXY3i27R",
                        "locals": []
                      },
                      {
                        "expr": ":code #x9TmeBP74EYbaLV5P07sWl0S",
                        "nodeType": "exprStmt",
                        "id": "nSvulCjtt4BPQOmagXjJQZQH",
                        "locals": []
                      }
                    ],
                    "nodeType": "boxed",
                    "id": "qRUzHoQC7UF0zjPqNRtWF5yo"
                  },
                  {
                    "expr": ":code #x411qQTZG2QDl614kyj0jlsr ,( $xwM4QBfN36kNZ0nxJFoIibn0P0 ,, $xwM4QBfN36kNZ0nxJFoIibn0P1 ,)",
                    "nodeType": "exprStmt",
                    "id": "xmt5NTPY1QsiYQGORp5ljQnC",
                    "locals": []
                  },
                  {
                    "expr": ":code #vqS8u9S5f49S3CfE3WIn4BjE",
                    "nodeType": "exprStmt",
                    "id": "V7ND7AkdNKaBM7FLIpU5fli4",
                    "locals": []
                  }
                ],
                "nodeType": "boxed",
                "id": "A1aqSSVOHZWLZMP2hqktMwWk"
              }
            ],
            "id": "xwM4QBfN36kNZ0nxJFoIibn0"
          },
          {
            "name": "first id",
            "comment": "",
            "type": "String",
            "isReadonly": false,
            "isTransient": true,
            "nodeType": "data",
            "id": "bV1pCf2mOO6g124ExROavGLH"
          },
          {
            "name": "second id",
            "comment": "",
            "type": "String",
            "isReadonly": false,
            "isTransient": true,
            "nodeType": "data",
            "id": "LX6d2222x6O2yqhqsH9kJ2iw"
          },
          {
            "name": "first user id",
            "inParameters": [],
            "outParameters": [
              {
                "name": "s",
                "type": "String",
                "nodeType": "localDef",
                "id": "vUy5L3RaYy74Aex9wbRCBm8lP0"
              }
            ],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "expr": "$vUy5L3RaYy74Aex9wbRCBm8lP0 ,:= :data #bV1pCf2mOO6g124ExROavGLH",
                "nodeType": "exprStmt",
                "id": "wEgQ37k0tKfrUE4PpVpnxdwO",
                "locals": []
              }
            ],
            "id": "vUy5L3RaYy74Aex9wbRCBm8l"
          },
          {
            "name": "second user id",
            "inParameters": [],
            "outParameters": [
              {
                "name": "s",
                "type": "String",
                "nodeType": "localDef",
                "id": "u4eI8wbAOVZL9q6ZiYfR1mTqP0"
              }
            ],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "expr": "$u4eI8wbAOVZL9q6ZiYfR1mTqP0 ,:= :data #LX6d2222x6O2yqhqsH9kJ2iw",
                "nodeType": "exprStmt",
                "id": "YYt9Pbu6oMyeoeJKB7QuRRrE",
                "locals": []
              }
            ],
            "id": "u4eI8wbAOVZL9q6ZiYfR1mTq"
          },
          {
            "nodeType": "record",
            "name": "paired",
            "sourceName": "paired index",
            "comment": "",
            "category": "index",
            "isCloudEnabled": true,
            "keys": [
              {
                "nodeType": "recordKey",
                "name": "first",
                "type": "String",
                "id": "JkF7GcQQjiRRrfP9szNa1TVj"
              },
              {
                "nodeType": "recordKey",
                "name": "second",
                "type": "String",
                "id": "fODUK73i2tkBLH42Cy4ozOmY"
              }
            ],
            "fields": [
              {
                "nodeType": "recordField",
                "name": "session",
                "type": "String",
                "id": "JKjeoj0wHvwADiqL4USsHsTj"
              }
            ],
            "id": "Khs296nLxHjRDdrtrNmfpEY8"
          },
          {
            "name": "show",
            "inParameters": [],
            "outParameters": [],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "page",
            "initBody": [
              {
                "expr": "",
                "nodeType": "exprStmt",
                "id": "xO22RZpjLxIAMBDdV2ydQabb",
                "locals": []
              }
            ],
            "displayBody": [
              {
                "expr": ":code #x4sEH0aa5bINc7kJzGEGR0ze",
                "nodeType": "exprStmt",
                "id": "rzI59Vg2Ya1J9DLb40oBg0WG",
                "locals": []
              }
            ],
            "id": "UgLNIWx9a2zQvP1NUHoo4Mty"
          },
          {
            "nodeType": "record",
            "name": "example counts",
            "sourceName": "example counts index",
            "comment": "",
            "category": "index",
            "isCloudEnabled": true,
            "keys": [
              {
                "nodeType": "recordKey",
                "name": "id",
                "type": "String",
                "id": "lW73IJd0z5qCBasW4W4wGPtb"
              }
            ],
            "fields": [
              {
                "nodeType": "recordField",
                "name": "count ",
                "type": "Number",
                "id": "rGSqW264OkNDWsfHqZCJ9sE0"
              }
            ],
            "id": "KQ2uvdhrAktDLg1scL145tTJ"
          },
          {
            "name": "game",
            "inParameters": [],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "page",
            "initBody": [
              {
                "nodeType": "if",
                "condition": ":code #vUy5L3RaYy74Aex9wbRCBm8l .equals ,( :bazaar .current_user .id ,)",
                "thenBody": [
                  {
                    "expr": ":data #x9NaGGSkRJB2uCKZX95RLYTy ,:= 'scrub18",
                    "nodeType": "exprStmt",
                    "id": "IWKj7UPiEUI2ZWtxEARvf7cs",
                    "locals": []
                  }
                ],
                "elseBody": [
                  {
                    "expr": ":data #x9NaGGSkRJB2uCKZX95RLYTy ,:= 'scrub19",
                    "nodeType": "exprStmt",
                    "id": "vHkVpJXDL6hDlLd0YKpNWqK1",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "SWXsk9EBOqvjwhONxaOx4kAq",
                "locals": []
              }
            ],
            "displayBody": [
              {
                "expr": "'scrub20 .post_to_wall",
                "nodeType": "exprStmt",
                "id": "xqsXHjNYow77VuMD6GsdHCGk",
                "locals": []
              },
              {
                "collection": ":records #KQ2uvdhrAktDLg1scL145tTJ",
                "conditions": [
                  {
                    "condition": "T",
                    "nodeType": "where",
                    "id": "xuR4OQ0NI2IoDtCSxSNy42BD",
                    "locals": []
                  }
                ],
                "body": [
                  {
                    "body": [
                      {
                        "expr": "$Huo8HKbfmckCSGNhMZAaZNqhB0 .id .post_to_wall",
                        "nodeType": "exprStmt",
                        "id": "xwYSPpS9575QQVi4zeLZH11x",
                        "locals": []
                      },
                      {
                        "expr": "$Huo8HKbfmckCSGNhMZAaZNqhB0 .count_ .get .to_string .post_to_wall",
                        "nodeType": "exprStmt",
                        "id": "XGsIScwpwhfOf5ij4QICBNHs",
                        "locals": []
                      },
                      {
                        "nodeType": "if",
                        "condition": "$Huo8HKbfmckCSGNhMZAaZNqhB0 .id .equals ,( :data #x9NaGGSkRJB2uCKZX95RLYTy ,)",
                        "thenBody": [
                          {
                            "expr": ":box .on_tapped ,( $xpoTmp11mLakLyTeM0hjTNcRB0 ,)",
                            "actions": [
                              {
                                "inParameters": [],
                                "outParameters": [],
                                "body": [
                                  {
                                    "expr": "$Huo8HKbfmckCSGNhMZAaZNqhB0 .count_ .add ,( ,1 ,)",
                                    "nodeType": "exprStmt",
                                    "id": "CYFEnGBhWJ2bIyE4Y0zl98V3",
                                    "locals": []
                                  }
                                ],
                                "nodeType": "inlineAction",
                                "id": "xpoTmp11mLakLyTeM0hjTNcR",
                                "locals": [
                                  {
                                    "name": "handler",
                                    "type": "Action",
                                    "nodeType": "localDef",
                                    "id": "xpoTmp11mLakLyTeM0hjTNcRB0"
                                  }
                                ]
                              }
                            ],
                            "nodeType": "inlineActions",
                            "id": "xvDNfa47W2uPb494TkVr2dj1",
                            "locals": []
                          }
                        ],
                        "isElseIf": false,
                        "id": "X8gfY5QxiUgvWm4T42XqUXV9",
                        "locals": []
                      }
                    ],
                    "nodeType": "boxed",
                    "id": "SElqIZkwADv4JFrUyCWs1sGK"
                  }
                ],
                "nodeType": "foreach",
                "id": "Huo8HKbfmckCSGNhMZAaZNqh",
                "locals": [
                  {
                    "name": "item",
                    "type": "{\"o\":\"example counts\"}",
                    "nodeType": "localDef",
                    "id": "Huo8HKbfmckCSGNhMZAaZNqhB0"
                  }
                ]
              }
            ],
            "id": "gIu3JfrNRiaV3kpn7Zapo0Ej"
          },
          {
            "name": "example player",
            "comment": "",
            "type": "String",
            "isReadonly": false,
            "isTransient": false,
            "nodeType": "data",
            "id": "x9NaGGSkRJB2uCKZX95RLYTy"
          },
          {
            "name": "pair style",
            "inParameters": [],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "expr": ":box .set_margins ,( ,. ,2 ,, ,. ,2 ,, ,. ,2 ,, ,. ,2 ,)",
                "nodeType": "exprStmt",
                "id": "qin48LiZOrS54IqJc5NX4Uwl",
                "locals": []
              },
              {
                "expr": ":box .set_padding ,( ,. ,2 ,, ,. ,2 ,, ,. ,2 ,, ,. ,2 ,)",
                "nodeType": "exprStmt",
                "id": "qTpFjwnr32TRgUpOB9gVN39T",
                "locals": []
              },
              {
                "expr": ":box .set_border ,( :colors .orange ,, ,0 ,. ,1 ,)",
                "nodeType": "exprStmt",
                "id": "jIjk0rxoJzNYuBgG7ZxWi01S",
                "locals": []
              }
            ],
            "id": "xpjNXBV6tNhtRGWsZsxP1rG4"
          },
          {
            "name": "example client",
            "inParameters": [],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "This library pairs up TouchDevelop users in cloud sessions, which is  useful for multi-user multi-device applications, such as turn-based games. The main entry point of the library is `show pairing dialog` which requires the client to provide two actions:",
                "nodeType": "comment",
                "id": "uGBP3ZP8ZoL9zdEtWeIJbWKo"
              },
              {
                "text": "* `initialize session`, which initialize the cloud data in the newly created session for a pair;",
                "nodeType": "comment",
                "id": "SCaXFE2bBct45VedZmD3oTLm"
              },
              {
                "text": "* `play`, which resumes the application from its current cloud session.",
                "nodeType": "comment",
                "id": "QGTFUZd3joXMacU4ihX2AK3L"
              },
              {
                "text": "The pairing protocol operates as follows:",
                "nodeType": "comment",
                "id": "N3p0Y28s0sY22ZLtrScZMgaG"
              },
              {
                "text": "* user A makes a \"pair me up\" request, which creates a partial pair (A,_)",
                "nodeType": "comment",
                "id": "x8WoEi8vzLo8mPbaIUSHcHEC"
              },
              {
                "text": "*  any user B that is not in a pair (A,B) already can respond to this request",
                "nodeType": "comment",
                "id": "xTRtwqSDBeWOpbASI4aJA22X"
              },
              {
                "text": "* when a pair (A,B) is created, user A has the option to delete it or \"play\" it.",
                "nodeType": "comment",
                "id": "l24faIBWV1OQz55FOhJeuubR"
              },
              {
                "text": "* when user A first \"plays\" a pair, a new cloud session is created for that pair, the init action is called and then the play action.",
                "nodeType": "comment",
                "id": "b2KpAcmS0JOTHYlEPrb94qSk"
              },
              {
                "text": "* Subsequent \"plays\" by A and B will only call the play action.",
                "nodeType": "comment",
                "id": "kYeWuHcgZ8rCGbIUd41H5jd1"
              },
              {
                "text": "The library provides functions `first user id` and `second user id` to return the first and second user ids of the current pair. Use the bazaar to map these user ids to Users.",
                "nodeType": "comment",
                "id": "gQn3aQeYRiA1VOzSzxNS4xN1"
              },
              {
                "expr": ":code #xwM4QBfN36kNZ0nxJFoIibn0 ,( $kyEqDZXAuW00y04Ggz5ssnClB0 ,, $xYKJMSCjDBedw2EHCHsioj70B0 ,)",
                "actions": [
                  {
                    "inParameters": [],
                    "outParameters": [],
                    "body": [
                      {
                        "expr": ":records #KQ2uvdhrAktDLg1scL145tTJ .clear",
                        "nodeType": "exprStmt",
                        "id": "mTuGmfZypeRT83AsTplmjfkp",
                        "locals": []
                      },
                      {
                        "expr": ":records #KQ2uvdhrAktDLg1scL145tTJ .at ,( 'scrub18 ,) .count_ .set ,( ,1 ,)",
                        "nodeType": "exprStmt",
                        "id": "sdSmbAkBNxpG4e6fn6QuVPaK",
                        "locals": []
                      },
                      {
                        "expr": ":records #KQ2uvdhrAktDLg1scL145tTJ .at ,( 'scrub19 ,) .count_ .set ,( ,1 ,)",
                        "nodeType": "exprStmt",
                        "id": "xiVGj6J33VKR47OBO0HOhskN",
                        "locals": []
                      }
                    ],
                    "nodeType": "inlineAction",
                    "id": "kyEqDZXAuW00y04Ggz5ssnCl",
                    "locals": [
                      {
                        "name": "init",
                        "type": "Action",
                        "nodeType": "localDef",
                        "id": "kyEqDZXAuW00y04Ggz5ssnClB0"
                      }
                    ]
                  },
                  {
                    "inParameters": [],
                    "outParameters": [],
                    "body": [
                      {
                        "expr": ":code #gIu3JfrNRiaV3kpn7Zapo0Ej",
                        "nodeType": "exprStmt",
                        "id": "F3Yf3lz8vwRCWn9cLPr9pySO",
                        "locals": []
                      },
                      {
                        "expr": "",
                        "nodeType": "exprStmt",
                        "id": "aNaNs8zX64r1wZ3kGSe2zaHP",
                        "locals": []
                      }
                    ],
                    "nodeType": "inlineAction",
                    "id": "xYKJMSCjDBedw2EHCHsioj70",
                    "locals": [
                      {
                        "name": "play",
                        "type": "Action",
                        "nodeType": "localDef",
                        "id": "xYKJMSCjDBedw2EHCHsioj70B0"
                      }
                    ]
                  }
                ],
                "nodeType": "inlineActions",
                "id": "fLXGKsaz8Ns9XIQdwArcDFjD",
                "locals": []
              },
              {
                "text": "{decl:game}",
                "nodeType": "comment",
                "id": "DuZt21vJZxNF2B1ZJ2cAjGaH"
              }
            ],
            "id": "x4sEH0aa5bINc7kJzGEGR0ze"
          }
        ],
        "deletedDecls": [],
        "nodeType": "app",
        "id": "app"
      }
    },
    {
      "seqNo": 1,
      "time": 1379025527,
      "scriptId": null,
      "historyId": "25202327527252899236abacd5b-00ed-4c08-a71b-85b221cedb39",
      "updateSize": 2,
      "updates": {}
    },
    {
      "seqNo": 2,
      "time": 1379031532,
      "scriptId": "xhuza",
      "historyId": "25202326926727947076a0fad84-21d1-4232-830e-c3a3ef5fe9d5",
      "updateSize": 71,
      "updates": {
        "app": {
          "comment": "A library for pairing up users in cloud sessions."
        }
      }
    },
    {
      "seqNo": 3,
      "time": 1379031540,
      "scriptId": "xhuza",
      "historyId": "252023269259576032893361115-b213-4333-8a7b-0badd5ea9321",
      "updateSize": 2,
      "updates": {}
    },
    {
      "seqNo": 4,
      "time": 1379032622,
      "scriptId": null,
      "historyId": "252023268177749949945d944a4-0919-4c50-9178-09f468a26a5b",
      "updateSize": 166,
      "updates": {
        "kgqc4t2RfPE4vF4hfinSdwip": {
          "expr": "",
          "nodeType": "exprStmt",
          "locals": []
        },
        "vUy5L3RaYy74Aex9wbRCBm8l": {
          "body": [
            "wEgQ37k0tKfrUE4PpVpnxdwO",
            "kgqc4t2RfPE4vF4hfinSdwip"
          ]
        }
      }
    },
    {
      "seqNo": 5,
      "time": 1379032638,
      "scriptId": null,
      "historyId": "2520232681610293474b6eba78a-21b5-498d-b2a6-9b946a800029",
      "updateSize": 1091,
      "updates": {
        "kgqc4t2RfPE4vF4hfinSdwip": {
          "expr": ":art #voCobIZqD4o5OpDmxSQOZFdD"
        },
        "q4XtKdViediCKha3Ler64tz2": {
          "name": "monster",
          "comment": "",
          "type": "Picture",
          "isReadonly": true,
          "isTransient": true,
          "nodeType": "art",
          "url": "https://az31353.vo.msecnd.net/pub/ymggwtmn"
        },
        "voCobIZqD4o5OpDmxSQOZFdD": {
          "name": "llamas in space main screen",
          "comment": "",
          "type": "Picture",
          "isReadonly": true,
          "isTransient": true,
          "nodeType": "art",
          "url": "https://az31353.vo.msecnd.net/pub/efmnlwdl"
        },
        "app": {
          "decls": [
            "xzWmvX9EkvBO86LZaRk4ep5C",
            "vqS8u9S5f49S3CfE3WIn4BjE",
            "x9TmeBP74EYbaLV5P07sWl0S",
            "x411qQTZG2QDl614kyj0jlsr",
            "EV0QbjuF7OwGlyfXFA8bJOv1",
            "g98408yBYm9UJQd4pYgtr48B",
            "cmqfKcJD1VWM0aXOzD21zGj7",
            "ehrI3KhI2VGd87AvepTIbdRA",
            "lj1iKFtmRQ244y9UZju697Of",
            "xwM4QBfN36kNZ0nxJFoIibn0",
            "bV1pCf2mOO6g124ExROavGLH",
            "LX6d2222x6O2yqhqsH9kJ2iw",
            "vUy5L3RaYy74Aex9wbRCBm8l",
            "u4eI8wbAOVZL9q6ZiYfR1mTq",
            "Khs296nLxHjRDdrtrNmfpEY8",
            "UgLNIWx9a2zQvP1NUHoo4Mty",
            "KQ2uvdhrAktDLg1scL145tTJ",
            "gIu3JfrNRiaV3kpn7Zapo0Ej",
            "x9NaGGSkRJB2uCKZX95RLYTy",
            "xpjNXBV6tNhtRGWsZsxP1rG4",
            "x4sEH0aa5bINc7kJzGEGR0ze",
            "q4XtKdViediCKha3Ler64tz2",
            "voCobIZqD4o5OpDmxSQOZFdD"
          ]
        }
      }
    }
  ]
}