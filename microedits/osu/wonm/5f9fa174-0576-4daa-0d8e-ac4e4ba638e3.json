{
  "userid": "wonm",
  "guid": "5f9fa174-0576-4daa-0d8e-ac4e4ba638e3",
  "lastStatus": "deleted",
  "items": [
    {
      "seqNo": 0,
      "time": 1364320886,
      "scriptId": "fwln",
      "historyId": "25203797991320414930732dc18-b44e-4f1b-be44-e014fdea9056",
      "updateSize": 74715,
      "ast": {
        "textVersion": "v2.2,js,ctx",
        "jsonVersion": "v1.0,resolved,short",
        "name": "facebook",
        "comment": "Allows to create requests against the Facebook Graph APIs.",
        "icon": "AddUser",
        "autoIcon": "AddUser",
        "autoColor": "#A1CAF1",
        "platform": "current",
        "rootId": "BSZ1Y25hZe84kJz7qUs8Ngjm",
        "showAd": false,
        "isLibrary": true,
        "allowExport": true,
        "hasUniqueIds": false,
        "decls": [
          {
            "name": "example",
            "inParameters": [],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "This library provides the building blocks to do Facebook Graph API requests (http://developers.facebook.com/docs/reference/apis/).",
                "nodeType": "comment",
                "id": "i6atIuWwKXODQn0B4CTit2FM"
              },
              {
                "text": "## Registering a Facebook app",
                "nodeType": "comment",
                "id": "jZXJSGuGvDNRBIJ2y6fw6ydY"
              },
              {
                "text": "Before you get started, you will need to create a Facebook app (if you have not done so). Start from here:",
                "nodeType": "comment",
                "id": "Yh8zHH0ykH12CaWJOw3H13p8"
              },
              {
                "text": "* https://developers.facebook.com/apps",
                "nodeType": "comment",
                "id": "UADajTakJxop3bxxExrlk2Ha"
              },
              {
                "text": "Once you've created your Facebook app, expand the `Website with Facebook Login` tab and enter the following url:",
                "nodeType": "comment",
                "id": "H40qi6qAngc4CmFu9xSix0LH"
              },
              {
                "text": "* https://www.touchdevelop.com/[userid]/oauth",
                "nodeType": "comment",
                "id": "yK0lUiEXh0jSZ6Ioq9QszUPR"
              },
              {
                "text": "where `[userid]` should be replaced with your TouchDevelop user id. That is the funny word listed under your name in the hub (`/xyz`).",
                "nodeType": "comment",
                "id": "QE4YRkx2lxqAIetNRHdr8mQ2"
              },
              {
                "text": "## Authentication",
                "nodeType": "comment",
                "id": "x3IZrDjZL2TwEcPyP8GZyEjz"
              },
              {
                "text": "Grab your Facebook App ID (NOT the secret!) and pass it to the `authentication` action. Do not worry about leaking this id; it is designed to be public.",
                "nodeType": "comment",
                "id": "NIsb6SU2xZVvMMMYcez9xmA1"
              },
              {
                "text": "The second argument is the permission scope. For example, to post to the users wall, you will need the 'publish_stream' permission.",
                "nodeType": "comment",
                "id": "t2BEhD2Ee2HxXTU2GMl6OT0x"
              },
              {
                "expr": "$ih0wXbOQVhWHsKPSm6NasfFLL0 ,:= 'App_ID",
                "nodeType": "exprStmt",
                "id": "ih0wXbOQVhWHsKPSm6NasfFL",
                "locals": [
                  {
                    "name": "application id",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "ih0wXbOQVhWHsKPSm6NasfFLL0"
                  }
                ]
              },
              {
                "expr": ":code #Vkhf99vmiBtHLXoJEIyOLN1F ,( $ih0wXbOQVhWHsKPSm6NasfFLL0 ,, 'publish/005fstream/002cpublish/005factions/002cread/005ffriendlists ,)",
                "nodeType": "exprStmt",
                "id": "sgLczXwb34dprNJOVpaDVqj2",
                "locals": []
              },
              {
                "text": "## Reading the Facebook wall",
                "nodeType": "comment",
                "id": "EfyALRvSogECIFeRX28qYINq"
              },
              {
                "text": "You can read the messages on a user wall by using `feed`. Leave `user id` blank for the current user. Requires `read_stream` permission.",
                "nodeType": "comment",
                "id": "CZYqfr5zTKwE5h4NmPFg4OM0"
              },
              {
                "expr": "$RMrzgrO67QJ352xlE14YK2tqL0 ,:= :code #epH2vwQISZYBrZ2aSFClaqW7 ,( ' ,)",
                "nodeType": "exprStmt",
                "id": "RMrzgrO67QJ352xlE14YK2tq",
                "locals": [
                  {
                    "name": "msgs",
                    "type": "Message Collection",
                    "nodeType": "localDef",
                    "id": "RMrzgrO67QJ352xlE14YK2tqL0"
                  }
                ]
              },
              {
                "expr": ",( '/0023_msgs/003a_ ,∥ $RMrzgrO67QJ352xlE14YK2tqL0 .count ,) .post_to_wall",
                "nodeType": "exprStmt",
                "id": "cV2YrBnfiuzBWwPYM3lGIh4w",
                "locals": []
              },
              {
                "text": "## Posting to the Facebool wall",
                "nodeType": "comment",
                "id": "REk97wVUvTX4ot1vCoqsUbSd"
              },
              {
                "text": "A common Facebook activity is to post messages or photos to your wall. This is done through the `post text`, `post message`, `post link` or `post picture` actions. These actions require the `publish_stream` permission.",
                "nodeType": "comment",
                "id": "Ek4xVbM60N4rVsYDXT0xEdtU"
              },
              {
                "text": "* posting a simple message",
                "nodeType": "comment",
                "id": "xkRPuFcke82eXa2c06iSELb2"
              },
              {
                "expr": "$q04adlC4RdO7di9jAZjiVCh4L0 ,:= :code #xURfx1X7AWfjvS0CNw35hG5P ,( ' ,, 'TouchDevelop_is_cool/0021 ,)",
                "nodeType": "exprStmt",
                "id": "q04adlC4RdO7di9jAZjiVCh4",
                "locals": [
                  {
                    "name": "id",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "q04adlC4RdO7di9jAZjiVCh4L0"
                  }
                ]
              },
              {
                "expr": ",( 'text_id/003a_ ,∥ $q04adlC4RdO7di9jAZjiVCh4L0 ,) .post_to_wall",
                "nodeType": "exprStmt",
                "id": "ya4VlzOo62Exs11qqrRX6wU1",
                "locals": []
              },
              {
                "text": "* posting a link",
                "nodeType": "comment",
                "id": "jWBgPbWp31s5RaIEw5WWn9mx"
              },
              {
                "expr": "$q04adlC4RdO7di9jAZjiVCh4L0 ,:= :code #KvTT6PbaV4Yoyc0zvI52SBN0 ,( ' ,, 'This_is_cool/0021 ,, :web .link_url ,( 'TouchDevelop ,, 'https/003a/002f/002fwww/002etouchdevelop/002ecom ,) ,)",
                "nodeType": "exprStmt",
                "id": "LDDDP14uR3FDKL9s327IjXRM",
                "locals": []
              },
              {
                "expr": ",( 'link_id/003a_ ,∥ $q04adlC4RdO7di9jAZjiVCh4L0 ,) .post_to_wall",
                "nodeType": "exprStmt",
                "id": "yKyD5k83G4vCy39PNjslhhgu",
                "locals": []
              },
              {
                "text": "* posting a message",
                "nodeType": "comment",
                "id": "W3VqbtJrmusLEzEIEOeG4yF6"
              },
              {
                "expr": "$xFDGizY445bxNVPfoRBTZhF3L0 ,:= :social .create_message ,( 'This_is_cool/0021 ,)",
                "nodeType": "exprStmt",
                "id": "xFDGizY445bxNVPfoRBTZhF3",
                "locals": [
                  {
                    "name": "msg",
                    "type": "Message",
                    "nodeType": "localDef",
                    "id": "xFDGizY445bxNVPfoRBTZhF3L0"
                  }
                ]
              },
              {
                "expr": "$xFDGizY445bxNVPfoRBTZhF3L0 .set_link ,( 'https/003a/002f/002fwww/002etouchdevelop/002ecom ,)",
                "nodeType": "exprStmt",
                "id": "wdKFXMOkVSqQOIhNoqJCDuVU",
                "locals": []
              },
              {
                "expr": "$q04adlC4RdO7di9jAZjiVCh4L0 ,:= :code #n3eYlBRkQAheD7JMsquiqN6B ,( $xFDGizY445bxNVPfoRBTZhF3L0 ,)",
                "nodeType": "exprStmt",
                "id": "xsQsfQU83HgPG29zYr4t9NuC",
                "locals": []
              },
              {
                "expr": ",( 'message_id/003a_ ,∥ $q04adlC4RdO7di9jAZjiVCh4L0 ,) .post_to_wall",
                "nodeType": "exprStmt",
                "id": "rgsz31MHi6IkG2ivCVAO10N3",
                "locals": []
              },
              {
                "text": "* posting a picture",
                "nodeType": "comment",
                "id": "S1fBjlM33lr2sI2xsC7L92L2"
              },
              {
                "text": "Let's create a dummy picture to upload...",
                "nodeType": "comment",
                "id": "UhSTrJVO7qOxlh1TcEtwAiBd"
              },
              {
                "expr": "$fblfSrlpVnHLYecS6osueJD3L0 ,:= :media .create_picture ,( ,4 ,8 ,0 ,, ,8 ,0 ,0 ,)",
                "nodeType": "exprStmt",
                "id": "fblfSrlpVnHLYecS6osueJD3",
                "locals": [
                  {
                    "name": "pic",
                    "type": "Picture",
                    "nodeType": "localDef",
                    "id": "fblfSrlpVnHLYecS6osueJD3L0"
                  }
                ]
              },
              {
                "expr": "$fblfSrlpVnHLYecS6osueJD3L0 .clear ,( :colors .random ,)",
                "nodeType": "exprStmt",
                "id": "xIWU1Q3usfLJz3ZSWMZcow4j",
                "locals": []
              },
              {
                "expr": "$fblfSrlpVnHLYecS6osueJD3L0 .draw_text ,( ,3 ,0 ,0 ,, ,1 ,5 ,0 ,, 'TouchDevelop_is_cool/0021 ,, ,3 ,2 ,, ,4 ,5 ,, :colors .white ,)",
                "nodeType": "exprStmt",
                "id": "xTXRReE4WlflfvKjKMlhh7nO",
                "locals": []
              },
              {
                "text": "Posting the picture to the Facebook wall.",
                "nodeType": "comment",
                "id": "T2GUE2gqnc59np4EK8ZfP6rg"
              },
              {
                "expr": "$q04adlC4RdO7di9jAZjiVCh4L0 ,:= :code #XL7b2cXHsvVYqm45435q9Ylx ,( ' ,, $fblfSrlpVnHLYecS6osueJD3L0 ,, 'dummy_pic ,, 'Nice_pic/0021 ,)",
                "nodeType": "exprStmt",
                "id": "xmdgigZ5bLzP10kra628oRS5",
                "locals": []
              },
              {
                "expr": ",( 'picture_id/003a_ ,∥ $fblfSrlpVnHLYecS6osueJD3L0 ,) .post_to_wall",
                "nodeType": "exprStmt",
                "id": "dl9DCbkmTwIv82Ft6F045G0G",
                "locals": []
              },
              {
                "text": "## Friends and Friend lists",
                "nodeType": "comment",
                "id": "K4baZT7nJA6AGxHk324q2mTf"
              },
              {
                "text": "* `friends` returns the friends from a user. The returned value is a map from each user id to its name.",
                "nodeType": "comment",
                "id": "xbO4c1CzSYhNhk4bj4E6x7un"
              },
              {
                "expr": "$xfKNAQ9qztPEpcsnrdd55j4DL0 ,:= :code #xBW3NuNBDrsDO4eWhl4Y71rK ,( ' ,)",
                "nodeType": "exprStmt",
                "id": "xfKNAQ9qztPEpcsnrdd55j4D",
                "locals": [
                  {
                    "name": "users",
                    "type": "String Map",
                    "nodeType": "localDef",
                    "id": "xfKNAQ9qztPEpcsnrdd55j4DL0"
                  }
                ]
              },
              {
                "expr": ",( '/0023_friends/003a_ ,∥ $xfKNAQ9qztPEpcsnrdd55j4DL0 .count ,) .post_to_wall",
                "nodeType": "exprStmt",
                "id": "x3B7Sz1F08QsZFy795rKyDou",
                "locals": []
              },
              {
                "text": "* `friend lists` returns the list of friends if any. This feature requires the `read_friendlists` permission. Then you can use the `friend list` action to get the list of users in each list.",
                "nodeType": "comment",
                "id": "nQB2iwNxg2l4CXfF0DKrCT8W"
              },
              {
                "expr": "$H2oiN9F9BQJmNSCUMjBjb62JL0 ,:= :code #x0wJo4wC40ntBtuuTk6wMMJS",
                "nodeType": "exprStmt",
                "id": "H2oiN9F9BQJmNSCUMjBjb62J",
                "locals": [
                  {
                    "name": "lists",
                    "type": "String Map",
                    "nodeType": "localDef",
                    "id": "H2oiN9F9BQJmNSCUMjBjb62JL0"
                  }
                ]
              },
              {
                "collection": "$H2oiN9F9BQJmNSCUMjBjb62JL0 .keys",
                "conditions": [
                  {
                    "condition": "T",
                    "nodeType": "where",
                    "id": "JZ3NjX8vqjNpyai04KatAC2B",
                    "locals": []
                  }
                ],
                "body": [
                  {
                    "expr": "$B6u4F3PdR3XxHloECj5yw3nML0 ,:= :code #LpbiVXqIQ6shgb5OJYhVQXKk ,( $CfZ0Ia6HCUED41mmyFa1mu6uB0 ,)",
                    "nodeType": "exprStmt",
                    "id": "B6u4F3PdR3XxHloECj5yw3nM",
                    "locals": [
                      {
                        "name": "list users",
                        "type": "String Map",
                        "nodeType": "localDef",
                        "id": "B6u4F3PdR3XxHloECj5yw3nML0"
                      }
                    ]
                  },
                  {
                    "expr": ",( '/0023_friend_list_ ,∥ $CfZ0Ia6HCUED41mmyFa1mu6uB0 ,∥ '/003a_ ,∥ $B6u4F3PdR3XxHloECj5yw3nML0 ,) .post_to_wall",
                    "nodeType": "exprStmt",
                    "id": "xloZD6tv57YELbCh0j6pGxmf",
                    "locals": []
                  }
                ],
                "nodeType": "foreach",
                "id": "CfZ0Ia6HCUED41mmyFa1mu6u",
                "locals": [
                  {
                    "name": "list id",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "CfZ0Ia6HCUED41mmyFa1mu6uB0"
                  }
                ]
              },
              {
                "text": "## Leaderboard scores",
                "nodeType": "comment",
                "id": "wcqw3zdAEJbfHL2z2Uy229rE"
              },
              {
                "text": "You can use `post leaderboard score` to create or update the user score for your game. Requires the `publish_actions` permission and the app must be categorized as `game`. See http://developers.facebook.com/docs/howtos/scores/ .",
                "nodeType": "comment",
                "id": "c4wWcMlU4RpuDBg6J5Mtmu1d"
              },
              {
                "expr": "$bfMbx5obenAAX5pBNu0J9sK8L0 ,:= :math .random ,( ,1 ,0 ,0 ,)",
                "nodeType": "exprStmt",
                "id": "bfMbx5obenAAX5pBNu0J9sK8",
                "locals": [
                  {
                    "name": "score",
                    "type": "Number",
                    "nodeType": "localDef",
                    "id": "bfMbx5obenAAX5pBNu0J9sK8L0"
                  }
                ]
              },
              {
                "expr": ",( 'score/003a_ ,∥ $bfMbx5obenAAX5pBNu0J9sK8L0 ,) .post_to_wall",
                "nodeType": "exprStmt",
                "id": "QhFfHD0d0buHKnK6F62tYuGx",
                "locals": []
              },
              {
                "expr": "$IRwTtfU7kpOYyaYANLBvlMH0L0 ,:= :code #daoy4SiTWX2QrZ4QCQgRoaoh ,( $bfMbx5obenAAX5pBNu0J9sK8L0 ,)",
                "nodeType": "exprStmt",
                "id": "IRwTtfU7kpOYyaYANLBvlMH0",
                "locals": [
                  {
                    "name": "success",
                    "type": "Boolean",
                    "nodeType": "localDef",
                    "id": "IRwTtfU7kpOYyaYANLBvlMH0L0"
                  }
                ]
              },
              {
                "text": "You can read the current user score using `score`.",
                "nodeType": "comment",
                "id": "Lo3e2FB4CGYxXFiBc4MkKsvk"
              },
              {
                "expr": ",( 'my_score_is_ ,∥ :code #Nx9nTw0lDXX4UFFop2tNmN0c ,) .post_to_wall",
                "nodeType": "exprStmt",
                "id": "aJ8DFxQ13MVDFNT07oTPveUx",
                "locals": []
              },
              {
                "text": "You can also use `show leaderboards` to push a page with the leaderboards.",
                "nodeType": "comment",
                "id": "x25fZnIzidypVxFHgwPZKt1T"
              },
              {
                "text": "## Creating requests",
                "nodeType": "comment",
                "id": "eb2BPDSOJxI0LnrrT2lYrjKH"
              },
              {
                "text": "You can use the `create request` action to craft more specialized requests against the Facebook Graph API.",
                "nodeType": "comment",
                "id": "xo84yvOMw79WHuG24vHTWGPp"
              },
              {
                "text": "The library will append the access token as needed; and will refresh the token if necessary.",
                "nodeType": "comment",
                "id": "YUDlwdT4R3cFFeRKG2D6Qdni"
              },
              {
                "expr": "$xpbXGA9L914MQ2KK5pZGuBBML0 ,:= :code #XDVQ4ushHS6663xaZDJhHpuq ,( 'me ,, ' ,)",
                "nodeType": "exprStmt",
                "id": "xpbXGA9L914MQ2KK5pZGuBBM",
                "locals": [
                  {
                    "name": "request",
                    "type": "Web Request",
                    "nodeType": "localDef",
                    "id": "xpbXGA9L914MQ2KK5pZGuBBML0"
                  }
                ]
              },
              {
                "text": "Once you have the request object, you can set the additional parameters and send it away!",
                "nodeType": "comment",
                "id": "zcx3Jd4eufxIQwIZYYxFyh0r"
              },
              {
                "expr": "$oCc43gJ2acrgn1fCH4GNvP6ZL0 ,:= $xpbXGA9L914MQ2KK5pZGuBBML0 .send",
                "nodeType": "exprStmt",
                "id": "oCc43gJ2acrgn1fCH4GNvP6Z",
                "locals": [
                  {
                    "name": "response",
                    "type": "Web Response",
                    "nodeType": "localDef",
                    "id": "oCc43gJ2acrgn1fCH4GNvP6ZL0"
                  }
                ]
              },
              {
                "expr": "$oCc43gJ2acrgn1fCH4GNvP6ZL0 .post_to_wall",
                "nodeType": "exprStmt",
                "id": "yG1ooOS74uo9CQYw8WX4T3Sk",
                "locals": []
              }
            ],
            "id": "rGcYDUUA4MlripowSvzMRdHV"
          },
          {
            "name": "authenticate",
            "inParameters": [
              {
                "name": "application id",
                "type": "String",
                "nodeType": "localDef",
                "id": "Vkhf99vmiBtHLXoJEIyOLN1FP0"
              },
              {
                "name": "scope",
                "type": "String",
                "nodeType": "localDef",
                "id": "Vkhf99vmiBtHLXoJEIyOLN1FP1"
              }
            ],
            "outParameters": [],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "Authenticates the user with the given application. `scope` is a comma-separated list of permissions used by this application.",
                "nodeType": "comment",
                "id": "o7iduDwZwfEN1KjF0l2c2xrk"
              },
              {
                "nodeType": "if",
                "condition": "$Vkhf99vmiBtHLXoJEIyOLN1FP0 .is_invalid",
                "thenBody": [
                  {
                    "expr": "$Vkhf99vmiBtHLXoJEIyOLN1FP0 ,:= '",
                    "nodeType": "exprStmt",
                    "id": "xEC5lht25g4ioExf6iKJ8MvN",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "HN2VdDIRauRytiYe9jGK2YfO",
                "locals": []
              },
              {
                "nodeType": "if",
                "condition": "$Vkhf99vmiBtHLXoJEIyOLN1FP1 .is_invalid",
                "thenBody": [
                  {
                    "expr": "$Vkhf99vmiBtHLXoJEIyOLN1FP1 ,:= '",
                    "nodeType": "exprStmt",
                    "id": "glXvtyQxBBeBNk4M8Kd12cpy",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "lSxZhjw7r2FsYoae2cpovDGQ",
                "locals": []
              },
              {
                "expr": "$q6jyu4ycxHOSwfgx6F8Y4e67L0 ,:= :data #uYiAdRyALWxDSH1XPMgvRRtS .is_invalid ,or :data #uYiAdRyALWxDSH1XPMgvRRtS .is_expiring ,( ,1 ,0 ,0 ,) ,or :data #CFhZzX02TLdS0htdHmCRCN54 .is_invalid ,or ,not :data #CFhZzX02TLdS0htdHmCRCN54 .equals ,( $Vkhf99vmiBtHLXoJEIyOLN1FP0 ,) ,or ,not :data #mYc4POCRBMDWLecSzBWxHCpy .contains ,( $Vkhf99vmiBtHLXoJEIyOLN1FP1 ,)",
                "nodeType": "exprStmt",
                "id": "q6jyu4ycxHOSwfgx6F8Y4e67",
                "locals": [
                  {
                    "name": "needs refresh",
                    "type": "Boolean",
                    "nodeType": "localDef",
                    "id": "q6jyu4ycxHOSwfgx6F8Y4e67L0"
                  }
                ]
              },
              {
                "nodeType": "if",
                "condition": "$q6jyu4ycxHOSwfgx6F8Y4e67L0",
                "thenBody": [
                  {
                    "expr": ":data #CFhZzX02TLdS0htdHmCRCN54 ,:= $Vkhf99vmiBtHLXoJEIyOLN1FP0",
                    "nodeType": "exprStmt",
                    "id": "xPMpHU2QVuth1FRwU0vM6j4j",
                    "locals": []
                  },
                  {
                    "expr": ":data #mYc4POCRBMDWLecSzBWxHCpy ,:= $Vkhf99vmiBtHLXoJEIyOLN1FP1",
                    "nodeType": "exprStmt",
                    "id": "uWde4p27RN9R2Vi58aOlxk2B",
                    "locals": []
                  },
                  {
                    "nodeType": "if",
                    "condition": "$Vkhf99vmiBtHLXoJEIyOLN1FP0 .is_empty",
                    "thenBody": [
                      {
                        "expr": ":data #uYiAdRyALWxDSH1XPMgvRRtS ,:= :invalid .oauth_response",
                        "nodeType": "exprStmt",
                        "id": "wEtpDvAmaIJngqcgBnm2iwTi",
                        "locals": []
                      }
                    ],
                    "elseBody": [
                      {
                        "expr": "$zLwERy07ZDWklrTduvWPynfeL0 ,:= 'https/003a/002f/002fwww/002efacebook/002ecom/002fdialog/002foauth/002f/003fclient/005fid/003d ,∥ :web .url_encode ,( :data #CFhZzX02TLdS0htdHmCRCN54 ,) ,∥ '/0026scope/003d ,∥ :web .url_encode ,( :data #mYc4POCRBMDWLecSzBWxHCpy ,)",
                        "nodeType": "exprStmt",
                        "id": "zLwERy07ZDWklrTduvWPynfe",
                        "locals": [
                          {
                            "name": "url",
                            "type": "String",
                            "nodeType": "localDef",
                            "id": "zLwERy07ZDWklrTduvWPynfeL0"
                          }
                        ]
                      },
                      {
                        "expr": ":data #uYiAdRyALWxDSH1XPMgvRRtS ,:= :web .oauth_v2 ,( $zLwERy07ZDWklrTduvWPynfeL0 ,)",
                        "nodeType": "exprStmt",
                        "id": "xAKNC2EFZGwUmjIL001YsjZQ",
                        "locals": []
                      }
                    ],
                    "isElseIf": false,
                    "id": "U4ESeEaj6O4apC6D4TUZvTUI",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "iBEMPfjLyY1YeNGrr90XjeE1",
                "locals": []
              }
            ],
            "id": "Vkhf99vmiBtHLXoJEIyOLN1F"
          },
          {
            "name": "create request",
            "inParameters": [
              {
                "name": "graph path",
                "type": "String",
                "nodeType": "localDef",
                "id": "XDVQ4ushHS6663xaZDJhHpuqP0"
              },
              {
                "name": "query arguments",
                "type": "String",
                "nodeType": "localDef",
                "id": "XDVQ4ushHS6663xaZDJhHpuqP1"
              }
            ],
            "outParameters": [
              {
                "name": "request",
                "type": "Web Request",
                "nodeType": "localDef",
                "id": "XDVQ4ushHS6663xaZDJhHpuqP2"
              }
            ],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "Creates a Facebook Graph request with the given path and additional query arguments. Authenticates the user if needed. Returns invalid if authentication failed.",
                "nodeType": "comment",
                "id": "MQd4uqvwSpgKFfFIwHR9CGdi"
              },
              {
                "expr": ":code #Vkhf99vmiBtHLXoJEIyOLN1F ,( :data #CFhZzX02TLdS0htdHmCRCN54 ,, :data #mYc4POCRBMDWLecSzBWxHCpy ,)",
                "nodeType": "exprStmt",
                "id": "tq8oUGeQkhKl5Hmd8T3VrWk9",
                "locals": []
              },
              {
                "nodeType": "if",
                "condition": ":data #uYiAdRyALWxDSH1XPMgvRRtS .is_invalid ,or :data #uYiAdRyALWxDSH1XPMgvRRtS .is_error",
                "thenBody": [
                  {
                    "expr": "$XDVQ4ushHS6663xaZDJhHpuqP2 ,:= :invalid .web_request",
                    "nodeType": "exprStmt",
                    "id": "cFLn08W84vanRC5WR2oy44Kg",
                    "locals": []
                  }
                ],
                "elseBody": [
                  {
                    "expr": "$JxCt2A4CiAKiF45z3qFMdYzyL0 ,:= 'https/003a/002f/002fgraph/002efacebook/002ecom/002f ,∥ $XDVQ4ushHS6663xaZDJhHpuqP0 .trim_start ,( '/002f ,) ,∥ '/003faccess/005ftoken/003d ,∥ :data #uYiAdRyALWxDSH1XPMgvRRtS .access_token",
                    "nodeType": "exprStmt",
                    "id": "JxCt2A4CiAKiF45z3qFMdYzy",
                    "locals": [
                      {
                        "name": "url",
                        "type": "String",
                        "nodeType": "localDef",
                        "id": "JxCt2A4CiAKiF45z3qFMdYzyL0"
                      }
                    ]
                  },
                  {
                    "nodeType": "if",
                    "condition": ",not $XDVQ4ushHS6663xaZDJhHpuqP1 .is_empty",
                    "thenBody": [
                      {
                        "expr": "$JxCt2A4CiAKiF45z3qFMdYzyL0 ,:= $JxCt2A4CiAKiF45z3qFMdYzyL0 ,∥ '/0026 ,∥ $XDVQ4ushHS6663xaZDJhHpuqP1",
                        "nodeType": "exprStmt",
                        "id": "xveyEgBJnl2axNnFSvxl4GjT",
                        "locals": []
                      }
                    ],
                    "isElseIf": false,
                    "id": "cHZQl4hNCLU0z4WVCbpxB4P1",
                    "locals": []
                  },
                  {
                    "expr": "$XDVQ4ushHS6663xaZDJhHpuqP2 ,:= :web .create_request ,( $JxCt2A4CiAKiF45z3qFMdYzyL0 ,)",
                    "nodeType": "exprStmt",
                    "id": "NAFkw49ib4k5H7CZgiWpMGKn",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "a9pH5eK9lpYxbXzcA90tbO62",
                "locals": []
              }
            ],
            "id": "XDVQ4ushHS6663xaZDJhHpuq"
          },
          {
            "name": "oauth res",
            "comment": "",
            "type": "OAuth Response",
            "isReadonly": false,
            "isTransient": false,
            "nodeType": "data",
            "id": "uYiAdRyALWxDSH1XPMgvRRtS"
          },
          {
            "name": "application id",
            "comment": "",
            "type": "String",
            "isReadonly": false,
            "isTransient": false,
            "nodeType": "data",
            "id": "CFhZzX02TLdS0htdHmCRCN54"
          },
          {
            "name": "post text",
            "inParameters": [
              {
                "name": "user id",
                "type": "String",
                "nodeType": "localDef",
                "id": "xURfx1X7AWfjvS0CNw35hG5PP0"
              },
              {
                "name": "message",
                "type": "String",
                "nodeType": "localDef",
                "id": "xURfx1X7AWfjvS0CNw35hG5PP1"
              }
            ],
            "outParameters": [
              {
                "name": "id",
                "type": "String",
                "nodeType": "localDef",
                "id": "xURfx1X7AWfjvS0CNw35hG5PP2"
              }
            ],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "Posts a message to the current user Facebook wall and returns the ID of the generated message if successfull. Leave `user id` blank to use the current user. Requires `publish_stream` scope.",
                "nodeType": "comment",
                "id": "xRfXH1hRsQkm401JA5M2cBNd"
              },
              {
                "expr": "$xURfx1X7AWfjvS0CNw35hG5PP2 ,:= :code #xu9IShFBC0RmoGC0VqIoc1DY ,( $xURfx1X7AWfjvS0CNw35hG5PP0 ,, 'message/003d ,∥ :web .url_encode ,( $xURfx1X7AWfjvS0CNw35hG5PP1 ,) ,)",
                "nodeType": "exprStmt",
                "id": "SnMz49pZrCn5jWMDoLIOMPCT",
                "locals": []
              }
            ],
            "id": "xURfx1X7AWfjvS0CNw35hG5P"
          },
          {
            "name": "send request",
            "inParameters": [
              {
                "name": "request",
                "type": "Web Request",
                "nodeType": "localDef",
                "id": "O2mWf7G5tuJrEYMmU6YDSiJBP0"
              }
            ],
            "outParameters": [
              {
                "name": "response",
                "type": "Web Response",
                "nodeType": "localDef",
                "id": "O2mWf7G5tuJrEYMmU6YDSiJBP1"
              }
            ],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "Sends the Facebook Graph request and tries to handle gracefully errors.",
                "nodeType": "comment",
                "id": "x4dRi2l533F24pPT3b4YDgtF"
              },
              {
                "expr": ":time .log ,( 'facebook_request/003a_ ,∥ $O2mWf7G5tuJrEYMmU6YDSiJBP0 ,)",
                "nodeType": "exprStmt",
                "id": "FONlzHGhu42lIeQDZaMx24qu",
                "locals": []
              },
              {
                "expr": "$O2mWf7G5tuJrEYMmU6YDSiJBP1 ,:= $O2mWf7G5tuJrEYMmU6YDSiJBP0 .send",
                "nodeType": "exprStmt",
                "id": "Zes4GS9VnwX84S9wGs81FHqo",
                "locals": []
              },
              {
                "expr": ":time .log ,( 'facebook_response/003a_ ,∥ $O2mWf7G5tuJrEYMmU6YDSiJBP1 ,)",
                "nodeType": "exprStmt",
                "id": "T7nK2MVRZ0QsSEUQR1XzsRp9",
                "locals": []
              },
              {
                "nodeType": "if",
                "condition": "$O2mWf7G5tuJrEYMmU6YDSiJBP1 .status_code ,= ,4 ,0 ,0",
                "thenBody": [
                  {
                    "text": "Most likely the oauth access token is expired",
                    "nodeType": "comment",
                    "id": "qpw67WPYLrqt4fvv6M3MJus2"
                  },
                  {
                    "expr": ":time .log ,( 'facebook_response_body/003a_ ,∥ $O2mWf7G5tuJrEYMmU6YDSiJBP1 .content ,)",
                    "nodeType": "exprStmt",
                    "id": "EBaczlVpBEKU2n0rmTlQEEUC",
                    "locals": []
                  },
                  {
                    "expr": ":data #uYiAdRyALWxDSH1XPMgvRRtS ,:= :invalid .oauth_response",
                    "nodeType": "exprStmt",
                    "id": "q54hVF5erVtGLYVhApRK1eOm",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "LagQfFAQjWVpDvTULm9fRYhg",
                "locals": []
              }
            ],
            "id": "O2mWf7G5tuJrEYMmU6YDSiJB"
          },
          {
            "name": "post message",
            "inParameters": [
              {
                "name": "msg",
                "type": "Message",
                "nodeType": "localDef",
                "id": "n3eYlBRkQAheD7JMsquiqN6BP0"
              }
            ],
            "outParameters": [
              {
                "name": "id",
                "type": "String",
                "nodeType": "localDef",
                "id": "n3eYlBRkQAheD7JMsquiqN6BP1"
              }
            ],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "Posts the message on a Facebook user wall and returns the ID of the generated message if successful. Use `message->to` to specify the `user id` or leave blank to target the current user. Requires `publish_stream` scope.",
                "nodeType": "comment",
                "id": "KTW3ruMZgiwiSRLH0Q9H6Lcb"
              },
              {
                "expr": "$s1ARZi7Cxw9323iiSLye5pDiL0 ,:= :collections .create_string_collection",
                "nodeType": "exprStmt",
                "id": "s1ARZi7Cxw9323iiSLye5pDi",
                "locals": [
                  {
                    "name": "strings",
                    "type": "String Collection",
                    "nodeType": "localDef",
                    "id": "s1ARZi7Cxw9323iiSLye5pDiL0"
                  }
                ]
              },
              {
                "expr": ":code #x82VfzpD7DiHN5RFvObTQPF4 ,( $s1ARZi7Cxw9323iiSLye5pDiL0 ,, 'message ,, $n3eYlBRkQAheD7JMsquiqN6BP0 .message ,)",
                "nodeType": "exprStmt",
                "id": "jc4frjpdri6Qy6fWQfE67WMD",
                "locals": []
              },
              {
                "expr": ":code #x82VfzpD7DiHN5RFvObTQPF4 ,( $s1ARZi7Cxw9323iiSLye5pDiL0 ,, 'picture ,, $n3eYlBRkQAheD7JMsquiqN6BP0 .picture_link ,)",
                "nodeType": "exprStmt",
                "id": "xzYFl2uW6r4rbNpLs6BXceF8",
                "locals": []
              },
              {
                "expr": ":code #x82VfzpD7DiHN5RFvObTQPF4 ,( $s1ARZi7Cxw9323iiSLye5pDiL0 ,, 'link ,, $n3eYlBRkQAheD7JMsquiqN6BP0 .link ,)",
                "nodeType": "exprStmt",
                "id": "o34FXRExMkSDB4evCO9QQ28L",
                "locals": []
              },
              {
                "expr": ":code #x82VfzpD7DiHN5RFvObTQPF4 ,( $s1ARZi7Cxw9323iiSLye5pDiL0 ,, 'source ,, $n3eYlBRkQAheD7JMsquiqN6BP0 .media_link ,)",
                "nodeType": "exprStmt",
                "id": "Z8tmpeyD74wH2jzm4ugUcCtg",
                "locals": []
              },
              {
                "expr": "$n3eYlBRkQAheD7JMsquiqN6BP1 ,:= :code #xu9IShFBC0RmoGC0VqIoc1DY ,( $n3eYlBRkQAheD7JMsquiqN6BP0 .to ,, $s1ARZi7Cxw9323iiSLye5pDiL0 .join ,( '/0026 ,) ,)",
                "nodeType": "exprStmt",
                "id": "ceX5yMh1XdQZ7NL2J6bF4fJa",
                "locals": []
              }
            ],
            "id": "n3eYlBRkQAheD7JMsquiqN6B"
          },
          {
            "name": "add query value",
            "inParameters": [
              {
                "name": "strings",
                "type": "String Collection",
                "nodeType": "localDef",
                "id": "x82VfzpD7DiHN5RFvObTQPF4P0"
              },
              {
                "name": "name",
                "type": "String",
                "nodeType": "localDef",
                "id": "x82VfzpD7DiHN5RFvObTQPF4P1"
              },
              {
                "name": "value",
                "type": "String",
                "nodeType": "localDef",
                "id": "x82VfzpD7DiHN5RFvObTQPF4P2"
              }
            ],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "nodeType": "if",
                "condition": ",not $x82VfzpD7DiHN5RFvObTQPF4P2 .is_invalid ,and ,not $x82VfzpD7DiHN5RFvObTQPF4P2 .is_empty",
                "thenBody": [
                  {
                    "expr": "$x82VfzpD7DiHN5RFvObTQPF4P0 .add ,( $x82VfzpD7DiHN5RFvObTQPF4P1 ,∥ '/003d ,∥ :web .url_encode ,( $x82VfzpD7DiHN5RFvObTQPF4P2 ,) ,)",
                    "nodeType": "exprStmt",
                    "id": "qAZGYG5XS7wx1NDuDS3USric",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "vDtpZtMx5KHvJnVH08EuyU2p",
                "locals": []
              }
            ],
            "id": "x82VfzpD7DiHN5RFvObTQPF4"
          },
          {
            "name": "post link",
            "inParameters": [
              {
                "name": "user id",
                "type": "String",
                "nodeType": "localDef",
                "id": "KvTT6PbaV4Yoyc0zvI52SBN0P0"
              },
              {
                "name": "message",
                "type": "String",
                "nodeType": "localDef",
                "id": "KvTT6PbaV4Yoyc0zvI52SBN0P1"
              },
              {
                "name": "link",
                "type": "Link",
                "nodeType": "localDef",
                "id": "KvTT6PbaV4Yoyc0zvI52SBN0P2"
              }
            ],
            "outParameters": [
              {
                "name": "id",
                "type": "String",
                "nodeType": "localDef",
                "id": "KvTT6PbaV4Yoyc0zvI52SBN0P3"
              }
            ],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "Posts the message and the link on the current user Facebook wall and returns the ID of the generated message if successfull. Leave `user id` blank to use the current user. Requires `publish_stream` scope.",
                "nodeType": "comment",
                "id": "xzhjG5PtbxuPbwNt8QPhTn5J"
              },
              {
                "expr": "$qC4V22Fk2z0NE9NMXoZ2BRdML0 ,:= :collections .create_string_collection",
                "nodeType": "exprStmt",
                "id": "qC4V22Fk2z0NE9NMXoZ2BRdM",
                "locals": [
                  {
                    "name": "strings",
                    "type": "String Collection",
                    "nodeType": "localDef",
                    "id": "qC4V22Fk2z0NE9NMXoZ2BRdML0"
                  }
                ]
              },
              {
                "expr": ":code #x82VfzpD7DiHN5RFvObTQPF4 ,( $qC4V22Fk2z0NE9NMXoZ2BRdML0 ,, 'message ,, $KvTT6PbaV4Yoyc0zvI52SBN0P1 ,)",
                "nodeType": "exprStmt",
                "id": "D4LeRID2Ha9lHOyFen4WBXcd",
                "locals": []
              },
              {
                "expr": ":code #x82VfzpD7DiHN5RFvObTQPF4 ,( $qC4V22Fk2z0NE9NMXoZ2BRdML0 ,, 'caption ,, $KvTT6PbaV4Yoyc0zvI52SBN0P2 .name ,)",
                "nodeType": "exprStmt",
                "id": "dKpdjuZVJCSsqdHFfocg0JLe",
                "locals": []
              },
              {
                "nodeType": "if",
                "condition": "$KvTT6PbaV4Yoyc0zvI52SBN0P2 .kind .equals ,( 'image ,)",
                "thenBody": [
                  {
                    "expr": ":code #x82VfzpD7DiHN5RFvObTQPF4 ,( $qC4V22Fk2z0NE9NMXoZ2BRdML0 ,, 'picture ,, $KvTT6PbaV4Yoyc0zvI52SBN0P2 .address ,)",
                    "nodeType": "exprStmt",
                    "id": "xYJvFE1WIzABipEk5HfF66Lx",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "l5aPgV4iSjNthU0a47cOyppw",
                "locals": []
              },
              {
                "nodeType": "if",
                "condition": "$KvTT6PbaV4Yoyc0zvI52SBN0P2 .kind .equals ,( 'media ,)",
                "thenBody": [
                  {
                    "expr": ":code #x82VfzpD7DiHN5RFvObTQPF4 ,( $qC4V22Fk2z0NE9NMXoZ2BRdML0 ,, 'source ,, $KvTT6PbaV4Yoyc0zvI52SBN0P2 .address ,)",
                    "nodeType": "exprStmt",
                    "id": "CEnR40FZbQuhZXDRldUb6kDY",
                    "locals": []
                  }
                ],
                "elseBody": [
                  {
                    "expr": ":code #x82VfzpD7DiHN5RFvObTQPF4 ,( $qC4V22Fk2z0NE9NMXoZ2BRdML0 ,, 'link ,, $KvTT6PbaV4Yoyc0zvI52SBN0P2 .address ,)",
                    "nodeType": "exprStmt",
                    "id": "EFOW9PjAafTzPhl5ATTt0LJK",
                    "locals": []
                  }
                ],
                "isElseIf": true,
                "id": "NWcZvaW9oajawfsCRxR4fsy6",
                "locals": []
              },
              {
                "expr": "$KvTT6PbaV4Yoyc0zvI52SBN0P3 ,:= :code #xu9IShFBC0RmoGC0VqIoc1DY ,( $KvTT6PbaV4Yoyc0zvI52SBN0P0 ,, $qC4V22Fk2z0NE9NMXoZ2BRdML0 .join ,( '/0026 ,) ,)",
                "nodeType": "exprStmt",
                "id": "A8c5C2YkWbQLAl2lhWFOzf37",
                "locals": []
              }
            ],
            "id": "KvTT6PbaV4Yoyc0zvI52SBN0"
          },
          {
            "name": "read id",
            "inParameters": [
              {
                "name": "response",
                "type": "Web Response",
                "nodeType": "localDef",
                "id": "CvHsMXLbeD4VhgC6FgLSHfeQP0"
              }
            ],
            "outParameters": [
              {
                "name": "id",
                "type": "String",
                "nodeType": "localDef",
                "id": "CvHsMXLbeD4VhgC6FgLSHfeQP1"
              }
            ],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "expr": "$CvHsMXLbeD4VhgC6FgLSHfeQP1 ,:= '",
                "nodeType": "exprStmt",
                "id": "FkI6Lv4DLlwnBXMu4Gxfb03I",
                "locals": []
              },
              {
                "nodeType": "if",
                "condition": "$CvHsMXLbeD4VhgC6FgLSHfeQP0 .status_code ,= ,2 ,0 ,0",
                "thenBody": [
                  {
                    "expr": "$xIOghte3T5SEmrAzDUuToZJXL0 ,:= $CvHsMXLbeD4VhgC6FgLSHfeQP0 .content_as_json",
                    "nodeType": "exprStmt",
                    "id": "xIOghte3T5SEmrAzDUuToZJX",
                    "locals": [
                      {
                        "name": "rjs",
                        "type": "Json Object",
                        "nodeType": "localDef",
                        "id": "xIOghte3T5SEmrAzDUuToZJXL0"
                      }
                    ]
                  },
                  {
                    "expr": "$CvHsMXLbeD4VhgC6FgLSHfeQP1 ,:= $xIOghte3T5SEmrAzDUuToZJXL0 .string ,( 'id ,)",
                    "nodeType": "exprStmt",
                    "id": "gCISL1nAUoQ3pdSV3NXN04eb",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "x7wcakpBP9FM2n4MtDtCHOcX",
                "locals": []
              }
            ],
            "id": "CvHsMXLbeD4VhgC6FgLSHfeQ"
          },
          {
            "name": "post feed",
            "inParameters": [
              {
                "name": "user id",
                "type": "String",
                "nodeType": "localDef",
                "id": "xu9IShFBC0RmoGC0VqIoc1DYP0"
              },
              {
                "name": "args",
                "type": "String",
                "nodeType": "localDef",
                "id": "xu9IShFBC0RmoGC0VqIoc1DYP1"
              }
            ],
            "outParameters": [
              {
                "name": "id",
                "type": "String",
                "nodeType": "localDef",
                "id": "xu9IShFBC0RmoGC0VqIoc1DYP2"
              }
            ],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "expr": "$xu9IShFBC0RmoGC0VqIoc1DYP0 ,:= :code #G7QowUs3lEoha2Me0VAgswhR ,( $xu9IShFBC0RmoGC0VqIoc1DYP0 ,)",
                "nodeType": "exprStmt",
                "id": "sXoWcGrqB2Dzps5HOCs734gU",
                "locals": []
              },
              {
                "expr": "$xu9IShFBC0RmoGC0VqIoc1DYP2 ,:= '",
                "nodeType": "exprStmt",
                "id": "biy3dG8yCKKBmifmttw4g8Lc",
                "locals": []
              },
              {
                "expr": "$Rb4RuMLTAyLqUJGhs9N2XF9rL0 ,:= :code #XDVQ4ushHS6663xaZDJhHpuq ,( :web .url_encode ,( $xu9IShFBC0RmoGC0VqIoc1DYP0 ,) ,∥ '/002ffeed ,, $xu9IShFBC0RmoGC0VqIoc1DYP1 ,)",
                "nodeType": "exprStmt",
                "id": "Rb4RuMLTAyLqUJGhs9N2XF9r",
                "locals": [
                  {
                    "name": "request",
                    "type": "Web Request",
                    "nodeType": "localDef",
                    "id": "Rb4RuMLTAyLqUJGhs9N2XF9rL0"
                  }
                ]
              },
              {
                "nodeType": "if",
                "condition": ",not $Rb4RuMLTAyLqUJGhs9N2XF9rL0 .is_invalid",
                "thenBody": [
                  {
                    "expr": "$Rb4RuMLTAyLqUJGhs9N2XF9rL0 .set_method ,( 'post ,)",
                    "nodeType": "exprStmt",
                    "id": "E6bwPSjWk8p67U4ktWW0hdUc",
                    "locals": []
                  },
                  {
                    "expr": "$xYjM7BUJC8j8yrYssqDRqdd8L0 ,:= :code #O2mWf7G5tuJrEYMmU6YDSiJB ,( $Rb4RuMLTAyLqUJGhs9N2XF9rL0 ,)",
                    "nodeType": "exprStmt",
                    "id": "xYjM7BUJC8j8yrYssqDRqdd8",
                    "locals": [
                      {
                        "name": "response",
                        "type": "Web Response",
                        "nodeType": "localDef",
                        "id": "xYjM7BUJC8j8yrYssqDRqdd8L0"
                      }
                    ]
                  },
                  {
                    "expr": "$xu9IShFBC0RmoGC0VqIoc1DYP2 ,:= :code #CvHsMXLbeD4VhgC6FgLSHfeQ ,( $xYjM7BUJC8j8yrYssqDRqdd8L0 ,)",
                    "nodeType": "exprStmt",
                    "id": "ZhdM4kmRX75RL6ofxfOWIq9l",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "xtYimzmf2KU5jPhEUcq4DEQk",
                "locals": []
              }
            ],
            "id": "xu9IShFBC0RmoGC0VqIoc1DY"
          },
          {
            "name": "scope",
            "comment": "",
            "type": "String",
            "isReadonly": false,
            "isTransient": false,
            "nodeType": "data",
            "id": "mYc4POCRBMDWLecSzBWxHCpy"
          },
          {
            "name": "leaderboard score",
            "inParameters": [],
            "outParameters": [
              {
                "name": "score",
                "type": "Number",
                "nodeType": "localDef",
                "id": "Nx9nTw0lDXX4UFFop2tNmN0cP0"
              }
            ],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "Gets the user score for this app. Returns 0 if no score published yet. Use `post leaderboard score` to publish a score.",
                "nodeType": "comment",
                "id": "J1q6dWN1d4anXGGXWMChiThf"
              },
              {
                "expr": ":code #Vkhf99vmiBtHLXoJEIyOLN1F ,( :data #CFhZzX02TLdS0htdHmCRCN54 ,, :data #mYc4POCRBMDWLecSzBWxHCpy ,)",
                "nodeType": "exprStmt",
                "id": "vAthHNY724FFX2p26XZ3gT2g",
                "locals": []
              },
              {
                "expr": "$vCRQhcD3SUMhzRPtu45LSTJIL0 ,:= :code #XDVQ4ushHS6663xaZDJhHpuq ,( 'me/002fscores ,, ' ,)",
                "nodeType": "exprStmt",
                "id": "vCRQhcD3SUMhzRPtu45LSTJI",
                "locals": [
                  {
                    "name": "request",
                    "type": "Web Request",
                    "nodeType": "localDef",
                    "id": "vCRQhcD3SUMhzRPtu45LSTJIL0"
                  }
                ]
              },
              {
                "expr": "$Nx9nTw0lDXX4UFFop2tNmN0cP0 ,:= ,0",
                "nodeType": "exprStmt",
                "id": "HsRn7oTdbVdNVGzbUnBwD23p",
                "locals": []
              },
              {
                "nodeType": "if",
                "condition": ",not $vCRQhcD3SUMhzRPtu45LSTJIL0 .is_invalid",
                "thenBody": [
                  {
                    "expr": "$PMCKXyJ00UXFnHEcqbfNaVSkL0 ,:= :code #O2mWf7G5tuJrEYMmU6YDSiJB ,( $vCRQhcD3SUMhzRPtu45LSTJIL0 ,)",
                    "nodeType": "exprStmt",
                    "id": "PMCKXyJ00UXFnHEcqbfNaVSk",
                    "locals": [
                      {
                        "name": "response",
                        "type": "Web Response",
                        "nodeType": "localDef",
                        "id": "PMCKXyJ00UXFnHEcqbfNaVSkL0"
                      }
                    ]
                  },
                  {
                    "expr": "$Rg4wS2grM4HrpjuoW7O92nRfL0 ,:= $PMCKXyJ00UXFnHEcqbfNaVSkL0 .content_as_json",
                    "nodeType": "exprStmt",
                    "id": "Rg4wS2grM4HrpjuoW7O92nRf",
                    "locals": [
                      {
                        "name": "jsscores",
                        "type": "Json Object",
                        "nodeType": "localDef",
                        "id": "Rg4wS2grM4HrpjuoW7O92nRfL0"
                      }
                    ]
                  },
                  {
                    "nodeType": "if",
                    "condition": "$PMCKXyJ00UXFnHEcqbfNaVSkL0 .status_code ,= ,2 ,0 ,0 ,and ,not $Rg4wS2grM4HrpjuoW7O92nRfL0 .is_invalid",
                    "thenBody": [
                      {
                        "collection": "$Rg4wS2grM4HrpjuoW7O92nRfL0 .field ,( 'data ,)",
                        "conditions": [
                          {
                            "condition": "$kwouriSCUpPw5OC6YLBe8ZTqB0 .field ,( 'application ,) .string ,( 'id ,) .equals ,( :data #CFhZzX02TLdS0htdHmCRCN54 ,)",
                            "nodeType": "where",
                            "id": "xfK24ouaaBoeL4X4l4prxttG",
                            "locals": []
                          }
                        ],
                        "body": [
                          {
                            "expr": "$Nx9nTw0lDXX4UFFop2tNmN0cP0 ,:= $kwouriSCUpPw5OC6YLBe8ZTqB0 .number ,( 'score ,)",
                            "nodeType": "exprStmt",
                            "id": "j0DZ0TiJH9GeTJeMnSb6OOBe",
                            "locals": []
                          }
                        ],
                        "nodeType": "foreach",
                        "id": "kwouriSCUpPw5OC6YLBe8ZTq",
                        "locals": [
                          {
                            "name": "jsscore",
                            "type": "Json Object",
                            "nodeType": "localDef",
                            "id": "kwouriSCUpPw5OC6YLBe8ZTqB0"
                          }
                        ]
                      }
                    ],
                    "isElseIf": false,
                    "id": "fiqi81DOaVrKX1GLwvjzfkUJ",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "BiBbWIB91fsbjPS3orvijyo6",
                "locals": []
              }
            ],
            "id": "Nx9nTw0lDXX4UFFop2tNmN0c"
          },
          {
            "name": "post leaderboard score",
            "inParameters": [
              {
                "name": "score",
                "type": "Number",
                "nodeType": "localDef",
                "id": "daoy4SiTWX2QrZ4QCQgRoaohP0"
              }
            ],
            "outParameters": [
              {
                "name": "success",
                "type": "Boolean",
                "nodeType": "localDef",
                "id": "daoy4SiTWX2QrZ4QCQgRoaohP1"
              }
            ],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "Posts the user score to Facebook. Requires the `publish_actions` permission and the app must be categorized as `game`. See http://developers.facebook.com/docs/howtos/scores/ .",
                "nodeType": "comment",
                "id": "hCssSr0923oXsnLe91qzxTPn"
              },
              {
                "expr": ":code #Vkhf99vmiBtHLXoJEIyOLN1F ,( :data #CFhZzX02TLdS0htdHmCRCN54 ,, :data #mYc4POCRBMDWLecSzBWxHCpy ,)",
                "nodeType": "exprStmt",
                "id": "sUWZv4eABmq6ns3wi4bWUOL0",
                "locals": []
              },
              {
                "expr": "$YlwTOYj8gpmRSRT0ggWUab2vL0 ,:= :code #XDVQ4ushHS6663xaZDJhHpuq ,( 'me/002fscores ,, 'score/003d ,∥ $daoy4SiTWX2QrZ4QCQgRoaohP0 ,)",
                "nodeType": "exprStmt",
                "id": "YlwTOYj8gpmRSRT0ggWUab2v",
                "locals": [
                  {
                    "name": "request",
                    "type": "Web Request",
                    "nodeType": "localDef",
                    "id": "YlwTOYj8gpmRSRT0ggWUab2vL0"
                  }
                ]
              },
              {
                "expr": "$daoy4SiTWX2QrZ4QCQgRoaohP1 ,:= F",
                "nodeType": "exprStmt",
                "id": "J63MMV5iG4axWkRS6NdOw7wy",
                "locals": []
              },
              {
                "nodeType": "if",
                "condition": ",not $YlwTOYj8gpmRSRT0ggWUab2vL0 .is_invalid",
                "thenBody": [
                  {
                    "expr": "$YlwTOYj8gpmRSRT0ggWUab2vL0 .set_method ,( 'post ,)",
                    "nodeType": "exprStmt",
                    "id": "xmi5SKFyjXKAROqqdM8VSX4L",
                    "locals": []
                  },
                  {
                    "expr": "$xp0kW49akZNzArm3EYBVDJnKL0 ,:= :code #O2mWf7G5tuJrEYMmU6YDSiJB ,( $YlwTOYj8gpmRSRT0ggWUab2vL0 ,)",
                    "nodeType": "exprStmt",
                    "id": "xp0kW49akZNzArm3EYBVDJnK",
                    "locals": [
                      {
                        "name": "response",
                        "type": "Web Response",
                        "nodeType": "localDef",
                        "id": "xp0kW49akZNzArm3EYBVDJnKL0"
                      }
                    ]
                  },
                  {
                    "expr": "$zX5AoIGKgz5UZ5BCbcNFJNZNL0 ,:= $xp0kW49akZNzArm3EYBVDJnKL0 .content_as_json",
                    "nodeType": "exprStmt",
                    "id": "zX5AoIGKgz5UZ5BCbcNFJNZN",
                    "locals": [
                      {
                        "name": "js",
                        "type": "Json Object",
                        "nodeType": "localDef",
                        "id": "zX5AoIGKgz5UZ5BCbcNFJNZNL0"
                      }
                    ]
                  },
                  {
                    "nodeType": "if",
                    "condition": "$xp0kW49akZNzArm3EYBVDJnKL0 .status_code ,= ,2 ,0 ,0 ,and ,not $zX5AoIGKgz5UZ5BCbcNFJNZNL0 .is_invalid",
                    "thenBody": [
                      {
                        "expr": "$daoy4SiTWX2QrZ4QCQgRoaohP1 ,:= $zX5AoIGKgz5UZ5BCbcNFJNZNL0 .to_boolean",
                        "nodeType": "exprStmt",
                        "id": "cXNoee8uo9MWP09eJgcLuEtQ",
                        "locals": []
                      }
                    ],
                    "isElseIf": false,
                    "id": "j0412TZRqclXNTQOHrHJ63AY",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "BuTWc5TwYcX2IPsMebz4WSHn",
                "locals": []
              }
            ],
            "id": "daoy4SiTWX2QrZ4QCQgRoaoh"
          },
          {
            "name": "test leaderboards",
            "inParameters": [],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": true,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "expr": "$F1r2ePEjZclmTetzvVDNGw2RL0 ,:= '362956073819124",
                "nodeType": "exprStmt",
                "id": "F1r2ePEjZclmTetzvVDNGw2R",
                "locals": [
                  {
                    "name": "application id",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "F1r2ePEjZclmTetzvVDNGw2RL0"
                  }
                ]
              },
              {
                "expr": ":code #Vkhf99vmiBtHLXoJEIyOLN1F ,( $F1r2ePEjZclmTetzvVDNGw2RL0 ,, 'publish/005factions ,)",
                "nodeType": "exprStmt",
                "id": "JEv2Ub19XjvbCAlG4raywdpP",
                "locals": []
              },
              {
                "expr": "$QJ2TPHahveSG9e1ktU9tCwmWL0 ,:= :math .random ,( ,1 ,0 ,0 ,)",
                "nodeType": "exprStmt",
                "id": "QJ2TPHahveSG9e1ktU9tCwmW",
                "locals": [
                  {
                    "name": "score",
                    "type": "Number",
                    "nodeType": "localDef",
                    "id": "QJ2TPHahveSG9e1ktU9tCwmWL0"
                  }
                ]
              },
              {
                "expr": ",( 'local_score/003a_ ,∥ $QJ2TPHahveSG9e1ktU9tCwmWL0 ,) .post_to_wall",
                "nodeType": "exprStmt",
                "id": "Su5916pzgoXvXleL7Mgym5qU",
                "locals": []
              },
              {
                "expr": "$DomVZsE3e4WB3SOhQ3loF3iCL0 ,:= :code #daoy4SiTWX2QrZ4QCQgRoaoh ,( $QJ2TPHahveSG9e1ktU9tCwmWL0 ,)",
                "nodeType": "exprStmt",
                "id": "DomVZsE3e4WB3SOhQ3loF3iC",
                "locals": [
                  {
                    "name": "success",
                    "type": "Boolean",
                    "nodeType": "localDef",
                    "id": "DomVZsE3e4WB3SOhQ3loF3iCL0"
                  }
                ]
              },
              {
                "expr": ",( 'fb_score_is_ ,∥ :code #Nx9nTw0lDXX4UFFop2tNmN0c ,) .post_to_wall",
                "nodeType": "exprStmt",
                "id": "xtrCbL4gIQXN3U8svgH5Er1s",
                "locals": []
              },
              {
                "expr": ":code #uaXUD6888t4N1mfLTHzT4Jps ,( $xLsmAzpJtCGtVgCR4H182Y6zB0 ,)",
                "actions": [
                  {
                    "inParameters": [],
                    "outParameters": [],
                    "body": [
                      {
                        "expr": ":wall .set_background ,( :colors .black ,)",
                        "nodeType": "exprStmt",
                        "id": "xP42Paao2y23UQaeSWRNTiHt",
                        "locals": []
                      },
                      {
                        "expr": ":wall .set_foreground ,( :colors .white ,)",
                        "nodeType": "exprStmt",
                        "id": "xFDHO05S5GRe1SAmR4AWwhu1",
                        "locals": []
                      }
                    ],
                    "nodeType": "inlineAction",
                    "id": "xLsmAzpJtCGtVgCR4H182Y6z",
                    "locals": [
                      {
                        "name": "initialize",
                        "type": "Action",
                        "nodeType": "localDef",
                        "id": "xLsmAzpJtCGtVgCR4H182Y6zB0"
                      }
                    ]
                  }
                ],
                "nodeType": "inlineActions",
                "id": "x0wdkDgere8NoihlkdTixaCb",
                "locals": []
              }
            ],
            "id": "PQ8CQ7bOrRlr6rbtl0SvHegC"
          },
          {
            "name": "sync leaderboards",
            "inParameters": [],
            "outParameters": [],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "Downloads the leaderboard scores locally. To display the leaderboards, use `display leaderboards`. Requires the `publish_actions` permission and the app must be categorized as `game`. See http://developers.facebook.com/docs/howtos/scores/ .",
                "nodeType": "comment",
                "id": "oeYoD4rVB2X3NlUE3UiECg2k"
              },
              {
                "expr": ":code #Vkhf99vmiBtHLXoJEIyOLN1F ,( :data #CFhZzX02TLdS0htdHmCRCN54 ,, :data #mYc4POCRBMDWLecSzBWxHCpy ,)",
                "nodeType": "exprStmt",
                "id": "QVsCKIau65kVJvOBz7MUwDsu",
                "locals": []
              },
              {
                "expr": "$LFiXmFd90yEDSbiD35v2aHKFL0 ,:= :code #XDVQ4ushHS6663xaZDJhHpuq ,( :web .url_encode ,( :data #CFhZzX02TLdS0htdHmCRCN54 ,) ,∥ '/002fscores ,, ' ,)",
                "nodeType": "exprStmt",
                "id": "LFiXmFd90yEDSbiD35v2aHKF",
                "locals": [
                  {
                    "name": "request",
                    "type": "Web Request",
                    "nodeType": "localDef",
                    "id": "LFiXmFd90yEDSbiD35v2aHKFL0"
                  }
                ]
              },
              {
                "nodeType": "if",
                "condition": ",not $LFiXmFd90yEDSbiD35v2aHKFL0 .is_invalid",
                "thenBody": [
                  {
                    "expr": "$XfkIK2V2mQ7nDPqHQPhwrguxL0 ,:= :code #O2mWf7G5tuJrEYMmU6YDSiJB ,( $LFiXmFd90yEDSbiD35v2aHKFL0 ,)",
                    "nodeType": "exprStmt",
                    "id": "XfkIK2V2mQ7nDPqHQPhwrgux",
                    "locals": [
                      {
                        "name": "response",
                        "type": "Web Response",
                        "nodeType": "localDef",
                        "id": "XfkIK2V2mQ7nDPqHQPhwrguxL0"
                      }
                    ]
                  },
                  {
                    "expr": "$ODgWBS4iTqrNHGBR9lxJMT3zL0 ,:= $XfkIK2V2mQ7nDPqHQPhwrguxL0 .content_as_json",
                    "nodeType": "exprStmt",
                    "id": "ODgWBS4iTqrNHGBR9lxJMT3z",
                    "locals": [
                      {
                        "name": "jsscores",
                        "type": "Json Object",
                        "nodeType": "localDef",
                        "id": "ODgWBS4iTqrNHGBR9lxJMT3zL0"
                      }
                    ]
                  },
                  {
                    "nodeType": "if",
                    "condition": "$XfkIK2V2mQ7nDPqHQPhwrguxL0 .status_code ,= ,2 ,0 ,0 ,and ,not $ODgWBS4iTqrNHGBR9lxJMT3zL0 .is_invalid",
                    "thenBody": [
                      {
                        "expr": ":records #xPwn88zfPP2DsX72kRe1xRfy .clear",
                        "nodeType": "exprStmt",
                        "id": "dSJVn03EGzdC89zkQi2VwHc4",
                        "locals": []
                      },
                      {
                        "collection": "$ODgWBS4iTqrNHGBR9lxJMT3zL0 .field ,( 'data ,)",
                        "conditions": [
                          {
                            "condition": "T",
                            "nodeType": "where",
                            "id": "BbPKkWwBA6M4o0oYZCmJctD3",
                            "locals": []
                          }
                        ],
                        "body": [
                          {
                            "expr": "$CCEaFuQd62KI3MGMvqwOpFUYL0 ,:= $sKMgrpJvrbdWhi2Q2gqp6ptVB0 .field ,( 'user ,)",
                            "nodeType": "exprStmt",
                            "id": "CCEaFuQd62KI3MGMvqwOpFUY",
                            "locals": [
                              {
                                "name": "jsuser",
                                "type": "Json Object",
                                "nodeType": "localDef",
                                "id": "CCEaFuQd62KI3MGMvqwOpFUYL0"
                              }
                            ]
                          },
                          {
                            "expr": "$rnBYCygfwecHNRHSoYpfJzDqL0 ,:= $CCEaFuQd62KI3MGMvqwOpFUYL0 .string ,( 'name ,)",
                            "nodeType": "exprStmt",
                            "id": "rnBYCygfwecHNRHSoYpfJzDq",
                            "locals": [
                              {
                                "name": "username",
                                "type": "String",
                                "nodeType": "localDef",
                                "id": "rnBYCygfwecHNRHSoYpfJzDqL0"
                              }
                            ]
                          },
                          {
                            "expr": "$ZqLP9xTNLYe164b8H4asyWqhL0 ,:= $CCEaFuQd62KI3MGMvqwOpFUYL0 .string ,( 'id ,)",
                            "nodeType": "exprStmt",
                            "id": "ZqLP9xTNLYe164b8H4asyWqh",
                            "locals": [
                              {
                                "name": "userid",
                                "type": "String",
                                "nodeType": "localDef",
                                "id": "ZqLP9xTNLYe164b8H4asyWqhL0"
                              }
                            ]
                          },
                          {
                            "expr": "$xRDdW068YMx4nvRVwD3qOsSOL0 ,:= $sKMgrpJvrbdWhi2Q2gqp6ptVB0 .number ,( 'score ,)",
                            "nodeType": "exprStmt",
                            "id": "xRDdW068YMx4nvRVwD3qOsSO",
                            "locals": [
                              {
                                "name": "score",
                                "type": "Number",
                                "nodeType": "localDef",
                                "id": "xRDdW068YMx4nvRVwD3qOsSOL0"
                              }
                            ]
                          },
                          {
                            "expr": "$nD0oOWSY1Z4nTcnWwXOHN03oL0 ,:= :records #xPwn88zfPP2DsX72kRe1xRfy .add_row",
                            "nodeType": "exprStmt",
                            "id": "nD0oOWSY1Z4nTcnWwXOHN03o",
                            "locals": [
                              {
                                "name": "leaderboard",
                                "type": "{\"o\":\"leaderboard\"}",
                                "nodeType": "localDef",
                                "id": "nD0oOWSY1Z4nTcnWwXOHN03oL0"
                              }
                            ]
                          },
                          {
                            "expr": "$nD0oOWSY1Z4nTcnWwXOHN03oL0 .user_name .set ,( $rnBYCygfwecHNRHSoYpfJzDqL0 ,)",
                            "nodeType": "exprStmt",
                            "id": "E7jcfsZGOgOP2RCPB6oZUQQl",
                            "locals": []
                          },
                          {
                            "expr": "$nD0oOWSY1Z4nTcnWwXOHN03oL0 .user_id .set ,( $ZqLP9xTNLYe164b8H4asyWqhL0 ,)",
                            "nodeType": "exprStmt",
                            "id": "D35F9gfICjaQyjjsEiZ3ihBW",
                            "locals": []
                          },
                          {
                            "expr": "$nD0oOWSY1Z4nTcnWwXOHN03oL0 .score .set ,( $xRDdW068YMx4nvRVwD3qOsSOL0 ,)",
                            "nodeType": "exprStmt",
                            "id": "Iy0nqCTVLOuwhqQ46VARS6gt",
                            "locals": []
                          }
                        ],
                        "nodeType": "foreach",
                        "id": "sKMgrpJvrbdWhi2Q2gqp6ptV",
                        "locals": [
                          {
                            "name": "jsscore",
                            "type": "Json Object",
                            "nodeType": "localDef",
                            "id": "sKMgrpJvrbdWhi2Q2gqp6ptVB0"
                          }
                        ]
                      }
                    ],
                    "isElseIf": false,
                    "id": "DV22tbz0KZ6sM4tu3d7kqsCS",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "tpMmPERpAdmTl52gUG2BCk4y",
                "locals": []
              }
            ],
            "id": "BYKo7nmzOk5HokAZ0RvhsREt"
          },
          {
            "nodeType": "record",
            "name": "leaderboard",
            "sourceName": "leaderboard table",
            "comment": "",
            "category": "table",
            "isCloudEnabled": false,
            "keys": [],
            "fields": [
              {
                "nodeType": "recordField",
                "name": "user name",
                "type": "String",
                "id": "aDymJokWcZQgseUmb6lH3YvE"
              },
              {
                "nodeType": "recordField",
                "name": "user id",
                "type": "String",
                "id": "chqPtE4KVfngc84PF3SwQ4os"
              },
              {
                "nodeType": "recordField",
                "name": "score",
                "type": "Number",
                "id": "AkQtxAX9keOlBYvFrZ7YBHMn"
              }
            ],
            "id": "xPwn88zfPP2DsX72kRe1xRfy"
          },
          {
            "name": "display leaderboards",
            "inParameters": [],
            "outParameters": [],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "Displays the leaderboard scores downloaded by `sync leaderboards`. Must be called within a page.",
                "nodeType": "comment",
                "id": "xncmhpNe2ra2PC9hqTd426yT"
              },
              {
                "collection": ":records #xPwn88zfPP2DsX72kRe1xRfy",
                "conditions": [
                  {
                    "condition": "T",
                    "nodeType": "where",
                    "id": "Wlan6OVtVsDaaAtbvpzkbyFw",
                    "locals": []
                  }
                ],
                "body": [
                  {
                    "expr": "$K7dkViBokM4ZS28e7m4uYexQL0 ,:= $S2yetn4cZBL4aWehE3COg0g8B0 .user_name .get",
                    "nodeType": "exprStmt",
                    "id": "K7dkViBokM4ZS28e7m4uYexQ",
                    "locals": [
                      {
                        "name": "username",
                        "type": "String",
                        "nodeType": "localDef",
                        "id": "K7dkViBokM4ZS28e7m4uYexQL0"
                      }
                    ]
                  },
                  {
                    "expr": "$rIdl1X4hY5D4HhCDLhlCSOHXL0 ,:= $S2yetn4cZBL4aWehE3COg0g8B0 .user_id .get",
                    "nodeType": "exprStmt",
                    "id": "rIdl1X4hY5D4HhCDLhlCSOHX",
                    "locals": [
                      {
                        "name": "userid",
                        "type": "String",
                        "nodeType": "localDef",
                        "id": "rIdl1X4hY5D4HhCDLhlCSOHXL0"
                      }
                    ]
                  },
                  {
                    "expr": "$x1WrS0mWFfNZ6AYunoICe7n6L0 ,:= $S2yetn4cZBL4aWehE3COg0g8B0 .score .get",
                    "nodeType": "exprStmt",
                    "id": "x1WrS0mWFfNZ6AYunoICe7n6",
                    "locals": [
                      {
                        "name": "score",
                        "type": "Number",
                        "nodeType": "localDef",
                        "id": "x1WrS0mWFfNZ6AYunoICe7n6L0"
                      }
                    ]
                  },
                  {
                    "body": [
                      {
                        "expr": ":box .set_margins ,( ,0 ,. ,5 ,, ,0 ,, ,0 ,, ,0 ,. ,5 ,)",
                        "nodeType": "exprStmt",
                        "id": "e2zxeWWtaZR9htrIKGUNxa4U",
                        "locals": []
                      },
                      {
                        "expr": ":box .set_horizontal_stretch ,( ,1 ,)",
                        "nodeType": "exprStmt",
                        "id": "ScfQPrmflWVG9b49bvfmpZQt",
                        "locals": []
                      },
                      {
                        "expr": ":box .use_horizontal_layout",
                        "nodeType": "exprStmt",
                        "id": "Mw7lCfQ2yubceVFNi4bUgpUW",
                        "locals": []
                      },
                      {
                        "expr": ":box .on_tapped ,( $xjQPptzaxdL2nCrQFJGBoLvwB0 ,)",
                        "actions": [
                          {
                            "inParameters": [],
                            "outParameters": [],
                            "body": [
                              {
                                "expr": ":code #hlWOzvBAsGOMQUzKSrxLOBsX ,( 'Check_out_my_score/002e/002e/002e ,, $rIdl1X4hY5D4HhCDLhlCSOHXL0 ,)",
                                "nodeType": "exprStmt",
                                "id": "xQRari2gvpwAqcRwzOQqbLUa",
                                "locals": []
                              }
                            ],
                            "nodeType": "inlineAction",
                            "id": "xjQPptzaxdL2nCrQFJGBoLvw",
                            "locals": [
                              {
                                "name": "handler",
                                "type": "Action",
                                "nodeType": "localDef",
                                "id": "xjQPptzaxdL2nCrQFJGBoLvwB0"
                              }
                            ]
                          }
                        ],
                        "nodeType": "inlineActions",
                        "id": "nbfdqTP27vMlh69L1FON57p6",
                        "locals": []
                      },
                      {
                        "body": [
                          {
                            "expr": "$GDccOdcteLoxv5PvV9zB4d5rL0 ,:= :web .link_image ,( 'https/003a/002f/002fgraph/002efacebook/002ecom/002f ,∥ $rIdl1X4hY5D4HhCDLhlCSOHXL0 ,∥ '/002fpicture/003ftype/003dsquare ,)",
                            "nodeType": "exprStmt",
                            "id": "GDccOdcteLoxv5PvV9zB4d5r",
                            "locals": [
                              {
                                "name": "picture",
                                "type": "Link",
                                "nodeType": "localDef",
                                "id": "GDccOdcteLoxv5PvV9zB4d5rL0"
                              }
                            ]
                          },
                          {
                            "expr": "$GDccOdcteLoxv5PvV9zB4d5rL0 .post_to_wall",
                            "nodeType": "exprStmt",
                            "id": "xE5jrdyC8XBBUlfKqe5e8t7Y",
                            "locals": []
                          }
                        ],
                        "nodeType": "boxed",
                        "id": "aLIwKU2FViDunycValdU2MWd"
                      },
                      {
                        "body": [
                          {
                            "expr": ":box .set_margins ,( ,0 ,, ,0 ,, ,0 ,, ,0 ,. ,5 ,)",
                            "nodeType": "exprStmt",
                            "id": "GnC5S6AHzYA7iyt1j0eGBKkh",
                            "locals": []
                          },
                          {
                            "expr": "$K7dkViBokM4ZS28e7m4uYexQL0 .post_to_wall",
                            "nodeType": "exprStmt",
                            "id": "suS3XKBC2W9eq02XKAImqh4J",
                            "locals": []
                          }
                        ],
                        "nodeType": "boxed",
                        "id": "nmYULkd8ishJbcyqO7ydNDCX"
                      },
                      {
                        "body": [
                          {
                            "expr": ":box .set_margins ,( ,0 ,, ,0 ,, ,0 ,, ,0 ,. ,5 ,)",
                            "nodeType": "exprStmt",
                            "id": "xf8aMI04E74fUXkVTgfzC4jP",
                            "locals": []
                          },
                          {
                            "expr": ":box .set_horizontal_align ,( 'right ,)",
                            "nodeType": "exprStmt",
                            "id": "JhBrFc1EsJ4go1iEz3hseGob",
                            "locals": []
                          },
                          {
                            "expr": ":box .set_font_size ,( ,1 ,. ,2 ,)",
                            "nodeType": "exprStmt",
                            "id": "xifDcejMnaxhJLz7X4kuuTGR",
                            "locals": []
                          },
                          {
                            "expr": "$x1WrS0mWFfNZ6AYunoICe7n6L0 .post_to_wall",
                            "nodeType": "exprStmt",
                            "id": "U5MzrTzbLDy7ruMdiAq99cqm",
                            "locals": []
                          }
                        ],
                        "nodeType": "boxed",
                        "id": "nQYNcYziW1DGN4Z4UioyyAhi"
                      }
                    ],
                    "nodeType": "boxed",
                    "id": "aIfYKQcC8GjqKvegkgd8bYAM"
                  }
                ],
                "nodeType": "foreach",
                "id": "S2yetn4cZBL4aWehE3COg0g8",
                "locals": [
                  {
                    "name": "user score",
                    "type": "{\"o\":\"leaderboard\"}",
                    "nodeType": "localDef",
                    "id": "S2yetn4cZBL4aWehE3COg0g8B0"
                  }
                ]
              },
              {
                "text": "invite friends button",
                "nodeType": "comment",
                "id": "xayaagqLrM6jb55gBslxglQF"
              },
              {
                "body": [
                  {
                    "expr": ":box .set_background ,( :colors .gray ,)",
                    "nodeType": "exprStmt",
                    "id": "i27ZVzpKtaCstwDk5H37vQSW",
                    "locals": []
                  },
                  {
                    "expr": ":box .set_margins ,( ,0 ,. ,5 ,, ,0 ,, ,0 ,, ,0 ,. ,5 ,)",
                    "nodeType": "exprStmt",
                    "id": "cJM1p1pTlNCbFtNMuIN2Ezvl",
                    "locals": []
                  },
                  {
                    "expr": ":box .set_foreground ,( :colors .white ,)",
                    "nodeType": "exprStmt",
                    "id": "JOyihZFRcmnSx2lnjpyZuOnd",
                    "locals": []
                  },
                  {
                    "expr": ":box .set_padding ,( ,0 ,. ,5 ,, ,1 ,, ,0 ,. ,5 ,, ,1 ,)",
                    "nodeType": "exprStmt",
                    "id": "D2qHpLEK1PygJR5WK7Hbr4tD",
                    "locals": []
                  },
                  {
                    "expr": ":box .on_tapped ,( $IbQfKOU7gm4l2rsld72L7nu9B0 ,)",
                    "actions": [
                      {
                        "inParameters": [],
                        "outParameters": [],
                        "body": [
                          {
                            "expr": ":code #hlWOzvBAsGOMQUzKSrxLOBsX ,( ' ,, ' ,)",
                            "nodeType": "exprStmt",
                            "id": "S8vhadFcTjYsEhakEToUq0vU",
                            "locals": []
                          }
                        ],
                        "nodeType": "inlineAction",
                        "id": "IbQfKOU7gm4l2rsld72L7nu9",
                        "locals": [
                          {
                            "name": "h",
                            "type": "Action",
                            "nodeType": "localDef",
                            "id": "IbQfKOU7gm4l2rsld72L7nu9B0"
                          }
                        ]
                      }
                    ],
                    "nodeType": "inlineActions",
                    "id": "xrppgTCf0E49B7ffR6ggbl9b",
                    "locals": []
                  },
                  {
                    "body": [
                      {
                        "expr": "'invite_friends .post_to_wall",
                        "nodeType": "exprStmt",
                        "id": "cWdcIr5HNIgfBLdubHRCjZCu",
                        "locals": []
                      }
                    ],
                    "nodeType": "boxed",
                    "id": "UZ3fALxYxipqfzj6JX12vMPh"
                  }
                ],
                "nodeType": "boxed",
                "id": "var4abyH1kBntX1VCXm7psip"
              }
            ],
            "id": "uABZUnRVLnkrGD26F2alGbdn"
          },
          {
            "name": "post picture",
            "inParameters": [
              {
                "name": "user or album id",
                "type": "String",
                "nodeType": "localDef",
                "id": "XL7b2cXHsvVYqm45435q9YlxP0"
              },
              {
                "name": "pic",
                "type": "Picture",
                "nodeType": "localDef",
                "id": "XL7b2cXHsvVYqm45435q9YlxP1"
              },
              {
                "name": "picture name",
                "type": "String",
                "nodeType": "localDef",
                "id": "XL7b2cXHsvVYqm45435q9YlxP2"
              },
              {
                "name": "message",
                "type": "String",
                "nodeType": "localDef",
                "id": "XL7b2cXHsvVYqm45435q9YlxP3"
              }
            ],
            "outParameters": [
              {
                "name": "id",
                "type": "String",
                "nodeType": "localDef",
                "id": "XL7b2cXHsvVYqm45435q9YlxP4"
              }
            ],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "Posts a picture to the current Facebook user wall and returns the ID of the uploaded photo if successful. `picture name` will be used when saving the picture; `message` is optional. Requires `publish_stream` scope.",
                "nodeType": "comment",
                "id": "vPgi0WSBJ163CwSy8aoy1N1v"
              },
              {
                "nodeType": "if",
                "condition": "$XL7b2cXHsvVYqm45435q9YlxP0 .is_empty",
                "thenBody": [
                  {
                    "expr": "$XL7b2cXHsvVYqm45435q9YlxP0 ,:= 'me",
                    "nodeType": "exprStmt",
                    "id": "jEkGLsia7CFAlXY4tj7pqbzi",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "EOK7czG2nNnTEgDyY4K4RiCJ",
                "locals": []
              },
              {
                "expr": "$kTRDFCBu3lQaa5n23QplorvlL0 ,:= :code #XDVQ4ushHS6663xaZDJhHpuq ,( 'me/002fphotos ,, ' ,)",
                "nodeType": "exprStmt",
                "id": "kTRDFCBu3lQaa5n23Qplorvl",
                "locals": [
                  {
                    "name": "request",
                    "type": "Web Request",
                    "nodeType": "localDef",
                    "id": "kTRDFCBu3lQaa5n23QplorvlL0"
                  }
                ]
              },
              {
                "expr": "$XL7b2cXHsvVYqm45435q9YlxP4 ,:= '",
                "nodeType": "exprStmt",
                "id": "vfojnvNKlb3gN7Nn3XU3oSva",
                "locals": []
              },
              {
                "nodeType": "if",
                "condition": ",not $kTRDFCBu3lQaa5n23QplorvlL0 .is_invalid",
                "thenBody": [
                  {
                    "expr": "$rl2uxpK4EtYDdBCGKVUymLaJL0 ,:= :web .create_form_builder",
                    "nodeType": "exprStmt",
                    "id": "rl2uxpK4EtYDdBCGKVUymLaJ",
                    "locals": [
                      {
                        "name": "form",
                        "type": "Form Builder",
                        "nodeType": "localDef",
                        "id": "rl2uxpK4EtYDdBCGKVUymLaJL0"
                      }
                    ]
                  },
                  {
                    "expr": "$rl2uxpK4EtYDdBCGKVUymLaJL0 .add_string ,( 'access/005ftoken ,, :data #uYiAdRyALWxDSH1XPMgvRRtS .access_token ,)",
                    "nodeType": "exprStmt",
                    "id": "EBZqD8oqc7HsGaVKiHz5Hmz2",
                    "locals": []
                  },
                  {
                    "nodeType": "if",
                    "condition": ",not $XL7b2cXHsvVYqm45435q9YlxP3 .is_empty",
                    "thenBody": [
                      {
                        "expr": "$rl2uxpK4EtYDdBCGKVUymLaJL0 .add_string ,( 'message ,, $XL7b2cXHsvVYqm45435q9YlxP3 ,)",
                        "nodeType": "exprStmt",
                        "id": "S2EVcIyfF7rcMUwQrmrezUEY",
                        "locals": []
                      }
                    ],
                    "isElseIf": false,
                    "id": "LTU54gFdy4TijbsB7U0uPBYB",
                    "locals": []
                  },
                  {
                    "expr": "$rl2uxpK4EtYDdBCGKVUymLaJL0 .add_picture ,( 'source ,, $XL7b2cXHsvVYqm45435q9YlxP1 ,, $XL7b2cXHsvVYqm45435q9YlxP2 ,)",
                    "nodeType": "exprStmt",
                    "id": "twuKxnqzaJ5Fp1kv5af0mTTY",
                    "locals": []
                  },
                  {
                    "expr": "$kTRDFCBu3lQaa5n23QplorvlL0 .set_content_as_form ,( $rl2uxpK4EtYDdBCGKVUymLaJL0 ,)",
                    "nodeType": "exprStmt",
                    "id": "v1A5ZUUwNlGp4vEIdZOI87Lo",
                    "locals": []
                  },
                  {
                    "expr": "$QFsUBAu4WBoqzY2P7m85dT54L0 ,:= :code #O2mWf7G5tuJrEYMmU6YDSiJB ,( $kTRDFCBu3lQaa5n23QplorvlL0 ,)",
                    "nodeType": "exprStmt",
                    "id": "QFsUBAu4WBoqzY2P7m85dT54",
                    "locals": [
                      {
                        "name": "response",
                        "type": "Web Response",
                        "nodeType": "localDef",
                        "id": "QFsUBAu4WBoqzY2P7m85dT54L0"
                      }
                    ]
                  },
                  {
                    "expr": "$XL7b2cXHsvVYqm45435q9YlxP4 ,:= :code #CvHsMXLbeD4VhgC6FgLSHfeQ ,( $QFsUBAu4WBoqzY2P7m85dT54L0 ,)",
                    "nodeType": "exprStmt",
                    "id": "jPrzcxFr4Rd4vfXzViZBr1kD",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "rKPge5U0MXSAEgq36CyUFR4n",
                "locals": []
              }
            ],
            "id": "XL7b2cXHsvVYqm45435q9Ylx"
          },
          {
            "name": "test post picture",
            "inParameters": [],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": true,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "expr": "$bpzyTU0sEAVfHqPsHcWd4YBsL0 ,:= '362956073819124",
                "nodeType": "exprStmt",
                "id": "bpzyTU0sEAVfHqPsHcWd4YBs",
                "locals": [
                  {
                    "name": "application id",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "bpzyTU0sEAVfHqPsHcWd4YBsL0"
                  }
                ]
              },
              {
                "expr": ":code #Vkhf99vmiBtHLXoJEIyOLN1F ,( $bpzyTU0sEAVfHqPsHcWd4YBsL0 ,, 'publish/005fstream ,)",
                "nodeType": "exprStmt",
                "id": "gV3M4FiesPVFeatsbVKu31sj",
                "locals": []
              },
              {
                "expr": "$H2VznwEj8fjZZVEfCVvFuninL0 ,:= :media .create_picture ,( ,4 ,8 ,0 ,, ,8 ,0 ,0 ,)",
                "nodeType": "exprStmt",
                "id": "H2VznwEj8fjZZVEfCVvFunin",
                "locals": [
                  {
                    "name": "pic",
                    "type": "Picture",
                    "nodeType": "localDef",
                    "id": "H2VznwEj8fjZZVEfCVvFuninL0"
                  }
                ]
              },
              {
                "expr": "$H2VznwEj8fjZZVEfCVvFuninL0 .clear ,( :colors .blue ,)",
                "nodeType": "exprStmt",
                "id": "O4pMZ3JIbYJdvz9zfD2bfMOC",
                "locals": []
              },
              {
                "expr": "$H2VznwEj8fjZZVEfCVvFuninL0 .draw_text ,( ,2 ,0 ,0 ,, ,2 ,0 ,0 ,, 'test ,, ,3 ,2 ,, ,4 ,5 ,, :colors .white ,)",
                "nodeType": "exprStmt",
                "id": "xT2gXZ1g00P6q2S2yqdFB7Zn",
                "locals": []
              },
              {
                "expr": "$x8ZjJ5GWaixG0IDdS04qESZJL0 ,:= :code #XL7b2cXHsvVYqm45435q9Ylx ,( ' ,, $H2VznwEj8fjZZVEfCVvFuninL0 ,, 'dummy/002epng ,, 'nice_pic/0021 ,)",
                "nodeType": "exprStmt",
                "id": "x8ZjJ5GWaixG0IDdS04qESZJ",
                "locals": [
                  {
                    "name": "id",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "x8ZjJ5GWaixG0IDdS04qESZJL0"
                  }
                ]
              },
              {
                "expr": ",( 'picture_id/003a_ ,∥ $x8ZjJ5GWaixG0IDdS04qESZJL0 ,) .post_to_wall",
                "nodeType": "exprStmt",
                "id": "oiDmiwSiysB3xpjaoGypi6rI",
                "locals": []
              }
            ],
            "id": "fnZ4Vr7lOWzYhvaLQcyuCBLp"
          },
          {
            "name": "test post message",
            "inParameters": [],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": true,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "expr": "$nPPmLRzKxU66wpswsIDWspimL0 ,:= '362956073819124",
                "nodeType": "exprStmt",
                "id": "nPPmLRzKxU66wpswsIDWspim",
                "locals": [
                  {
                    "name": "application id",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "nPPmLRzKxU66wpswsIDWspimL0"
                  }
                ]
              },
              {
                "expr": ":code #Vkhf99vmiBtHLXoJEIyOLN1F ,( $nPPmLRzKxU66wpswsIDWspimL0 ,, 'publish/005fstream ,)",
                "nodeType": "exprStmt",
                "id": "fyMP6sdL2EsF9O5jw22gcEA2",
                "locals": []
              },
              {
                "expr": "$G4DiDDBTt7tJPwYZOx7tznz2L0 ,:= :code #xURfx1X7AWfjvS0CNw35hG5P ,( ' ,, 'TouchDevelop_is_cool/0021 ,)",
                "nodeType": "exprStmt",
                "id": "G4DiDDBTt7tJPwYZOx7tznz2",
                "locals": [
                  {
                    "name": "id",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "G4DiDDBTt7tJPwYZOx7tznz2L0"
                  }
                ]
              },
              {
                "expr": ",( 'text_id/003a_ ,∥ $G4DiDDBTt7tJPwYZOx7tznz2L0 ,) .post_to_wall",
                "nodeType": "exprStmt",
                "id": "hsBHZAECImAdzlt0NxWdydad",
                "locals": []
              },
              {
                "expr": "$G4DiDDBTt7tJPwYZOx7tznz2L0 ,:= :code #KvTT6PbaV4Yoyc0zvI52SBN0 ,( ' ,, 'This_is_cool/0021 ,, :web .link_url ,( 'TouchDevelop ,, 'https/003a/002f/002fwww/002etouchdevelop/002ecom ,) ,)",
                "nodeType": "exprStmt",
                "id": "xWZeeZKLnK2uTGicpQQYvONc",
                "locals": []
              },
              {
                "expr": ",( 'link_id/003a_ ,∥ $G4DiDDBTt7tJPwYZOx7tznz2L0 ,) .post_to_wall",
                "nodeType": "exprStmt",
                "id": "kRUKeotilj5nxKVTE2g2rNcQ",
                "locals": []
              },
              {
                "expr": "$xqFJq5WEsdmPOKKVZOCTIe47L0 ,:= :social .create_message ,( 'This_is_cool/0021 ,)",
                "nodeType": "exprStmt",
                "id": "xqFJq5WEsdmPOKKVZOCTIe47",
                "locals": [
                  {
                    "name": "msg",
                    "type": "Message",
                    "nodeType": "localDef",
                    "id": "xqFJq5WEsdmPOKKVZOCTIe47L0"
                  }
                ]
              },
              {
                "expr": "$xqFJq5WEsdmPOKKVZOCTIe47L0 .set_link ,( 'https/003a/002f/002fwww/002etouchdevelop/002ecom ,)",
                "nodeType": "exprStmt",
                "id": "fh3Wwokfz8NQw1GQPLpazpz1",
                "locals": []
              },
              {
                "expr": "$G4DiDDBTt7tJPwYZOx7tznz2L0 ,:= :code #n3eYlBRkQAheD7JMsquiqN6B ,( $xqFJq5WEsdmPOKKVZOCTIe47L0 ,)",
                "nodeType": "exprStmt",
                "id": "vGzsmWq2Pca1wKdx8KJmwnWu",
                "locals": []
              },
              {
                "expr": ",( 'message_id/003a_ ,∥ $G4DiDDBTt7tJPwYZOx7tznz2L0 ,) .post_to_wall",
                "nodeType": "exprStmt",
                "id": "hDjadxrmX8o7j3fjxREE747A",
                "locals": []
              }
            ],
            "id": "xfIvywfwh28i43rABiv88OH6"
          },
          {
            "name": "picture",
            "inParameters": [
              {
                "name": "id",
                "type": "String",
                "nodeType": "localDef",
                "id": "xfD3sy3mBlBXjME4guTllz5sP0"
              },
              {
                "name": "options",
                "type": "String",
                "nodeType": "localDef",
                "id": "xfD3sy3mBlBXjME4guTllz5sP1"
              }
            ],
            "outParameters": [
              {
                "name": "link",
                "type": "Link",
                "nodeType": "localDef",
                "id": "xfD3sy3mBlBXjME4guTllz5sP2"
              }
            ],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "Given a Facebook Graph object ID, returns a link to the corresponding picture. `options` contains a query string of optional requirements. `type=square` for a square image.",
                "nodeType": "comment",
                "id": "xGO3iVpbD2lKDuxUdXIZMpEe"
              },
              {
                "expr": "$Lea14ujqV283GBu2sNORpWbeL0 ,:= 'https/003a/002f/002fgraph/002efacebook/002ecom/002f ,∥ :web .url_encode ,( $xfD3sy3mBlBXjME4guTllz5sP0 ,) ,∥ '/002fpicture/003freturn/005fssl/005fresources/003d1",
                "nodeType": "exprStmt",
                "id": "Lea14ujqV283GBu2sNORpWbe",
                "locals": [
                  {
                    "name": "url",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "Lea14ujqV283GBu2sNORpWbeL0"
                  }
                ]
              },
              {
                "nodeType": "if",
                "condition": ",not $xfD3sy3mBlBXjME4guTllz5sP1 .is_empty",
                "thenBody": [
                  {
                    "expr": "$Lea14ujqV283GBu2sNORpWbeL0 ,:= $Lea14ujqV283GBu2sNORpWbeL0 ,∥ '/0026 ,∥ $xfD3sy3mBlBXjME4guTllz5sP1",
                    "nodeType": "exprStmt",
                    "id": "PpBlLm49MVNri6SeiU8dc4lu",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "LeDACqcd3TUHa7KJ7N8wZVa1",
                "locals": []
              },
              {
                "expr": "$xfD3sy3mBlBXjME4guTllz5sP2 ,:= :web .link_image ,( $Lea14ujqV283GBu2sNORpWbeL0 ,)",
                "nodeType": "exprStmt",
                "id": "xZQgHw65jJZ0nDGKbiXwuUq6",
                "locals": []
              }
            ],
            "id": "xfD3sy3mBlBXjME4guTllz5s"
          },
          {
            "name": "friends",
            "inParameters": [
              {
                "name": "user id",
                "type": "String",
                "nodeType": "localDef",
                "id": "xBW3NuNBDrsDO4eWhl4Y71rKP0"
              }
            ],
            "outParameters": [
              {
                "name": "users",
                "type": "String Map",
                "nodeType": "localDef",
                "id": "xBW3NuNBDrsDO4eWhl4Y71rKP1"
              }
            ],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "Gets the list of friends as a map of 'id' to 'name'. Leave `user id` blank to use the current user. Requires the `read_friendlists` permission.",
                "nodeType": "comment",
                "id": "fbHYxjrnvVzY2KSgq46XsBcl"
              },
              {
                "expr": "$xBW3NuNBDrsDO4eWhl4Y71rKP0 ,:= :code #G7QowUs3lEoha2Me0VAgswhR ,( $xBW3NuNBDrsDO4eWhl4Y71rKP0 ,)",
                "nodeType": "exprStmt",
                "id": "iQ8o8XV87gnJvPIJX4PhAf8N",
                "locals": []
              },
              {
                "expr": "$xBW3NuNBDrsDO4eWhl4Y71rKP1 ,:= :collections .create_string_map",
                "nodeType": "exprStmt",
                "id": "l7qP9oIwlavplOYpiWGKj47F",
                "locals": []
              },
              {
                "expr": "$w4WL5RxQ5RE7LXK8PYeqnS2hL0 ,:= :code #XDVQ4ushHS6663xaZDJhHpuq ,( :web .url_encode ,( $xBW3NuNBDrsDO4eWhl4Y71rKP0 ,) ,∥ '/002ffriends ,, ' ,)",
                "nodeType": "exprStmt",
                "id": "w4WL5RxQ5RE7LXK8PYeqnS2h",
                "locals": [
                  {
                    "name": "request",
                    "type": "Web Request",
                    "nodeType": "localDef",
                    "id": "w4WL5RxQ5RE7LXK8PYeqnS2hL0"
                  }
                ]
              },
              {
                "nodeType": "if",
                "condition": ",not $w4WL5RxQ5RE7LXK8PYeqnS2hL0 .is_invalid",
                "thenBody": [
                  {
                    "expr": "$zhmefdPxtDE2TkJOeXJtSYONL0 ,:= $w4WL5RxQ5RE7LXK8PYeqnS2hL0 .send",
                    "nodeType": "exprStmt",
                    "id": "zhmefdPxtDE2TkJOeXJtSYON",
                    "locals": [
                      {
                        "name": "response",
                        "type": "Web Response",
                        "nodeType": "localDef",
                        "id": "zhmefdPxtDE2TkJOeXJtSYONL0"
                      }
                    ]
                  },
                  {
                    "expr": ":code #M9ULEnUU2A8duskKFUBqFxBT ,( $zhmefdPxtDE2TkJOeXJtSYONL0 ,, $xBW3NuNBDrsDO4eWhl4Y71rKP1 ,)",
                    "nodeType": "exprStmt",
                    "id": "cOcxEwSj2Wj2Tzlv2HNBF6Ub",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "pM26XRf336Puo2CZ5jkrqV3R",
                "locals": []
              }
            ],
            "id": "xBW3NuNBDrsDO4eWhl4Y71rK"
          },
          {
            "name": "friend lists",
            "inParameters": [],
            "outParameters": [
              {
                "name": "lists",
                "type": "String Map",
                "nodeType": "localDef",
                "id": "x0wJo4wC40ntBtuuTk6wMMJSP0"
              }
            ],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "Gets the list of friendlists as a map of 'id' to 'name'. Requires the `read_friendlists` permission.",
                "nodeType": "comment",
                "id": "s9AKcl2yByVU6cquwVLIkMp9"
              },
              {
                "expr": "$x0wJo4wC40ntBtuuTk6wMMJSP0 ,:= :collections .create_string_map",
                "nodeType": "exprStmt",
                "id": "GPIeJiazO9n6u5LAHWZsJp2H",
                "locals": []
              },
              {
                "expr": "$ffakex4hSYF85Xv54lTTeSvuL0 ,:= :code #XDVQ4ushHS6663xaZDJhHpuq ,( 'me/002ffriends ,, ' ,)",
                "nodeType": "exprStmt",
                "id": "ffakex4hSYF85Xv54lTTeSvu",
                "locals": [
                  {
                    "name": "request",
                    "type": "Web Request",
                    "nodeType": "localDef",
                    "id": "ffakex4hSYF85Xv54lTTeSvuL0"
                  }
                ]
              },
              {
                "nodeType": "if",
                "condition": ",not $ffakex4hSYF85Xv54lTTeSvuL0 .is_invalid",
                "thenBody": [
                  {
                    "expr": "$xZzJq2BzDJ0J9sMG7QPPx4gyL0 ,:= $ffakex4hSYF85Xv54lTTeSvuL0 .send",
                    "nodeType": "exprStmt",
                    "id": "xZzJq2BzDJ0J9sMG7QPPx4gy",
                    "locals": [
                      {
                        "name": "response",
                        "type": "Web Response",
                        "nodeType": "localDef",
                        "id": "xZzJq2BzDJ0J9sMG7QPPx4gyL0"
                      }
                    ]
                  },
                  {
                    "expr": ":code #M9ULEnUU2A8duskKFUBqFxBT ,( $xZzJq2BzDJ0J9sMG7QPPx4gyL0 ,, $x0wJo4wC40ntBtuuTk6wMMJSP0 ,)",
                    "nodeType": "exprStmt",
                    "id": "NppPlvhgvltiBi6E5AkU5WaV",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "xooBuDc5GXd7vu207s0TuPEq",
                "locals": []
              }
            ],
            "id": "x0wJo4wC40ntBtuuTk6wMMJS"
          },
          {
            "name": "read ids",
            "inParameters": [
              {
                "name": "response",
                "type": "Web Response",
                "nodeType": "localDef",
                "id": "M9ULEnUU2A8duskKFUBqFxBTP0"
              },
              {
                "name": "lists",
                "type": "String Map",
                "nodeType": "localDef",
                "id": "M9ULEnUU2A8duskKFUBqFxBTP1"
              }
            ],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "expr": "$CfpP89kTgIJcZ3e4w2aqoeEyL0 ,:= $M9ULEnUU2A8duskKFUBqFxBTP0 .content_as_json",
                "nodeType": "exprStmt",
                "id": "CfpP89kTgIJcZ3e4w2aqoeEy",
                "locals": [
                  {
                    "name": "jsids",
                    "type": "Json Object",
                    "nodeType": "localDef",
                    "id": "CfpP89kTgIJcZ3e4w2aqoeEyL0"
                  }
                ]
              },
              {
                "nodeType": "if",
                "condition": "$M9ULEnUU2A8duskKFUBqFxBTP0 .status_code ,= ,2 ,0 ,0 ,and ,not $CfpP89kTgIJcZ3e4w2aqoeEyL0 .is_invalid",
                "thenBody": [
                  {
                    "collection": "$CfpP89kTgIJcZ3e4w2aqoeEyL0 .field ,( 'data ,)",
                    "conditions": [
                      {
                        "condition": "T",
                        "nodeType": "where",
                        "id": "lHBwfHxlRpav2IqFC8RCkwuU",
                        "locals": []
                      }
                    ],
                    "body": [
                      {
                        "expr": "$l5oG7ksOY7xLj7mwaD5O0aeyL0 ,:= $gP87kFpuSWd7IBFoRf9SbtcUB0 .string ,( 'id ,)",
                        "nodeType": "exprStmt",
                        "id": "l5oG7ksOY7xLj7mwaD5O0aey",
                        "locals": [
                          {
                            "name": "id",
                            "type": "String",
                            "nodeType": "localDef",
                            "id": "l5oG7ksOY7xLj7mwaD5O0aeyL0"
                          }
                        ]
                      },
                      {
                        "expr": "$DC4Vqn0HDKrAxca8XDL6pPiFL0 ,:= $gP87kFpuSWd7IBFoRf9SbtcUB0 .string ,( 'name ,)",
                        "nodeType": "exprStmt",
                        "id": "DC4Vqn0HDKrAxca8XDL6pPiF",
                        "locals": [
                          {
                            "name": "name",
                            "type": "String",
                            "nodeType": "localDef",
                            "id": "DC4Vqn0HDKrAxca8XDL6pPiFL0"
                          }
                        ]
                      },
                      {
                        "expr": "$M9ULEnUU2A8duskKFUBqFxBTP1 .set_at ,( $l5oG7ksOY7xLj7mwaD5O0aeyL0 ,, $DC4Vqn0HDKrAxca8XDL6pPiFL0 ,)",
                        "nodeType": "exprStmt",
                        "id": "TenwPTGkqne9STcvIJygbcOe",
                        "locals": []
                      }
                    ],
                    "nodeType": "foreach",
                    "id": "gP87kFpuSWd7IBFoRf9SbtcU",
                    "locals": [
                      {
                        "name": "jsid",
                        "type": "Json Object",
                        "nodeType": "localDef",
                        "id": "gP87kFpuSWd7IBFoRf9SbtcUB0"
                      }
                    ]
                  }
                ],
                "isElseIf": false,
                "id": "xZRl74AtK1BAHRjkdeF7hCF6",
                "locals": []
              }
            ],
            "id": "M9ULEnUU2A8duskKFUBqFxBT"
          },
          {
            "name": "friend list",
            "inParameters": [
              {
                "name": "friend list id",
                "type": "String",
                "nodeType": "localDef",
                "id": "LpbiVXqIQ6shgb5OJYhVQXKkP0"
              }
            ],
            "outParameters": [
              {
                "name": "users",
                "type": "String Map",
                "nodeType": "localDef",
                "id": "LpbiVXqIQ6shgb5OJYhVQXKkP1"
              }
            ],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "Gets the list of friends in the `id` friendlist as a map of 'id' to 'name'.",
                "nodeType": "comment",
                "id": "AR9dZ7rW6F7qOLFVVrzox8LE"
              },
              {
                "expr": "$LpbiVXqIQ6shgb5OJYhVQXKkP1 ,:= :collections .create_string_map",
                "nodeType": "exprStmt",
                "id": "z4wteXc1PZKCFtN2RkySstIh",
                "locals": []
              },
              {
                "expr": "$cvnrlxk5DctFa2tHrKqDFOtVL0 ,:= :code #XDVQ4ushHS6663xaZDJhHpuq ,( :web .url_encode ,( $LpbiVXqIQ6shgb5OJYhVQXKkP0 ,) ,, ' ,)",
                "nodeType": "exprStmt",
                "id": "cvnrlxk5DctFa2tHrKqDFOtV",
                "locals": [
                  {
                    "name": "request",
                    "type": "Web Request",
                    "nodeType": "localDef",
                    "id": "cvnrlxk5DctFa2tHrKqDFOtVL0"
                  }
                ]
              },
              {
                "nodeType": "if",
                "condition": ",not $cvnrlxk5DctFa2tHrKqDFOtVL0 .is_invalid",
                "thenBody": [
                  {
                    "expr": "$zm9O4181Zcyv9hYl0jpV73xKL0 ,:= $cvnrlxk5DctFa2tHrKqDFOtVL0 .send",
                    "nodeType": "exprStmt",
                    "id": "zm9O4181Zcyv9hYl0jpV73xK",
                    "locals": [
                      {
                        "name": "response",
                        "type": "Web Response",
                        "nodeType": "localDef",
                        "id": "zm9O4181Zcyv9hYl0jpV73xKL0"
                      }
                    ]
                  },
                  {
                    "expr": ":code #M9ULEnUU2A8duskKFUBqFxBT ,( $zm9O4181Zcyv9hYl0jpV73xKL0 ,, $LpbiVXqIQ6shgb5OJYhVQXKkP1 ,)",
                    "nodeType": "exprStmt",
                    "id": "YQDfN0C9eKNVK6aGwwtaUfLg",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "xpyHdCe4f5r4DRcPFP4tlZ5b",
                "locals": []
              }
            ],
            "id": "LpbiVXqIQ6shgb5OJYhVQXKk"
          },
          {
            "name": "test friends",
            "inParameters": [],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": true,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "expr": "$xeXhySwprbYCZKdUvkGTgl8BL0 ,:= '362956073819124",
                "nodeType": "exprStmt",
                "id": "xeXhySwprbYCZKdUvkGTgl8B",
                "locals": [
                  {
                    "name": "application id",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "xeXhySwprbYCZKdUvkGTgl8BL0"
                  }
                ]
              },
              {
                "expr": ":code #Vkhf99vmiBtHLXoJEIyOLN1F ,( $xeXhySwprbYCZKdUvkGTgl8BL0 ,, 'read/005ffriendlists ,)",
                "nodeType": "exprStmt",
                "id": "xkmt92e6J5wlhIFwXGMx2XEV",
                "locals": []
              },
              {
                "expr": "$sigC1sawsH2F2APZ746I2mCjL0 ,:= :code #xBW3NuNBDrsDO4eWhl4Y71rK ,( ' ,)",
                "nodeType": "exprStmt",
                "id": "sigC1sawsH2F2APZ746I2mCj",
                "locals": [
                  {
                    "name": "users",
                    "type": "String Map",
                    "nodeType": "localDef",
                    "id": "sigC1sawsH2F2APZ746I2mCjL0"
                  }
                ]
              },
              {
                "expr": ",( '/0023_friends/003a_ ,∥ $sigC1sawsH2F2APZ746I2mCjL0 .count ,) .post_to_wall",
                "nodeType": "exprStmt",
                "id": "qHoOdEzg4t3f2VTW8hgT5YGf",
                "locals": []
              },
              {
                "expr": "$s9APqGcVH0OFGmWY6GJELtBzL0 ,:= :code #x0wJo4wC40ntBtuuTk6wMMJS",
                "nodeType": "exprStmt",
                "id": "s9APqGcVH0OFGmWY6GJELtBz",
                "locals": [
                  {
                    "name": "lists",
                    "type": "String Map",
                    "nodeType": "localDef",
                    "id": "s9APqGcVH0OFGmWY6GJELtBzL0"
                  }
                ]
              },
              {
                "expr": ",( '/0023_friend_lists/003a_ ,∥ $s9APqGcVH0OFGmWY6GJELtBzL0 .count ,) .post_to_wall",
                "nodeType": "exprStmt",
                "id": "iP12bTFV37s1J3zISIT4CecK",
                "locals": []
              },
              {
                "collection": "$s9APqGcVH0OFGmWY6GJELtBzL0 .keys",
                "conditions": [
                  {
                    "condition": "T",
                    "nodeType": "where",
                    "id": "OjS2C6qc9UiqGDtPYMIIwR8E",
                    "locals": []
                  }
                ],
                "body": [
                  {
                    "expr": "$KJRzv9Yu95Zzg9VVCB3mpUgDL0 ,:= :code #LpbiVXqIQ6shgb5OJYhVQXKk ,( $hUKJnMO8hDtMOIHQuo2r4a7iB0 ,)",
                    "nodeType": "exprStmt",
                    "id": "KJRzv9Yu95Zzg9VVCB3mpUgD",
                    "locals": [
                      {
                        "name": "list users",
                        "type": "String Map",
                        "nodeType": "localDef",
                        "id": "KJRzv9Yu95Zzg9VVCB3mpUgDL0"
                      }
                    ]
                  },
                  {
                    "expr": ",( '/0023_friend_list_ ,∥ $hUKJnMO8hDtMOIHQuo2r4a7iB0 ,∥ '/003a_ ,∥ $KJRzv9Yu95Zzg9VVCB3mpUgDL0 ,) .post_to_wall",
                    "nodeType": "exprStmt",
                    "id": "wVp8eYQX3Ae2xRrErdBalOrZ",
                    "locals": []
                  }
                ],
                "nodeType": "foreach",
                "id": "hUKJnMO8hDtMOIHQuo2r4a7i",
                "locals": [
                  {
                    "name": "list id",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "hUKJnMO8hDtMOIHQuo2r4a7iB0"
                  }
                ]
              }
            ],
            "id": "xLZjQNWTP2ybTihkYT11W3I1"
          },
          {
            "name": "clean invites",
            "inParameters": [],
            "outParameters": [],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "Clears invites for this user. You MUST call this action in your script when using the `invite friends` action. This allows the library to remove app requests from the user notification list.",
                "nodeType": "comment",
                "id": "Q0IIA2ANOHJIMsZR88WnkeWb"
              },
              {
                "expr": "$mvwC7K7ON1TCl4QgZkrd1F2iL0 ,:= :code #XDVQ4ushHS6663xaZDJhHpuq ,( 'me/002fapprequests ,, ' ,)",
                "nodeType": "exprStmt",
                "id": "mvwC7K7ON1TCl4QgZkrd1F2i",
                "locals": [
                  {
                    "name": "request",
                    "type": "Web Request",
                    "nodeType": "localDef",
                    "id": "mvwC7K7ON1TCl4QgZkrd1F2iL0"
                  }
                ]
              },
              {
                "nodeType": "if",
                "condition": ",not $mvwC7K7ON1TCl4QgZkrd1F2iL0 .is_invalid",
                "thenBody": [
                  {
                    "text": "calling async to avoid blocking for this cleanup operation",
                    "nodeType": "comment",
                    "id": "xnw4rq2z6YQSR5Fte96uf1lp"
                  },
                  {
                    "expr": "$mvwC7K7ON1TCl4QgZkrd1F2iL0 .on_response_received ,( $dO71Nyp9aVSBRYzlpw5yN33yB0 ,)",
                    "actions": [
                      {
                        "inParameters": [
                          {
                            "name": "response",
                            "type": "Web Response",
                            "nodeType": "localDef",
                            "id": "dO71Nyp9aVSBRYzlpw5yN33yP0"
                          }
                        ],
                        "outParameters": [],
                        "body": [
                          {
                            "expr": "$D87G1A1ST7ro300mHW9Udi3IL0 ,:= $dO71Nyp9aVSBRYzlpw5yN33yP0 .content_as_json",
                            "nodeType": "exprStmt",
                            "id": "D87G1A1ST7ro300mHW9Udi3I",
                            "locals": [
                              {
                                "name": "js",
                                "type": "Json Object",
                                "nodeType": "localDef",
                                "id": "D87G1A1ST7ro300mHW9Udi3IL0"
                              }
                            ]
                          },
                          {
                            "nodeType": "if",
                            "condition": "$dO71Nyp9aVSBRYzlpw5yN33yP0 .status_code ,= ,2 ,0 ,0 ,and ,not $D87G1A1ST7ro300mHW9Udi3IL0 .is_invalid",
                            "thenBody": [
                              {
                                "collection": "$D87G1A1ST7ro300mHW9Udi3IL0 .field ,( 'data ,)",
                                "conditions": [
                                  {
                                    "condition": "$zzpzGYlL6rTcQ9gaBrchBo4NB0 .field ,( 'application ,) .string ,( 'id ,) .equals ,( :data #CFhZzX02TLdS0htdHmCRCN54 ,)",
                                    "nodeType": "where",
                                    "id": "ktv3zR8wFYWBPO8uyKYNQ2wo",
                                    "locals": []
                                  }
                                ],
                                "body": [
                                  {
                                    "expr": "$NE2LptXsNi80CJ5ZFkI3ya3aL0 ,:= :code #XDVQ4ushHS6663xaZDJhHpuq ,( $zzpzGYlL6rTcQ9gaBrchBo4NB0 .string ,( 'id ,) ,, ' ,)",
                                    "nodeType": "exprStmt",
                                    "id": "NE2LptXsNi80CJ5ZFkI3ya3a",
                                    "locals": [
                                      {
                                        "name": "delr",
                                        "type": "Web Request",
                                        "nodeType": "localDef",
                                        "id": "NE2LptXsNi80CJ5ZFkI3ya3aL0"
                                      }
                                    ]
                                  },
                                  {
                                    "expr": "$NE2LptXsNi80CJ5ZFkI3ya3aL0 .set_method ,( 'delete ,)",
                                    "nodeType": "exprStmt",
                                    "id": "E53wWIE3JqdhrSImJWqL73Kr",
                                    "locals": []
                                  },
                                  {
                                    "expr": "$NE2LptXsNi80CJ5ZFkI3ya3aL0 .send_async",
                                    "nodeType": "exprStmt",
                                    "id": "Yj4bpcUoPLZIVd2HUVtLEkEf",
                                    "locals": []
                                  }
                                ],
                                "nodeType": "foreach",
                                "id": "zzpzGYlL6rTcQ9gaBrchBo4N",
                                "locals": [
                                  {
                                    "name": "jsr",
                                    "type": "Json Object",
                                    "nodeType": "localDef",
                                    "id": "zzpzGYlL6rTcQ9gaBrchBo4NB0"
                                  }
                                ]
                              }
                            ],
                            "isElseIf": false,
                            "id": "xukqCgz7IcJGXyl7aQ2g2BXL",
                            "locals": []
                          }
                        ],
                        "nodeType": "inlineAction",
                        "id": "dO71Nyp9aVSBRYzlpw5yN33y",
                        "locals": [
                          {
                            "name": "handler",
                            "type": "Web Response Action",
                            "nodeType": "localDef",
                            "id": "dO71Nyp9aVSBRYzlpw5yN33yB0"
                          }
                        ]
                      }
                    ],
                    "nodeType": "inlineActions",
                    "id": "gjykiK4VqAm63nY3227Eks09",
                    "locals": []
                  },
                  {
                    "expr": "$mvwC7K7ON1TCl4QgZkrd1F2iL0 .send_async",
                    "nodeType": "exprStmt",
                    "id": "WBrKQBZaBuglj26oTM2wCfQI",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "CtPSZf8z6AvgU6gu4lIxyUtf",
                "locals": []
              }
            ],
            "id": "LmfA4Eh4xdCSUpA2DcqsTxz5"
          },
          {
            "name": "invite friends",
            "inParameters": [
              {
                "name": "message",
                "type": "String",
                "nodeType": "localDef",
                "id": "hlWOzvBAsGOMQUzKSrxLOBsXP0"
              },
              {
                "name": "user id",
                "type": "String",
                "nodeType": "localDef",
                "id": "hlWOzvBAsGOMQUzKSrxLOBsXP1"
              }
            ],
            "outParameters": [],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "Pops a dialog inviting friends to try the app. If `user id` is specified, the user will not have a choice of recipients. See https://developers.facebook.com/docs/reference/dialogs/requests/ for more information.",
                "nodeType": "comment",
                "id": "AHlqLkmrH4NSMeiU4wRwa13N"
              },
              {
                "expr": ":code #LmfA4Eh4xdCSUpA2DcqsTxz5",
                "nodeType": "exprStmt",
                "id": "EpjwlBmw2KRW0CHLJtmeU6C4",
                "locals": []
              },
              {
                "nodeType": "if",
                "condition": "$hlWOzvBAsGOMQUzKSrxLOBsXP0 .is_empty",
                "thenBody": [
                  {
                    "expr": "$hlWOzvBAsGOMQUzKSrxLOBsXP0 ,:= 'Check_out_this_app/0021",
                    "nodeType": "exprStmt",
                    "id": "LxmCvUraOHiezsSTFVsHkSrq",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "OlXadUdVPV9DxAhRThdKqbrP",
                "locals": []
              },
              {
                "expr": "$OGAbTjjOQ3Q2cLz0Qv12eG0aL0 ,:= 'https/003a/002f/002fwww/002efacebook/002ecom/002fdialog/002fapprequests/003fdialog/003dpopup/0026app/005fid/003d ,∥ :data #CFhZzX02TLdS0htdHmCRCN54",
                "nodeType": "exprStmt",
                "id": "OGAbTjjOQ3Q2cLz0Qv12eG0a",
                "locals": [
                  {
                    "name": "url",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "OGAbTjjOQ3Q2cLz0Qv12eG0aL0"
                  }
                ]
              },
              {
                "expr": "$OGAbTjjOQ3Q2cLz0Qv12eG0aL0 ,:= $OGAbTjjOQ3Q2cLz0Qv12eG0aL0 ,∥ '/0026message/003d ,∥ :web .url_encode ,( $hlWOzvBAsGOMQUzKSrxLOBsXP0 ,)",
                "nodeType": "exprStmt",
                "id": "GD3YNztl4gcob5nz21LANuh9",
                "locals": []
              },
              {
                "nodeType": "if",
                "condition": ",not $hlWOzvBAsGOMQUzKSrxLOBsXP1 .is_empty",
                "thenBody": [
                  {
                    "expr": "$OGAbTjjOQ3Q2cLz0Qv12eG0aL0 ,:= $OGAbTjjOQ3Q2cLz0Qv12eG0aL0 ,∥ '/0026to/003d ,∥ :web .url_encode ,( $hlWOzvBAsGOMQUzKSrxLOBsXP1 ,)",
                    "nodeType": "exprStmt",
                    "id": "dl6IhhqAI3rnYY8cIp3WYQEw",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "kCvzx4xZr2APwHEX8rdLBtgP",
                "locals": []
              },
              {
                "text": "we should really do something else here but that's the best way to grab the redirect uri",
                "nodeType": "comment",
                "id": "xVcxbeRZqazyADcF3WNDI37U"
              },
              {
                "expr": "$WSct0JL9L6UJQyuLgKzd1AysL0 ,:= :web .oauth_v2 ,( $OGAbTjjOQ3Q2cLz0Qv12eG0aL0 ,)",
                "nodeType": "exprStmt",
                "id": "WSct0JL9L6UJQyuLgKzd1Ays",
                "locals": [
                  {
                    "name": "redirect uri",
                    "type": "OAuth Response",
                    "nodeType": "localDef",
                    "id": "WSct0JL9L6UJQyuLgKzd1AysL0"
                  }
                ]
              }
            ],
            "id": "hlWOzvBAsGOMQUzKSrxLOBsX"
          },
          {
            "name": "test invites",
            "inParameters": [],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": true,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "expr": "$WjF647vmnmWmCKgXDIEDbsWtL0 ,:= '362956073819124",
                "nodeType": "exprStmt",
                "id": "WjF647vmnmWmCKgXDIEDbsWt",
                "locals": [
                  {
                    "name": "application id",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "WjF647vmnmWmCKgXDIEDbsWtL0"
                  }
                ]
              },
              {
                "expr": ":data #CFhZzX02TLdS0htdHmCRCN54 ,:= $WjF647vmnmWmCKgXDIEDbsWtL0",
                "nodeType": "exprStmt",
                "id": "bJ3MHAWAmgxBMqK6ZwN3Sm5F",
                "locals": []
              },
              {
                "expr": ":code #hlWOzvBAsGOMQUzKSrxLOBsX ,( 'check_out_this_cool_app/0021 ,, ' ,)",
                "nodeType": "exprStmt",
                "id": "MqAmwRfEM8iZBXdHgoyYCH3c",
                "locals": []
              }
            ],
            "id": "x8QOTQxpYb319QUzCc0E6jTX"
          },
          {
            "name": "show leaderboards",
            "inParameters": [
              {
                "name": "initialize",
                "type": "Action",
                "nodeType": "localDef",
                "id": "uaXUD6888t4N1mfLTHzT4JpsP0"
              }
            ],
            "outParameters": [],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "page",
            "initBody": [
              {
                "expr": ":wall .set_title ,( 'leaderboards ,)",
                "nodeType": "exprStmt",
                "id": "MZfg9Q8smbnN30zegdbTPeYX",
                "locals": []
              },
              {
                "expr": "$uaXUD6888t4N1mfLTHzT4JpsP0 .run",
                "nodeType": "exprStmt",
                "id": "uJ5zL4AsevYNybpO86nk0WX5",
                "locals": []
              },
              {
                "expr": ":code #BYKo7nmzOk5HokAZ0RvhsREt",
                "nodeType": "exprStmt",
                "id": "xiG6tca9z8m5Equ2qE96Q2Tq",
                "locals": []
              }
            ],
            "displayBody": [
              {
                "expr": ":code #uABZUnRVLnkrGD26F2alGbdn",
                "nodeType": "exprStmt",
                "id": "H2GSQgmi7dh4QHNhAHixGqNF",
                "locals": []
              }
            ],
            "id": "uaXUD6888t4N1mfLTHzT4Jps"
          },
          {
            "name": "to user id",
            "inParameters": [
              {
                "name": "user id",
                "type": "String",
                "nodeType": "localDef",
                "id": "G7QowUs3lEoha2Me0VAgswhRP0"
              }
            ],
            "outParameters": [
              {
                "name": "user id2",
                "type": "String",
                "nodeType": "localDef",
                "id": "G7QowUs3lEoha2Me0VAgswhRP1"
              }
            ],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "nodeType": "if",
                "condition": "$G7QowUs3lEoha2Me0VAgswhRP0 .is_invalid ,or $G7QowUs3lEoha2Me0VAgswhRP0 .is_empty",
                "thenBody": [
                  {
                    "expr": "$G7QowUs3lEoha2Me0VAgswhRP0 ,:= 'me",
                    "nodeType": "exprStmt",
                    "id": "eKFdJsp4JNH4KjKgkmiGlH6d",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "x3l3RKE24sPdITN1rcaeNKUT",
                "locals": []
              },
              {
                "expr": "$G7QowUs3lEoha2Me0VAgswhRP1 ,:= $G7QowUs3lEoha2Me0VAgswhRP0",
                "nodeType": "exprStmt",
                "id": "Un5jXdgX7eRHk2zdpLEaVVKb",
                "locals": []
              }
            ],
            "id": "G7QowUs3lEoha2Me0VAgswhR"
          },
          {
            "name": "feed",
            "inParameters": [
              {
                "name": "user id",
                "type": "String",
                "nodeType": "localDef",
                "id": "epH2vwQISZYBrZ2aSFClaqW7P0"
              }
            ],
            "outParameters": [
              {
                "name": "msgs",
                "type": "Message Collection",
                "nodeType": "localDef",
                "id": "epH2vwQISZYBrZ2aSFClaqW7P1"
              }
            ],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "Retreives the latest posts on a user wall. Requires the `read_stream` permission.",
                "nodeType": "comment",
                "id": "m4WSd6rqpbz9HBv2JGph342h"
              },
              {
                "expr": "$epH2vwQISZYBrZ2aSFClaqW7P1 ,:= :collections .create_message_collection",
                "nodeType": "exprStmt",
                "id": "xN2TRZhhY9k2VraFYvDiPdqv",
                "locals": []
              },
              {
                "expr": "$epH2vwQISZYBrZ2aSFClaqW7P0 ,:= :code #G7QowUs3lEoha2Me0VAgswhR ,( $epH2vwQISZYBrZ2aSFClaqW7P0 ,)",
                "nodeType": "exprStmt",
                "id": "xpYZMz3bBCXBddie2EeRsecj",
                "locals": []
              },
              {
                "expr": "$XWmuUEcXvGtBwR7NUsSnpWufL0 ,:= :code #XDVQ4ushHS6663xaZDJhHpuq ,( :web .url_encode ,( $epH2vwQISZYBrZ2aSFClaqW7P0 ,) ,∥ '/002ffeed ,, ' ,)",
                "nodeType": "exprStmt",
                "id": "XWmuUEcXvGtBwR7NUsSnpWuf",
                "locals": [
                  {
                    "name": "request",
                    "type": "Web Request",
                    "nodeType": "localDef",
                    "id": "XWmuUEcXvGtBwR7NUsSnpWufL0"
                  }
                ]
              },
              {
                "nodeType": "if",
                "condition": ",not $XWmuUEcXvGtBwR7NUsSnpWufL0 .is_invalid",
                "thenBody": [
                  {
                    "expr": "$sncdFVxbI9TKSssQetOTfup7L0 ,:= :code #O2mWf7G5tuJrEYMmU6YDSiJB ,( $XWmuUEcXvGtBwR7NUsSnpWufL0 ,)",
                    "nodeType": "exprStmt",
                    "id": "sncdFVxbI9TKSssQetOTfup7",
                    "locals": [
                      {
                        "name": "response",
                        "type": "Web Response",
                        "nodeType": "localDef",
                        "id": "sncdFVxbI9TKSssQetOTfup7L0"
                      }
                    ]
                  },
                  {
                    "expr": "$sARufaGTbSEiDaAf9Qx4shTLL0 ,:= $sncdFVxbI9TKSssQetOTfup7L0 .content_as_json",
                    "nodeType": "exprStmt",
                    "id": "sARufaGTbSEiDaAf9Qx4shTL",
                    "locals": [
                      {
                        "name": "js",
                        "type": "Json Object",
                        "nodeType": "localDef",
                        "id": "sARufaGTbSEiDaAf9Qx4shTLL0"
                      }
                    ]
                  },
                  {
                    "nodeType": "if",
                    "condition": "$sncdFVxbI9TKSssQetOTfup7L0 .status_code ,= ,2 ,0 ,0 ,and ,not $sARufaGTbSEiDaAf9Qx4shTLL0 .is_invalid",
                    "thenBody": [
                      {
                        "collection": "$sARufaGTbSEiDaAf9Qx4shTLL0",
                        "conditions": [
                          {
                            "condition": "T",
                            "nodeType": "where",
                            "id": "zBRB99AJ1w4qFpIlGKMPprlB",
                            "locals": []
                          }
                        ],
                        "body": [
                          {
                            "expr": "$LMhdGzRIoR6bbhOX9Up7RfiNL0 ,:= $YrIBwqCRVmKDQCNhjxdTOjAnB0 .string ,( 'message ,)",
                            "nodeType": "exprStmt",
                            "id": "LMhdGzRIoR6bbhOX9Up7RfiN",
                            "locals": [
                              {
                                "name": "message",
                                "type": "String",
                                "nodeType": "localDef",
                                "id": "LMhdGzRIoR6bbhOX9Up7RfiNL0"
                              }
                            ]
                          },
                          {
                            "nodeType": "if",
                            "condition": "$LMhdGzRIoR6bbhOX9Up7RfiNL0 .is_invalid",
                            "thenBody": [
                              {
                                "expr": "$LMhdGzRIoR6bbhOX9Up7RfiNL0 ,:= $YrIBwqCRVmKDQCNhjxdTOjAnB0 .string ,( 'story ,)",
                                "nodeType": "exprStmt",
                                "id": "xjH2yFpFNvPvCAWZlsKQcP2J",
                                "locals": []
                              }
                            ],
                            "isElseIf": false,
                            "id": "u6P54ic97fdfrRFfnX902Hga",
                            "locals": []
                          },
                          {
                            "expr": "$uLSKwqpMH2Wj47nkKx0112NyL0 ,:= :social .create_message ,( $LMhdGzRIoR6bbhOX9Up7RfiNL0 ,)",
                            "nodeType": "exprStmt",
                            "id": "uLSKwqpMH2Wj47nkKx0112Ny",
                            "locals": [
                              {
                                "name": "msg",
                                "type": "Message",
                                "nodeType": "localDef",
                                "id": "uLSKwqpMH2Wj47nkKx0112NyL0"
                              }
                            ]
                          },
                          {
                            "expr": "$uLSKwqpMH2Wj47nkKx0112NyL0 .set_time ,( $YrIBwqCRVmKDQCNhjxdTOjAnB0 .time ,( 'updated/005ftime ,) ,)",
                            "nodeType": "exprStmt",
                            "id": "K2YH6SE7p4i1nA5uAuW21Qg1",
                            "locals": []
                          },
                          {
                            "expr": "$uLSKwqpMH2Wj47nkKx0112NyL0 .set_from ,( $YrIBwqCRVmKDQCNhjxdTOjAnB0 .field ,( 'from ,) .string ,( 'name ,) ,)",
                            "nodeType": "exprStmt",
                            "id": "Joc48kAfjNHv57YrtCYC7tMh",
                            "locals": []
                          },
                          {
                            "expr": "$pswtuIkx3AxkdF5aBc4sfjy9L0 ,:= $YrIBwqCRVmKDQCNhjxdTOjAnB0 .string ,( 'link ,)",
                            "nodeType": "exprStmt",
                            "id": "pswtuIkx3AxkdF5aBc4sfjy9",
                            "locals": [
                              {
                                "name": "temp",
                                "type": "String",
                                "nodeType": "localDef",
                                "id": "pswtuIkx3AxkdF5aBc4sfjy9L0"
                              }
                            ]
                          },
                          {
                            "nodeType": "if",
                            "condition": ",not $pswtuIkx3AxkdF5aBc4sfjy9L0 .is_invalid",
                            "thenBody": [
                              {
                                "expr": "$uLSKwqpMH2Wj47nkKx0112NyL0 .set_link ,( $pswtuIkx3AxkdF5aBc4sfjy9L0 ,)",
                                "nodeType": "exprStmt",
                                "id": "TlhzwNXx5cXvJMNnwl0Ajj6v",
                                "locals": []
                              }
                            ],
                            "isElseIf": false,
                            "id": "xyd6K1ZZuF51Li7LblsnCy0f",
                            "locals": []
                          },
                          {
                            "expr": "$pswtuIkx3AxkdF5aBc4sfjy9L0 ,:= $YrIBwqCRVmKDQCNhjxdTOjAnB0 .string ,( 'picture ,)",
                            "nodeType": "exprStmt",
                            "id": "f4AY4sajyH6Jnnu4hMrYLMxX",
                            "locals": []
                          },
                          {
                            "nodeType": "if",
                            "condition": ",not $pswtuIkx3AxkdF5aBc4sfjy9L0 .is_invalid",
                            "thenBody": [
                              {
                                "expr": "$uLSKwqpMH2Wj47nkKx0112NyL0 .set_picture_link ,( $pswtuIkx3AxkdF5aBc4sfjy9L0 ,)",
                                "nodeType": "exprStmt",
                                "id": "MM09cP29pGXxQTBeZG227P3m",
                                "locals": []
                              }
                            ],
                            "isElseIf": false,
                            "id": "xXMh8uiSx2qDoUBL4iyMSaIT",
                            "locals": []
                          },
                          {
                            "expr": "$NK2cVVDs1vpS9QG462caiTACL0 ,:= $YrIBwqCRVmKDQCNhjxdTOjAnB0 .field ,( 'application ,)",
                            "nodeType": "exprStmt",
                            "id": "NK2cVVDs1vpS9QG462caiTAC",
                            "locals": [
                              {
                                "name": "application",
                                "type": "Json Object",
                                "nodeType": "localDef",
                                "id": "NK2cVVDs1vpS9QG462caiTACL0"
                              }
                            ]
                          },
                          {
                            "nodeType": "if",
                            "condition": "$NK2cVVDs1vpS9QG462caiTACL0 .is_invalid",
                            "thenBody": [
                              {
                                "expr": "$uLSKwqpMH2Wj47nkKx0112NyL0 .set_source ,( 'Facebook ,)",
                                "nodeType": "exprStmt",
                                "id": "nVIzIoaXol9KSS7akbcrfUnR",
                                "locals": []
                              }
                            ],
                            "elseBody": [
                              {
                                "expr": "$uLSKwqpMH2Wj47nkKx0112NyL0 .set_source ,( $NK2cVVDs1vpS9QG462caiTACL0 .string ,( 'name ,) ,)",
                                "nodeType": "exprStmt",
                                "id": "GBQx52lzqAFvt7HIV5Efn4Of",
                                "locals": []
                              }
                            ],
                            "isElseIf": false,
                            "id": "p5Ir3stNjDIyGU2wjz4AzORY",
                            "locals": []
                          }
                        ],
                        "nodeType": "foreach",
                        "id": "YrIBwqCRVmKDQCNhjxdTOjAn",
                        "locals": [
                          {
                            "name": "jsmsg",
                            "type": "Json Object",
                            "nodeType": "localDef",
                            "id": "YrIBwqCRVmKDQCNhjxdTOjAnB0"
                          }
                        ]
                      }
                    ],
                    "isElseIf": false,
                    "id": "xJFQAlgygaB43OBof0ZKGESq",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "JtsSxqPpXBKkAak0oeESd4xD",
                "locals": []
              }
            ],
            "id": "epH2vwQISZYBrZ2aSFClaqW7"
          },
          {
            "name": "test feed",
            "inParameters": [],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": true,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "expr": "$aaDM83PS4oVuka1vhjkyI8eqL0 ,:= '362956073819124",
                "nodeType": "exprStmt",
                "id": "aaDM83PS4oVuka1vhjkyI8eq",
                "locals": [
                  {
                    "name": "application id",
                    "type": "String",
                    "nodeType": "localDef",
                    "id": "aaDM83PS4oVuka1vhjkyI8eqL0"
                  }
                ]
              },
              {
                "expr": ":code #Vkhf99vmiBtHLXoJEIyOLN1F ,( $aaDM83PS4oVuka1vhjkyI8eqL0 ,, 'read/005ffriendlists ,)",
                "nodeType": "exprStmt",
                "id": "dhucFMQcmt0AlOSjDbt9BiUT",
                "locals": []
              },
              {
                "expr": "$Yr0tTvYSDjUU7EHGZ9IZi4DRL0 ,:= :code #epH2vwQISZYBrZ2aSFClaqW7 ,( ' ,)",
                "nodeType": "exprStmt",
                "id": "Yr0tTvYSDjUU7EHGZ9IZi4DR",
                "locals": [
                  {
                    "name": "msgs",
                    "type": "Message Collection",
                    "nodeType": "localDef",
                    "id": "Yr0tTvYSDjUU7EHGZ9IZi4DRL0"
                  }
                ]
              },
              {
                "expr": "$Yr0tTvYSDjUU7EHGZ9IZi4DRL0 .post_to_wall",
                "nodeType": "exprStmt",
                "id": "oLMsULnguwyKWro0sC28tptc",
                "locals": []
              }
            ],
            "id": "kcYwS2s4e3trUnNUoGvlBIDK"
          }
        ],
        "deletedDecls": [],
        "nodeType": "app",
        "id": "app"
      }
    },
    {
      "seqNo": 1,
      "time": 1364320912,
      "scriptId": "fwln",
      "historyId": "252037979887223434511bc8c6a-cb9c-45b9-bbb8-956b2b86e7e6",
      "updateSize": 2,
      "updates": {}
    },
    {
      "seqNo": 2,
      "time": 1364348783,
      "scriptId": null,
      "historyId": "2520379520169300975218784d5-547f-4511-8c11-9a4fa088fefc",
      "updateSize": 318,
      "updates": {
        "YRzB2hSnkYpg6fn0N1kZzE8P": {
          "expr": "",
          "nodeType": "exprStmt",
          "locals": []
        },
        "Vkhf99vmiBtHLXoJEIyOLN1F": {
          "body": [
            "o7iduDwZwfEN1KjF0l2c2xrk",
            "HN2VdDIRauRytiYe9jGK2YfO",
            "YRzB2hSnkYpg6fn0N1kZzE8P",
            "lSxZhjw7r2FsYoae2cpovDGQ",
            "q6jyu4ycxHOSwfgx6F8Y4e67",
            "iBEMPfjLyY1YeNGrr90XjeE1"
          ]
        },
        "app": {
          "rootId": "d10HOSbu2rthenoEPa2sHAfE"
        }
      }
    },
    {
      "seqNo": 3,
      "time": 1364349243,
      "scriptId": null,
      "historyId": "2520379515566440034aca8ef7a-37cb-4b8f-8fc8-9e40353b5802",
      "updateSize": 45,
      "updates": {
        "app": {
          "rootId": "V3uqwWoxI74C9TtbaEZmSaFq"
        }
      }
    }
  ]
}