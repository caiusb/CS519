{
  "userid": "wonm",
  "guid": "395d60f9-27cb-4110-6510-dddc5e1e9144",
  "lastStatus": "deleted",
  "items": [
    {
      "seqNo": 0,
      "time": 1377565804,
      "scriptId": null,
      "historyId": "2520247349958924447292fd609-5559-4bc6-a90e-7320cc6e493c",
      "updateSize": 11363,
      "ast": {
        "textVersion": "v2.2,js,ctx",
        "jsonVersion": "v1.0,resolved,short",
        "name": "my formula app",
        "comment": "A starter to create a formula app with 2 variables.",
        "icon": "AlmostEqual",
        "color": "#ffFFA500",
        "autoIcon": "AlmostEqual",
        "autoColor": "#FFA500",
        "platform": "current",
        "rootId": "x04Tpodebb9PoUFzwu3v2YPt",
        "showAd": false,
        "isLibrary": false,
        "allowExport": true,
        "hasUniqueIds": false,
        "decls": [
          {
            "name": "main",
            "inParameters": [],
            "outParameters": [],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "page",
            "initBody": [
              {
                "text": "This part is run once when pushing the page. State changes are allowed here.",
                "nodeType": "comment",
                "id": "yAHwu9B0ItCraK2HZEsVSXAD"
              },
              {
                "expr": ":wall .set_background ,( :colors .black ,)",
                "nodeType": "exprStmt",
                "id": "zktf1YPlymfy4eR3mS7tlTcw",
                "locals": []
              },
              {
                "expr": ":wall .set_foreground ,( :colors .white ,)",
                "nodeType": "exprStmt",
                "id": "NmPBQ7KGBzKNoy4snLDJ2Qdk",
                "locals": []
              },
              {
                "text": "TODO: change the title",
                "nodeType": "comment",
                "id": "ckiQPcys3CcoCQk3qHAMa976"
              },
              {
                "expr": ":wall .set_title ,( 'scrub0 ,)",
                "nodeType": "exprStmt",
                "id": "xt9yZfNugwJ6l17rmBqbjEQa",
                "locals": []
              },
              {
                "text": "TODO: change initial values",
                "nodeType": "comment",
                "id": "iwSiOIx5X7i2uIUckZCo1UIc"
              },
              {
                "expr": ":data #xJbppMFHru8tqXN22LhfpuZh ,:= '12",
                "nodeType": "exprStmt",
                "id": "bsutPrIKJDjP46GLsvggnihD",
                "locals": []
              },
              {
                "expr": ":data #UJokTI8iMTR5aRiF2BIYbIoS ,:= '25",
                "nodeType": "exprStmt",
                "id": "qkSh3ax2mdXhLW09oLszV42S",
                "locals": []
              },
              {
                "expr": ":data #Uuexfldzg2AAvqSOq2RpYMyv ,:= ,0",
                "nodeType": "exprStmt",
                "id": "xY2sKKyoPNbzmlMjmmMK6DVM",
                "locals": []
              },
              {
                "expr": ":code #x8Wvq2r3AVO194u9hzpk0yOY",
                "nodeType": "exprStmt",
                "id": "DYYZs4BzCRuZV7DojCPoO5S6",
                "locals": []
              }
            ],
            "displayBody": [
              {
                "body": [
                  {
                    "text": "This is the outer box. Adding some margins and making the fonts bigger",
                    "nodeType": "comment",
                    "id": "nUgpwdLLhVfjtgyinJOuKg8U"
                  },
                  {
                    "expr": ":box .set_margins ,( ,1 ,, ,3 ,, ,1 ,, ,4 ,)",
                    "nodeType": "exprStmt",
                    "id": "tj471pIt1zWCE7k8MJ9nGcJ0",
                    "locals": []
                  },
                  {
                    "expr": ":box .set_horizontal_alignment ,( ,1 ,, ,1 ,)",
                    "nodeType": "exprStmt",
                    "id": "hjWjUOdUVbmU1laF1A19EILk",
                    "locals": []
                  },
                  {
                    "expr": ":box .set_font_size ,( ,2 ,. ,5 ,)",
                    "nodeType": "exprStmt",
                    "id": "xywJVmmMsLhnfg8gXbHLddWJ",
                    "locals": []
                  },
                  {
                    "body": [
                      {
                        "text": "A number box is composed of",
                        "nodeType": "comment",
                        "id": "Oi4eaFTLY9XNe7Dy4JCXP4Z2"
                      },
                      {
                        "text": "* a title box which can be tapped to locked the value",
                        "nodeType": "comment",
                        "id": "I0u7CWwqNkwpQPZjL8vq3lcK"
                      },
                      {
                        "text": "* a number box which can be editable if the value is not locked",
                        "nodeType": "comment",
                        "id": "FRiWRqzo65ifWBfkknUyuCAF"
                      },
                      {
                        "expr": ":code #xLDmyv7bRgJr5GIUqIWRLM7d",
                        "nodeType": "exprStmt",
                        "id": "YZWxl6sSBP2zh21SiIpLE9w2",
                        "locals": []
                      },
                      {
                        "body": [
                          {
                            "expr": "'scrub1 .post_to_wall",
                            "nodeType": "exprStmt",
                            "id": "p0msjerU8Z4FS9q2PZO2jLuX",
                            "locals": []
                          },
                          {
                            "expr": ":code #aoRM2aDvbbq9WV55EmM8AgnF ,( ,1 ,)",
                            "nodeType": "exprStmt",
                            "id": "Tc7vohv9tAT9KRG2ZXVGbStI",
                            "locals": []
                          }
                        ],
                        "nodeType": "boxed",
                        "id": "Np2FlM8j55juBOgCKLsRVmP4"
                      },
                      {
                        "body": [
                          {
                            "text": "This is the box that shows the number",
                            "nodeType": "comment",
                            "id": "mBGKYmGTnVKnVyxHesKhAvh2"
                          },
                          {
                            "nodeType": "if",
                            "condition": ":data #Uuexfldzg2AAvqSOq2RpYMyv ,= ,0",
                            "thenBody": [
                              {
                                "expr": ":code #aoRM2aDvbbq9WV55EmM8AgnF ,( ,1 ,)",
                                "nodeType": "exprStmt",
                                "id": "UJwcSCqjbkfRIhhS14jMx39s",
                                "locals": []
                              },
                              {
                                "expr": ":data #xJbppMFHru8tqXN22LhfpuZh .post_to_wall",
                                "nodeType": "exprStmt",
                                "id": "NFMcGbdBEflKtsjtWNgT7hki",
                                "locals": []
                              }
                            ],
                            "elseBody": [
                              {
                                "expr": ":box .edit ,( 'scrub2 ,, :data #xJbppMFHru8tqXN22LhfpuZh ,, $gNCUvqQjEowdIQxBJoDhMWVGB0 ,)",
                                "actions": [
                                  {
                                    "inParameters": [
                                      {
                                        "name": "text",
                                        "type": "String",
                                        "nodeType": "localDef",
                                        "id": "gNCUvqQjEowdIQxBJoDhMWVGP0"
                                      }
                                    ],
                                    "outParameters": [],
                                    "body": [
                                      {
                                        "expr": ":data #xJbppMFHru8tqXN22LhfpuZh ,:= $gNCUvqQjEowdIQxBJoDhMWVGP0",
                                        "nodeType": "exprStmt",
                                        "id": "NFUw9ggnk3xer8PprN02Pvur",
                                        "locals": []
                                      },
                                      {
                                        "expr": ":code #x8Wvq2r3AVO194u9hzpk0yOY",
                                        "nodeType": "exprStmt",
                                        "id": "DFW3COC4kMtE2IFnikWydJJM",
                                        "locals": []
                                      }
                                    ],
                                    "nodeType": "inlineAction",
                                    "id": "gNCUvqQjEowdIQxBJoDhMWVG",
                                    "locals": [
                                      {
                                        "name": "change x",
                                        "type": "Text Action",
                                        "nodeType": "localDef",
                                        "id": "gNCUvqQjEowdIQxBJoDhMWVGB0"
                                      }
                                    ]
                                  }
                                ],
                                "nodeType": "inlineActions",
                                "id": "VEIfyb0C1KDO4FpcW4FfunBy",
                                "locals": []
                              },
                              {
                                "expr": ":code #wK1KJbkB7cXkFUYU3BxPxwzt",
                                "nodeType": "exprStmt",
                                "id": "eWO98a84LryssIc0A6jQrHyU",
                                "locals": []
                              }
                            ],
                            "isElseIf": false,
                            "id": "eq2zzxpzDi0BTO6bSkyJQs2b",
                            "locals": []
                          }
                        ],
                        "nodeType": "boxed",
                        "id": "lFKPtB4Q33qlS7gF9J69vg0N"
                      }
                    ],
                    "nodeType": "boxed",
                    "id": "xVEhL8USxjMYuxV5hDQMy8J4"
                  },
                  {
                    "text": "We do the same for I and R",
                    "nodeType": "comment",
                    "id": "iR8jnteS1HtViCuSE4xRCZEF"
                  },
                  {
                    "body": [
                      {
                        "expr": ":code #xLDmyv7bRgJr5GIUqIWRLM7d",
                        "nodeType": "exprStmt",
                        "id": "Te8yZgwBnfDpA6TeWSaJqffw",
                        "locals": []
                      },
                      {
                        "body": [
                          {
                            "expr": "'scrub3 .post_to_wall",
                            "nodeType": "exprStmt",
                            "id": "vgJn2bumjeogbZMQpSWZ7n45",
                            "locals": []
                          },
                          {
                            "expr": ":code #aoRM2aDvbbq9WV55EmM8AgnF ,( ,0 ,)",
                            "nodeType": "exprStmt",
                            "id": "gupIb3khqI2cvKzBqP8ebgaT",
                            "locals": []
                          }
                        ],
                        "nodeType": "boxed",
                        "id": "CL4RIQp5T69YQvYHFUR4bMTO"
                      },
                      {
                        "body": [
                          {
                            "nodeType": "if",
                            "condition": ":data #Uuexfldzg2AAvqSOq2RpYMyv ,= ,1",
                            "thenBody": [
                              {
                                "expr": ":code #aoRM2aDvbbq9WV55EmM8AgnF ,( ,0 ,)",
                                "nodeType": "exprStmt",
                                "id": "O6HRzCBoMhhULH7ZyMcEP4I1",
                                "locals": []
                              },
                              {
                                "expr": ":data #UJokTI8iMTR5aRiF2BIYbIoS .post_to_wall",
                                "nodeType": "exprStmt",
                                "id": "XjYzVuII44LmL332r2zlyPuE",
                                "locals": []
                              }
                            ],
                            "elseBody": [
                              {
                                "expr": ":box .edit ,( 'scrub2 ,, :data #UJokTI8iMTR5aRiF2BIYbIoS ,, $Y0EFxhcI8jARXVN2yXqNrSL0B0 ,)",
                                "actions": [
                                  {
                                    "inParameters": [
                                      {
                                        "name": "text",
                                        "type": "String",
                                        "nodeType": "localDef",
                                        "id": "Y0EFxhcI8jARXVN2yXqNrSL0P0"
                                      }
                                    ],
                                    "outParameters": [],
                                    "body": [
                                      {
                                        "expr": ":data #UJokTI8iMTR5aRiF2BIYbIoS ,:= $Y0EFxhcI8jARXVN2yXqNrSL0P0",
                                        "nodeType": "exprStmt",
                                        "id": "bje8knRWS67RbWVOiq8afOTb",
                                        "locals": []
                                      },
                                      {
                                        "expr": ":code #x8Wvq2r3AVO194u9hzpk0yOY",
                                        "nodeType": "exprStmt",
                                        "id": "xP1b984NZ4FguMbHCHzm2s3c",
                                        "locals": []
                                      }
                                    ],
                                    "nodeType": "inlineAction",
                                    "id": "Y0EFxhcI8jARXVN2yXqNrSL0",
                                    "locals": [
                                      {
                                        "name": "change y",
                                        "type": "Text Action",
                                        "nodeType": "localDef",
                                        "id": "Y0EFxhcI8jARXVN2yXqNrSL0B0"
                                      }
                                    ]
                                  }
                                ],
                                "nodeType": "inlineActions",
                                "id": "lxsiRJAvkCZlQ2tlTHKC96Ou",
                                "locals": []
                              },
                              {
                                "expr": ":code #wK1KJbkB7cXkFUYU3BxPxwzt",
                                "nodeType": "exprStmt",
                                "id": "CiI5sOlB4xapL2CvnzFHjFq0",
                                "locals": []
                              }
                            ],
                            "isElseIf": false,
                            "id": "GGRxtNv41oWSieMPNjmLUhWA",
                            "locals": []
                          }
                        ],
                        "nodeType": "boxed",
                        "id": "ZAUtyYijXhY8NBvf4O0j9Kr4"
                      }
                    ],
                    "nodeType": "boxed",
                    "id": "xFjlKK1UMmQKYxz6sGaciZRm"
                  }
                ],
                "nodeType": "boxed",
                "id": "WFXfBM3eLxqmkTwG82Fo4mcg"
              }
            ],
            "id": "VS1ZCQ2PALa0uUthsG9sNFVK"
          },
          {
            "name": "y",
            "comment": "",
            "type": "String",
            "isReadonly": false,
            "isTransient": false,
            "nodeType": "data",
            "id": "UJokTI8iMTR5aRiF2BIYbIoS"
          },
          {
            "name": "x",
            "comment": "",
            "type": "String",
            "isReadonly": false,
            "isTransient": false,
            "nodeType": "data",
            "id": "xJbppMFHru8tqXN22LhfpuZh"
          },
          {
            "name": "skin number box",
            "inParameters": [],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "TODO: customize the default style of an editing box",
                "nodeType": "comment",
                "id": "wfT6cX3FSrkJxINulSb2K2o2"
              },
              {
                "expr": ":box .set_background ,( :colors .white ,)",
                "nodeType": "exprStmt",
                "id": "xMvuxuNs2y7pI4er3jXguSvI",
                "locals": []
              },
              {
                "expr": ":box .set_foreground ,( :colors .black ,)",
                "nodeType": "exprStmt",
                "id": "AW7C05D5pIIP4l1znWk6bkcq",
                "locals": []
              },
              {
                "expr": ":box .set_horizontal_alignment ,( ,1 ,, ,1 ,)",
                "nodeType": "exprStmt",
                "id": "o4jrVJuhTTHCK2zBmr2XcuJp",
                "locals": []
              }
            ],
            "id": "wK1KJbkB7cXkFUYU3BxPxwzt"
          },
          {
            "name": "skin number section",
            "inParameters": [],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "TODO: customize the default style of a number section",
                "nodeType": "comment",
                "id": "WBBtUHs5MIPyDlNcIeII4N0P"
              },
              {
                "text": "Make it stretch horizontally",
                "nodeType": "comment",
                "id": "DizHaS9B2quohoocZxme6liw"
              },
              {
                "expr": ":box .set_horizontal_alignment ,( ,1 ,, ,1 ,)",
                "nodeType": "exprStmt",
                "id": "c4FqPADrzzTn6ce21G5O1fCH",
                "locals": []
              }
            ],
            "id": "xLDmyv7bRgJr5GIUqIWRLM7d"
          },
          {
            "name": "calculate",
            "inParameters": [],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "This action calculates the formula. One of the variable is locked",
                "nodeType": "comment",
                "id": "qLaWqh94nW0RcHfEA8j9XnAI"
              },
              {
                "expr": "$gVrHPrI2962xhsJ3JmE9snMoL0 ,:= :code #oM6fCqFaWb2IOqJmKcWLNywm ,( :data #xJbppMFHru8tqXN22LhfpuZh ,)",
                "nodeType": "exprStmt",
                "id": "gVrHPrI2962xhsJ3JmE9snMo",
                "locals": [
                  {
                    "name": "x",
                    "type": "Number",
                    "nodeType": "localDef",
                    "id": "gVrHPrI2962xhsJ3JmE9snMoL0"
                  }
                ]
              },
              {
                "expr": "$EOTIdAyp2hz7wW2tN2Z3Ze4IL0 ,:= :code #oM6fCqFaWb2IOqJmKcWLNywm ,( :data #UJokTI8iMTR5aRiF2BIYbIoS ,)",
                "nodeType": "exprStmt",
                "id": "EOTIdAyp2hz7wW2tN2Z3Ze4I",
                "locals": [
                  {
                    "name": "y",
                    "type": "Number",
                    "nodeType": "localDef",
                    "id": "EOTIdAyp2hz7wW2tN2Z3Ze4IL0"
                  }
                ]
              },
              {
                "nodeType": "if",
                "condition": ":data #Uuexfldzg2AAvqSOq2RpYMyv ,= ,1",
                "thenBody": [
                  {
                    "text": "TODO: update formula",
                    "nodeType": "comment",
                    "id": "UDfhqP2JBdTKr1vblNTzVNjC"
                  },
                  {
                    "expr": ":data #UJokTI8iMTR5aRiF2BIYbIoS ,:= ,( $gVrHPrI2962xhsJ3JmE9snMoL0 ,* $gVrHPrI2962xhsJ3JmE9snMoL0 ,) .to_string",
                    "nodeType": "exprStmt",
                    "id": "eG2vA7VgobkQNckbKy789vFQ",
                    "locals": []
                  }
                ],
                "elseBody": [
                  {
                    "text": "TODO: update formula",
                    "nodeType": "comment",
                    "id": "bmh51uCXurGJn2L0LXPx4XQm"
                  },
                  {
                    "expr": ":data #xJbppMFHru8tqXN22LhfpuZh ,:= :math .sqrt ,( $EOTIdAyp2hz7wW2tN2Z3Ze4IL0 ,) .to_string",
                    "nodeType": "exprStmt",
                    "id": "T6aNIcNnAj7NvuAFMM8BrtqG",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "G17zPPgW6k5Y4k4LCsPq3rNH",
                "locals": []
              }
            ],
            "id": "x8Wvq2r3AVO194u9hzpk0yOY"
          },
          {
            "name": "to number or 0",
            "inParameters": [
              {
                "name": "s",
                "type": "String",
                "nodeType": "localDef",
                "id": "oM6fCqFaWb2IOqJmKcWLNywmP0"
              }
            ],
            "outParameters": [
              {
                "name": "v",
                "type": "Number",
                "nodeType": "localDef",
                "id": "oM6fCqFaWb2IOqJmKcWLNywmP1"
              }
            ],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "converts the string to a number or 0 if the format is invalid",
                "nodeType": "comment",
                "id": "OB1RWo5Pu1hF5FuUX6luZWh3"
              },
              {
                "expr": "$oM6fCqFaWb2IOqJmKcWLNywmP1 ,:= $oM6fCqFaWb2IOqJmKcWLNywmP0 .to_number",
                "nodeType": "exprStmt",
                "id": "eaiywAi3HBIkgnqLpxKp8X0T",
                "locals": []
              },
              {
                "nodeType": "if",
                "condition": "$oM6fCqFaWb2IOqJmKcWLNywmP1 .is_invalid",
                "thenBody": [
                  {
                    "expr": "$oM6fCqFaWb2IOqJmKcWLNywmP1 ,:= ,0",
                    "nodeType": "exprStmt",
                    "id": "hf6vRUk57FLFK2mO3wmulIma",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "WZcGJggg2Cs27bZNnLfMdWRG",
                "locals": []
              }
            ],
            "id": "oM6fCqFaWb2IOqJmKcWLNywm"
          },
          {
            "name": "locked",
            "comment": "",
            "type": "Number",
            "isReadonly": false,
            "isTransient": false,
            "nodeType": "data",
            "id": "Uuexfldzg2AAvqSOq2RpYMyv"
          },
          {
            "name": "lock",
            "inParameters": [
              {
                "name": "p",
                "type": "Number",
                "nodeType": "localDef",
                "id": "aoRM2aDvbbq9WV55EmM8AgnFP0"
              }
            ],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "expr": ":box .on_tapped ,( $sWoVOmZfs7b36ocf8bYRPXUBB0 ,)",
                "actions": [
                  {
                    "inParameters": [],
                    "outParameters": [],
                    "body": [
                      {
                        "text": "We update the locked variable. On the handler is finished running, the page will be displayed again.",
                        "nodeType": "comment",
                        "id": "JH2Sfaj4QU4j6ORS7hqU3759"
                      },
                      {
                        "expr": ":data #Uuexfldzg2AAvqSOq2RpYMyv ,:= $aoRM2aDvbbq9WV55EmM8AgnFP0",
                        "nodeType": "exprStmt",
                        "id": "gzq4xbWgFdWYWtW7xYWN5c05",
                        "locals": []
                      }
                    ],
                    "nodeType": "inlineAction",
                    "id": "sWoVOmZfs7b36ocf8bYRPXUB",
                    "locals": [
                      {
                        "name": "tap x",
                        "type": "Action",
                        "nodeType": "localDef",
                        "id": "sWoVOmZfs7b36ocf8bYRPXUBB0"
                      }
                    ]
                  }
                ],
                "nodeType": "inlineActions",
                "id": "hxnG860qIxcFUXU94EkaWefO",
                "locals": []
              }
            ],
            "id": "aoRM2aDvbbq9WV55EmM8AgnF"
          }
        ],
        "deletedDecls": [],
        "nodeType": "app",
        "id": "app"
      }
    },
    {
      "seqNo": 1,
      "time": 1377565806,
      "scriptId": null,
      "historyId": "2520247349939082348c5929e7e-42a7-4d54-9626-8b90540ef52b",
      "updateSize": 2,
      "updates": {}
    },
    {
      "seqNo": 2,
      "time": 1377565809,
      "scriptId": null,
      "historyId": "25202473499018979426ce26e9f-0369-4fea-b1f7-d516995287f9",
      "updateSize": 2,
      "updates": {}
    }
  ]
}