{
  "userid": "wonm",
  "guid": "8f3728b9-3295-48d1-cd8d-461042eeb4cf",
  "lastStatus": "deleted",
  "items": [
    {
      "seqNo": 0,
      "time": 1358992503,
      "scriptId": "ngxy",
      "historyId": "2520433082962562192d137a196-46ce-4d1b-b75c-3bd0291c5d92",
      "updateSize": 31602,
      "ast": {
        "textVersion": "v2.2,js,ctx",
        "jsonVersion": "v1.0,resolved,short",
        "name": "tower defense 2",
        "comment": "A library to create tower defense games. See main for example.",
        "icon": "controller",
        "color": "#ff9955bb",
        "autoIcon": "controller",
        "autoColor": "#9955bb",
        "platform": "current",
        "rootId": "xJXk5zRIUVU5Ih3XJpMM6n5T",
        "showAd": false,
        "isLibrary": true,
        "allowExport": false,
        "hasUniqueIds": false,
        "decls": [
          {
            "nodeType": "library",
            "name": "life indicator",
            "libIdentifier": "lvtja",
            "libIsPublished": true,
            "scriptName": null,
            "exportedTypes": "",
            "exportedActions": [
              {
                "name": "example",
                "inParameters": [],
                "outParameters": [],
                "isPrivate": false,
                "isOffloaded": false,
                "isTest": false,
                "isAsync": false,
                "nodeType": "libAction",
                "parentLibId": "m7eiZ2B44sdUWX6Pd22466at",
                "id": "gxKa3XjfkVvTFpVBb2gYlXPB"
              },
              {
                "name": "initialize",
                "inParameters": [
                  {
                    "name": "board",
                    "type": "Board",
                    "nodeType": "localDef",
                    "id": "SvBVANetwl3aZTGhkMg3kaSZP0"
                  }
                ],
                "outParameters": [],
                "isPrivate": false,
                "isOffloaded": false,
                "isTest": false,
                "isAsync": false,
                "nodeType": "libAction",
                "parentLibId": "m7eiZ2B44sdUWX6Pd22466at",
                "id": "SvBVANetwl3aZTGhkMg3kaSZ"
              },
              {
                "name": "evolve",
                "inParameters": [],
                "outParameters": [],
                "isPrivate": false,
                "isOffloaded": false,
                "isTest": false,
                "isAsync": false,
                "nodeType": "libAction",
                "parentLibId": "m7eiZ2B44sdUWX6Pd22466at",
                "id": "s2ZoqZmuazH7vnFQpSkV1a4j"
              },
              {
                "name": "show life",
                "inParameters": [
                  {
                    "name": "sprite",
                    "type": "Sprite",
                    "nodeType": "localDef",
                    "id": "qNSBydBEIjlyjCRbpj5xnb21P0"
                  },
                  {
                    "name": "life",
                    "type": "Number",
                    "nodeType": "localDef",
                    "id": "qNSBydBEIjlyjCRbpj5xnb21P1"
                  }
                ],
                "outParameters": [],
                "isPrivate": false,
                "isOffloaded": false,
                "isTest": false,
                "isAsync": false,
                "nodeType": "libAction",
                "parentLibId": "m7eiZ2B44sdUWX6Pd22466at",
                "id": "qNSBydBEIjlyjCRbpj5xnb21"
              },
              {
                "name": "hide life",
                "inParameters": [
                  {
                    "name": "sprite",
                    "type": "Sprite",
                    "nodeType": "localDef",
                    "id": "SAvn1y7k9oBx9vaVckz3UPGgP0"
                  }
                ],
                "outParameters": [],
                "isPrivate": false,
                "isOffloaded": false,
                "isTest": false,
                "isAsync": false,
                "nodeType": "libAction",
                "parentLibId": "m7eiZ2B44sdUWX6Pd22466at",
                "id": "SAvn1y7k9oBx9vaVckz3UPGg"
              }
            ],
            "resolveClauses": [],
            "id": "m7eiZ2B44sdUWX6Pd22466at"
          },
          {
            "name": "example",
            "inParameters": [],
            "outParameters": [],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "This library maintains a set of towers defending against attackers. The towers do not move while the attacker may have any trajectory.",
                "nodeType": "comment",
                "id": "aNctGoQixdOXlQXvxhh42g4R"
              },
              {
                "text": "## Initialization",
                "nodeType": "comment",
                "id": "zFlwQzKHU02ngMWqomczh5pN"
              },
              {
                "text": "The library works with a board so it needs to be initialized once with the board you are using in your game (a landscape board in this case).",
                "nodeType": "comment",
                "id": "xF5ho5iJtAL8QIgo2dJJlgLe"
              },
              {
                "expr": "$mYD2z2lOkUcejfGOLAuWWzhaL0 ,:= :media .create_portrait_board ,( ,4 ,8 ,0 ,, ,8 ,0 ,0 ,)",
                "nodeType": "exprStmt",
                "id": "mYD2z2lOkUcejfGOLAuWWzha",
                "locals": [
                  {
                    "name": "board",
                    "type": "Board",
                    "nodeType": "localDef",
                    "id": "mYD2z2lOkUcejfGOLAuWWzhaL0"
                  }
                ]
              },
              {
                "expr": "$mYD2z2lOkUcejfGOLAuWWzhaL0 .set_background ,( :colors .orange ,)",
                "nodeType": "exprStmt",
                "id": "UG22NnLlXbXGct6k526HPDUj",
                "locals": []
              },
              {
                "expr": "$mYD2z2lOkUcejfGOLAuWWzhaL0 .post_to_wall",
                "nodeType": "exprStmt",
                "id": "qYU6VKoQrDiaPaTaWhMji6RB",
                "locals": []
              },
              {
                "text": "Make sure to call 'initialize' once with the game board.",
                "nodeType": "comment",
                "id": "x7WwgLQE3sh4raPsul6CmzWi"
              },
              {
                "expr": ":code #JDpNrv41g4BzxVEOUDkQxbB7 ,( $mYD2z2lOkUcejfGOLAuWWzhaL0 ,)",
                "nodeType": "exprStmt",
                "id": "Xo64nsII53rCRVhGXvULugET",
                "locals": []
              },
              {
                "text": "## Towers",
                "nodeType": "comment",
                "id": "xR4MUqep42jg6O1Wl0uYJZP1"
              },
              {
                "text": "You can add any kind of sprite (ellipse, rectangle, picture,...) as a 'tower'. When adding a tower, you specify also its characteristics:",
                "nodeType": "comment",
                "id": "KA0e2x3OZ2BUbRX1WrIgNqLq"
              },
              {
                "text": "* the range (200 here)",
                "nodeType": "comment",
                "id": "OZZ2bjtbwDZpIy4Z97lxqJRj"
              },
              {
                "text": "* the power of the bullets (35 here)",
                "nodeType": "comment",
                "id": "R1ggKNGn2qr4pIEn6PW2fVd8"
              },
              {
                "text": "* the reload time in seconds",
                "nodeType": "comment",
                "id": "gnf9uq0rXRo9vZzSS9i3NSKR"
              },
              {
                "text": "* the color of the bullets",
                "nodeType": "comment",
                "id": "eth6X6nXSqZJiKkIs64AauIf"
              },
              {
                "text": "Remember, towers are not supposed to move.",
                "nodeType": "comment",
                "id": "b9sRW7WUJq4N4DA02ZOMoOLH"
              },
              {
                "bound": ",5",
                "body": [
                  {
                    "expr": "$KfBmIgrz9N4jsgzuLYxwiK4OL0 ,:= $mYD2z2lOkUcejfGOLAuWWzhaL0 .create_ellipse ,( ,5 ,0 ,, ,5 ,0 ,)",
                    "nodeType": "exprStmt",
                    "id": "KfBmIgrz9N4jsgzuLYxwiK4O",
                    "locals": [
                      {
                        "name": "t",
                        "type": "Sprite",
                        "nodeType": "localDef",
                        "id": "KfBmIgrz9N4jsgzuLYxwiK4OL0"
                      }
                    ]
                  },
                  {
                    "expr": "$KfBmIgrz9N4jsgzuLYxwiK4OL0 .set_color ,( :colors .blue ,)",
                    "nodeType": "exprStmt",
                    "id": "xTrHc9DR4sfUTnwH3XzDUtLF",
                    "locals": []
                  },
                  {
                    "expr": "$KfBmIgrz9N4jsgzuLYxwiK4OL0 .set_pos ,( ,5 ,0 ,+ $cdpHHU6nb5RP6zlft6qBY2OBB0 ,* ,1 ,0 ,0 ,, ,4 ,8 ,0 ,)",
                    "nodeType": "exprStmt",
                    "id": "fmAA0SlmkjcB6FYebkfN6Y7m",
                    "locals": []
                  },
                  {
                    "text": "Let's add 't' as a tower",
                    "nodeType": "comment",
                    "id": "L8q2qT3O0jXLb6GaiVHsjaq2"
                  },
                  {
                    "expr": ":code #nQXkHGBOsBpCJD42l33VgHbx ,( $KfBmIgrz9N4jsgzuLYxwiK4OL0 ,, ,2 ,0 ,0 ,, ,3 ,5 ,, ,1 ,, :colors .random ,)",
                    "nodeType": "exprStmt",
                    "id": "VeKF9zVzA2yKnlV3jvCzL0z3",
                    "locals": []
                  }
                ],
                "nodeType": "for",
                "id": "cdpHHU6nb5RP6zlft6qBY2OB",
                "locals": [
                  {
                    "name": "i",
                    "type": "Number",
                    "nodeType": "localDef",
                    "id": "cdpHHU6nb5RP6zlft6qBY2OBB0"
                  }
                ]
              },
              {
                "text": "## Attackers",
                "nodeType": "comment",
                "id": "xuYE4SHsrD6wOWkJiBCSaaZc"
              },
              {
                "text": "You can also add any kind of sprite as an 'attacker'. When you add the attacker, you also specify its life (65 here).",
                "nodeType": "comment",
                "id": "XufoYdU3NPw1slEl6Jyk6Pyr"
              },
              {
                "text": "Attackers can freely move on the board.",
                "nodeType": "comment",
                "id": "TCleLYhsU23DmuSA4u4iYd54"
              },
              {
                "bound": ",5",
                "body": [
                  {
                    "expr": "$xBsPmulKzL5d6qVYpiQ9ON3yL0 ,:= $mYD2z2lOkUcejfGOLAuWWzhaL0 .create_ellipse ,( ,2 ,0 ,, ,2 ,0 ,)",
                    "nodeType": "exprStmt",
                    "id": "xBsPmulKzL5d6qVYpiQ9ON3y",
                    "locals": [
                      {
                        "name": "a",
                        "type": "Sprite",
                        "nodeType": "localDef",
                        "id": "xBsPmulKzL5d6qVYpiQ9ON3yL0"
                      }
                    ]
                  },
                  {
                    "expr": "$xBsPmulKzL5d6qVYpiQ9ON3yL0 .set_pos ,( ,2 ,4 ,0 ,, ,5 ,0 ,+ $xQkmWGo1HtJQgSr5gm40H8rBB0 ,* ,7 ,5 ,)",
                    "nodeType": "exprStmt",
                    "id": "lOftEDp7vjCLpLwdsV2j134z",
                    "locals": []
                  },
                  {
                    "expr": "$xBsPmulKzL5d6qVYpiQ9ON3yL0 .set_speed ,( ,0 ,, ,5 ,0 ,)",
                    "nodeType": "exprStmt",
                    "id": "Djj2OdNK6TKjc1Qx4AR5pS3o",
                    "locals": []
                  },
                  {
                    "expr": "$xBsPmulKzL5d6qVYpiQ9ON3yL0 .set_color ,( :colors .red ,)",
                    "nodeType": "exprStmt",
                    "id": "eULIL8ZYko85see2aw4XoNSv",
                    "locals": []
                  },
                  {
                    "text": "Let's add the `a` as an attacker",
                    "nodeType": "comment",
                    "id": "Vf2xAYXInE2wASs4buwY2nql"
                  },
                  {
                    "expr": ":code #zbIDKqF3SN4pbKEW1ybXE8KM ,( $xBsPmulKzL5d6qVYpiQ9ON3yL0 ,, ,6 ,5 ,)",
                    "nodeType": "exprStmt",
                    "id": "bxY8xF8LAIx7XKBHRO4S0BEV",
                    "locals": []
                  }
                ],
                "nodeType": "for",
                "id": "xQkmWGo1HtJQgSr5gm40H8rB",
                "locals": [
                  {
                    "name": "i1",
                    "type": "Number",
                    "nodeType": "localDef",
                    "id": "xQkmWGo1HtJQgSr5gm40H8rBB0"
                  }
                ]
              },
              {
                "text": "## Gameloop",
                "nodeType": "comment",
                "id": "MXkgw6YSV0MOEoSqXVt28iIl"
              },
              {
                "text": "The `while` loop below simulates the gameloop event. Make sure to call the `evolve` action after calling the board `evolve` action.",
                "nodeType": "comment",
                "id": "zQR4CFSLxcXjh22ejj0drgjt"
              },
              {
                "condition": "T",
                "body": [
                  {
                    "expr": "$mYD2z2lOkUcejfGOLAuWWzhaL0 .evolve",
                    "nodeType": "exprStmt",
                    "id": "xJaJWs1T6T735vnM23RWbjFn",
                    "locals": []
                  },
                  {
                    "text": "Make sure to call `evolve` after the board `evolve`.",
                    "nodeType": "comment",
                    "id": "QwZA0YDpJTV3WBb47VIi82Zq"
                  },
                  {
                    "expr": ":code #uSWtScP4wRaDRiYKywxT0nEF",
                    "nodeType": "exprStmt",
                    "id": "B7EjSFp0ffjYgqHrK4g81b3M",
                    "locals": []
                  },
                  {
                    "expr": "$mYD2z2lOkUcejfGOLAuWWzhaL0 .update_on_wall",
                    "nodeType": "exprStmt",
                    "id": "lwfRl2FXowCIeVVOGUSpqmI5",
                    "locals": []
                  }
                ],
                "nodeType": "while",
                "id": "l6eCe2P0M09faNl63R5FzwEi",
                "locals": []
              }
            ],
            "id": "BvsLz5EIDgiU3lrizMksiX3s"
          },
          {
            "nodeType": "record",
            "name": "tower",
            "sourceName": "tower",
            "comment": "",
            "category": "object",
            "isCloudEnabled": false,
            "keys": [],
            "fields": [
              {
                "nodeType": "recordField",
                "name": "sprite",
                "type": "Sprite",
                "id": "sh4e8GSYGw4P26k0QwetuI5j"
              },
              {
                "nodeType": "recordField",
                "name": "range",
                "type": "Number",
                "id": "l5S2Do3caSgGMNG34iNOog4L"
              },
              {
                "nodeType": "recordField",
                "name": "reload",
                "type": "Number",
                "id": "SEOfMHrgrQ2dmRXshKgotN7V"
              },
              {
                "nodeType": "recordField",
                "name": "energy",
                "type": "Number",
                "id": "fB23vgBR5rkALb4T0oeag1ii"
              },
              {
                "nodeType": "recordField",
                "name": "next shot",
                "type": "Number",
                "id": "xeHr4xbUCQd2e08OUnKBIewm"
              },
              {
                "nodeType": "recordField",
                "name": "bullet color",
                "type": "Color",
                "id": "xvuqoCHcLVcrZWa7Lda4z52d"
              }
            ],
            "id": "xV9IKcMD8phF2v42bHPHLdJa"
          },
          {
            "nodeType": "record",
            "name": "attacker",
            "sourceName": "attacker",
            "comment": "",
            "category": "object",
            "isCloudEnabled": false,
            "keys": [],
            "fields": [
              {
                "nodeType": "recordField",
                "name": "sprite",
                "type": "Sprite",
                "id": "Cp0YJ3guw2jio7qRGsg9Un2K"
              },
              {
                "nodeType": "recordField",
                "name": "max speed",
                "type": "Number",
                "id": "l3pt2JhsruVjLx4Vbq4lNV0K"
              },
              {
                "nodeType": "recordField",
                "name": "life",
                "type": "Number",
                "id": "DoCp5UxFhJegbw2DbNalh5cX"
              },
              {
                "nodeType": "recordField",
                "name": "max life",
                "type": "Number",
                "id": "ln4EZnp4bFYoHbq92ibUTFAT"
              }
            ],
            "id": "Oa4Smlrl1a1uHcNAR5I6iMkm"
          },
          {
            "name": "initialize",
            "inParameters": [
              {
                "name": "board",
                "type": "Board",
                "nodeType": "localDef",
                "id": "JDpNrv41g4BzxVEOUDkQxbB7P0"
              }
            ],
            "outParameters": [
              {
                "name": "tower set",
                "type": "Sprite Set",
                "nodeType": "localDef",
                "id": "JDpNrv41g4BzxVEOUDkQxbB7P1"
              },
              {
                "name": "attacker set",
                "type": "Sprite Set",
                "nodeType": "localDef",
                "id": "JDpNrv41g4BzxVEOUDkQxbB7P2"
              }
            ],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "Initializes the library, returns the sets of towers and attackers.",
                "nodeType": "comment",
                "id": "uOuKwK22jnNMj8YJkGM5sQ30"
              },
              {
                "expr": ":data #xhchEUvKZ4hq0srmcqpiFidS ,:= $JDpNrv41g4BzxVEOUDkQxbB7P0",
                "nodeType": "exprStmt",
                "id": "rjoaygrjZ4mo7PrX4S2u6iSA",
                "locals": []
              },
              {
                "expr": ":/267b #m7eiZ2B44sdUWX6Pd22466at #SvBVANetwl3aZTGhkMg3kaSZ ,( $JDpNrv41g4BzxVEOUDkQxbB7P0 ,)",
                "nodeType": "exprStmt",
                "id": "VedaeYWfZVQ2Y9jk6ko5F6MM",
                "locals": []
              },
              {
                "text": "Create sets",
                "nodeType": "comment",
                "id": "DcSf1FTIjeMrnn7k6Q237HVF"
              },
              {
                "expr": ":data #VvavohKTHtl7NG8r2DRjL63i ,:= :data #xhchEUvKZ4hq0srmcqpiFidS .create_sprite_set",
                "nodeType": "exprStmt",
                "id": "BAjGWEpu8tmc8PIQJlaUoYsA",
                "locals": []
              },
              {
                "expr": "$JDpNrv41g4BzxVEOUDkQxbB7P1 ,:= :data #VvavohKTHtl7NG8r2DRjL63i",
                "nodeType": "exprStmt",
                "id": "cq0iHBhmYcymayES7RSnM44B",
                "locals": []
              },
              {
                "expr": ":data #zJ67vKgUIfMi24UE4LRtnlo2 ,:= :data #xhchEUvKZ4hq0srmcqpiFidS .create_sprite_set",
                "nodeType": "exprStmt",
                "id": "sihfI7mZUx4owR2CeFg4bW0H",
                "locals": []
              },
              {
                "expr": "$JDpNrv41g4BzxVEOUDkQxbB7P2 ,:= :data #zJ67vKgUIfMi24UE4LRtnlo2",
                "nodeType": "exprStmt",
                "id": "KCiUiYW6LB2hMoSEgIQsqDRC",
                "locals": []
              },
              {
                "expr": ":data #doAcgR4giaggIGyGAqOMM6Zp ,:= :data #xhchEUvKZ4hq0srmcqpiFidS .create_sprite_set",
                "nodeType": "exprStmt",
                "id": "u995p2ZUG4be4os4x6Xso43S",
                "locals": []
              },
              {
                "expr": ":data #UL48wM1Vt4kEPiLuEQ704Oia ,:= :data #xhchEUvKZ4hq0srmcqpiFidS .create_sprite_set",
                "nodeType": "exprStmt",
                "id": "iD9lzdmKeC4Sy01pwcTAcEWh",
                "locals": []
              },
              {
                "text": "Create collections",
                "nodeType": "comment",
                "id": "xLemFWRdfAUAJZECcSSKQNZW"
              },
              {
                "expr": ":records #oPiTtkU83Rmx83BhX3TFEWjN .clear",
                "nodeType": "exprStmt",
                "id": "xYkLC97d4qUwDXUO1P72OXXI",
                "locals": []
              },
              {
                "text": "Keeping track of time",
                "nodeType": "comment",
                "id": "Qo2Bx2BNyneck32QklZgVQP2"
              },
              {
                "expr": ":data #DBylAbs4epbe9qJ7oVBZZmul ,:= :time .now",
                "nodeType": "exprStmt",
                "id": "mZZy7j5YTYvEKvgZlnLLlCcS",
                "locals": []
              },
              {
                "expr": ":data #UvpiiNl2YUL0qCVU82OUNDzd ,:= ,0",
                "nodeType": "exprStmt",
                "id": "vrms6O2b9dOlKupXOGlCrcgr",
                "locals": []
              }
            ],
            "id": "JDpNrv41g4BzxVEOUDkQxbB7"
          },
          {
            "name": "evolve",
            "inParameters": [],
            "outParameters": [],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "expr": "$xvgU6i2ctjuqp45BFT6sq9BWL0 ,:= :time .now .subtract ,( :data #DBylAbs4epbe9qJ7oVBZZmul ,)",
                "nodeType": "exprStmt",
                "id": "xvgU6i2ctjuqp45BFT6sq9BW",
                "locals": [
                  {
                    "name": "elapsed",
                    "type": "Number",
                    "nodeType": "localDef",
                    "id": "xvgU6i2ctjuqp45BFT6sq9BWL0"
                  }
                ]
              },
              {
                "text": "Find attacker, apply bullets then shoot with tower if needed",
                "nodeType": "comment",
                "id": "srCnW8Aq3pY4HR3rSy9cpu4G"
              },
              {
                "collection": ":data #zJ67vKgUIfMi24UE4LRtnlo2",
                "conditions": [
                  {
                    "condition": "T",
                    "nodeType": "where",
                    "id": "VnUqLUINPIAR0EEWMH9hsrkW",
                    "locals": []
                  }
                ],
                "body": [
                  {
                    "expr": ":code #oO2uEcRfGmhRSKuas54CgjTN ,( $SS1D3PJ982WWopRQW7243VccB0 ,)",
                    "nodeType": "exprStmt",
                    "id": "Ky0G2U1TA8auEjWt2VlwQ9yk",
                    "locals": []
                  },
                  {
                    "nodeType": "if",
                    "condition": "$SS1D3PJ982WWopRQW7243VccB0 .is_visible",
                    "thenBody": [
                      {
                        "expr": ":code #s3cO4462bO7j3Cn2tlYwS2hK ,( $SS1D3PJ982WWopRQW7243VccB0 ,, $xvgU6i2ctjuqp45BFT6sq9BWL0 ,)",
                        "nodeType": "exprStmt",
                        "id": "nyNgFprLwzVF5YqOWvCKu9Vi",
                        "locals": []
                      }
                    ],
                    "isElseIf": false,
                    "id": "ddn13MT4kqWpIFvLR3iZ2676",
                    "locals": []
                  }
                ],
                "nodeType": "foreach",
                "id": "SS1D3PJ982WWopRQW7243Vcc",
                "locals": [
                  {
                    "name": "attack",
                    "type": "Sprite",
                    "nodeType": "localDef",
                    "id": "SS1D3PJ982WWopRQW7243VccB0"
                  }
                ]
              },
              {
                "text": "Dismiss bullets that missed target",
                "nodeType": "comment",
                "id": "VsLLgs4EpPNcFlb2NC88qJee"
              },
              {
                "collection": ":data #doAcgR4giaggIGyGAqOMM6Zp",
                "conditions": [
                  {
                    "condition": "T",
                    "nodeType": "where",
                    "id": "lt1u4gq9Qv9XwPZu0MSAkai5",
                    "locals": []
                  }
                ],
                "body": [
                  {
                    "expr": "$R0C2CLMUshr8NXP8cHCWUMG9L0 ,:= :records #oPiTtkU83Rmx83BhX3TFEWjN .at ,( $Wn0uEQEJSO1a9jlgh2CrVUNFB0 ,) .tower .get",
                    "nodeType": "exprStmt",
                    "id": "R0C2CLMUshr8NXP8cHCWUMG9",
                    "locals": [
                      {
                        "name": "t",
                        "type": "{\"o\":\"tower\"}",
                        "nodeType": "localDef",
                        "id": "R0C2CLMUshr8NXP8cHCWUMG9L0"
                      }
                    ]
                  },
                  {
                    "expr": "$DXiBJHWG1WmRHMkEZbwUSwpLL0 ,:= $R0C2CLMUshr8NXP8cHCWUMG9L0 .sprite .get",
                    "nodeType": "exprStmt",
                    "id": "DXiBJHWG1WmRHMkEZbwUSwpL",
                    "locals": [
                      {
                        "name": "ts",
                        "type": "Sprite",
                        "nodeType": "localDef",
                        "id": "DXiBJHWG1WmRHMkEZbwUSwpLL0"
                      }
                    ]
                  },
                  {
                    "nodeType": "if",
                    "condition": ":math .abs ,( $DXiBJHWG1WmRHMkEZbwUSwpLL0 .x ,- $Wn0uEQEJSO1a9jlgh2CrVUNFB0 .x ,) ,≥ $R0C2CLMUshr8NXP8cHCWUMG9L0 .range .get ,or :math .abs ,( $DXiBJHWG1WmRHMkEZbwUSwpLL0 .y ,- $Wn0uEQEJSO1a9jlgh2CrVUNFB0 .y ,) ,≥ $R0C2CLMUshr8NXP8cHCWUMG9L0 .range .get",
                    "thenBody": [
                      {
                        "expr": ":code #gP4ZwgBpGw98ZiN4FFjf4YFN ,( $Wn0uEQEJSO1a9jlgh2CrVUNFB0 ,)",
                        "nodeType": "exprStmt",
                        "id": "vqO4CGBqiXx1vgUs0BQkHhtL",
                        "locals": []
                      }
                    ],
                    "isElseIf": false,
                    "id": "oT9HJ3AfpXQLIPkG02RAlC6t",
                    "locals": []
                  }
                ],
                "nodeType": "foreach",
                "id": "Wn0uEQEJSO1a9jlgh2CrVUNF",
                "locals": [
                  {
                    "name": "bullet",
                    "type": "Sprite",
                    "nodeType": "localDef",
                    "id": "Wn0uEQEJSO1a9jlgh2CrVUNFB0"
                  }
                ]
              },
              {
                "expr": ":/267b #m7eiZ2B44sdUWX6Pd22466at #s2ZoqZmuazH7vnFQpSkV1a4j",
                "nodeType": "exprStmt",
                "id": "x44sir7BKAPd2jYqwDnTJhYM",
                "locals": []
              }
            ],
            "id": "uSWtScP4wRaDRiYKywxT0nEF"
          },
          {
            "name": "tower set",
            "comment": "",
            "type": "Sprite Set",
            "isReadonly": false,
            "isTransient": true,
            "nodeType": "data",
            "id": "VvavohKTHtl7NG8r2DRjL63i"
          },
          {
            "name": "attacker set",
            "comment": "",
            "type": "Sprite Set",
            "isReadonly": false,
            "isTransient": true,
            "nodeType": "data",
            "id": "zJ67vKgUIfMi24UE4LRtnlo2"
          },
          {
            "name": "bullet set",
            "comment": "",
            "type": "Sprite Set",
            "isReadonly": false,
            "isTransient": true,
            "nodeType": "data",
            "id": "doAcgR4giaggIGyGAqOMM6Zp"
          },
          {
            "name": "board",
            "comment": "",
            "type": "Board",
            "isReadonly": false,
            "isTransient": true,
            "nodeType": "data",
            "id": "xhchEUvKZ4hq0srmcqpiFidS"
          },
          {
            "name": "add tower",
            "inParameters": [
              {
                "name": "sprite",
                "type": "Sprite",
                "nodeType": "localDef",
                "id": "nQXkHGBOsBpCJD42l33VgHbxP0"
              },
              {
                "name": "range",
                "type": "Number",
                "nodeType": "localDef",
                "id": "nQXkHGBOsBpCJD42l33VgHbxP1"
              },
              {
                "name": "power",
                "type": "Number",
                "nodeType": "localDef",
                "id": "nQXkHGBOsBpCJD42l33VgHbxP2"
              },
              {
                "name": "reload",
                "type": "Number",
                "nodeType": "localDef",
                "id": "nQXkHGBOsBpCJD42l33VgHbxP3"
              },
              {
                "name": "bullet color",
                "type": "Color",
                "nodeType": "localDef",
                "id": "nQXkHGBOsBpCJD42l33VgHbxP4"
              }
            ],
            "outParameters": [],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "Adds a tower with a range, power and reload in seconds.",
                "nodeType": "comment",
                "id": "cjkn4Jp3PmoYyCTlcA6RYi77"
              },
              {
                "nodeType": "if",
                "condition": ":data #VvavohKTHtl7NG8r2DRjL63i .add ,( $nQXkHGBOsBpCJD42l33VgHbxP0 ,)",
                "thenBody": [
                  {
                    "text": "Normalizing data",
                    "nodeType": "comment",
                    "id": "yPX5DbWh5Sham84jwtA0RDeo"
                  },
                  {
                    "expr": "$nQXkHGBOsBpCJD42l33VgHbxP1 ,:= :math .max ,( ,2 ,5 ,, $nQXkHGBOsBpCJD42l33VgHbxP1 ,)",
                    "nodeType": "exprStmt",
                    "id": "ZzdizDAk6cuBpOpzHERR7NLs",
                    "locals": []
                  },
                  {
                    "expr": "$nQXkHGBOsBpCJD42l33VgHbxP2 ,:= :math .max ,( ,5 ,, $nQXkHGBOsBpCJD42l33VgHbxP2 ,)",
                    "nodeType": "exprStmt",
                    "id": "KwYY3H2tPgTvRyLWf9irzHRQ",
                    "locals": []
                  },
                  {
                    "expr": "$nQXkHGBOsBpCJD42l33VgHbxP3 ,:= :math .max ,( ,0 ,. ,2 ,, $nQXkHGBOsBpCJD42l33VgHbxP3 ,)",
                    "nodeType": "exprStmt",
                    "id": "PmcExXLf9gxzupMshTceNeLg",
                    "locals": []
                  },
                  {
                    "expr": "$WyP2Pjzbf1HdTF1C6ZJZ4l55L0 ,:= :records #xV9IKcMD8phF2v42bHPHLdJa .create",
                    "nodeType": "exprStmt",
                    "id": "WyP2Pjzbf1HdTF1C6ZJZ4l55",
                    "locals": [
                      {
                        "name": "t",
                        "type": "{\"o\":\"tower\"}",
                        "nodeType": "localDef",
                        "id": "WyP2Pjzbf1HdTF1C6ZJZ4l55L0"
                      }
                    ]
                  },
                  {
                    "expr": "$WyP2Pjzbf1HdTF1C6ZJZ4l55L0 .sprite .set ,( $nQXkHGBOsBpCJD42l33VgHbxP0 ,)",
                    "nodeType": "exprStmt",
                    "id": "Z12fK4kNA3QavPMDpmlBOut2",
                    "locals": []
                  },
                  {
                    "expr": "$WyP2Pjzbf1HdTF1C6ZJZ4l55L0 .range .set ,( $nQXkHGBOsBpCJD42l33VgHbxP1 ,)",
                    "nodeType": "exprStmt",
                    "id": "PUHK8CETbHVcXDyKd1AxJJMq",
                    "locals": []
                  },
                  {
                    "expr": "$WyP2Pjzbf1HdTF1C6ZJZ4l55L0 .energy .set ,( $nQXkHGBOsBpCJD42l33VgHbxP2 ,)",
                    "nodeType": "exprStmt",
                    "id": "OKygRLA1KEX7egsB6ovnaKyZ",
                    "locals": []
                  },
                  {
                    "expr": "$WyP2Pjzbf1HdTF1C6ZJZ4l55L0 .reload .set ,( $nQXkHGBOsBpCJD42l33VgHbxP3 ,)",
                    "nodeType": "exprStmt",
                    "id": "czD4bTMObkwxLvKVm68cDvZG",
                    "locals": []
                  },
                  {
                    "expr": "$WyP2Pjzbf1HdTF1C6ZJZ4l55L0 .bullet_color .set ,( $nQXkHGBOsBpCJD42l33VgHbxP4 ,)",
                    "nodeType": "exprStmt",
                    "id": "vpYgsjrEinn6vjV5ttdvYiNx",
                    "locals": []
                  },
                  {
                    "expr": "$EBvXBCC88nK2YJvpXRw7KgSWL0 ,:= :data #xhchEUvKZ4hq0srmcqpiFidS .create_ellipse ,( $nQXkHGBOsBpCJD42l33VgHbxP1 ,* ,2 ,, $nQXkHGBOsBpCJD42l33VgHbxP1 ,* ,2 ,)",
                    "nodeType": "exprStmt",
                    "id": "EBvXBCC88nK2YJvpXRw7KgSW",
                    "locals": [
                      {
                        "name": "sprite range",
                        "type": "Sprite",
                        "nodeType": "localDef",
                        "id": "EBvXBCC88nK2YJvpXRw7KgSWL0"
                      }
                    ]
                  },
                  {
                    "expr": "$EBvXBCC88nK2YJvpXRw7KgSWL0 .set_pos ,( $nQXkHGBOsBpCJD42l33VgHbxP0 .x ,, $nQXkHGBOsBpCJD42l33VgHbxP0 .y ,)",
                    "nodeType": "exprStmt",
                    "id": "S5NZkTHlQojmw01fhR0PJg7v",
                    "locals": []
                  },
                  {
                    "expr": "$EBvXBCC88nK2YJvpXRw7KgSWL0 .set_opacity ,( ,0 ,)",
                    "nodeType": "exprStmt",
                    "id": "xeMpN7q49bTrwVhUxov4Xlsq",
                    "locals": []
                  },
                  {
                    "expr": ":data #UL48wM1Vt4kEPiLuEQ704Oia .add ,( $EBvXBCC88nK2YJvpXRw7KgSWL0 ,)",
                    "nodeType": "exprStmt",
                    "id": "wavmNy142KW5eOKoYhb7PMBY",
                    "locals": []
                  },
                  {
                    "expr": ":records #oPiTtkU83Rmx83BhX3TFEWjN .at ,( $EBvXBCC88nK2YJvpXRw7KgSWL0 ,) .tower .set ,( $WyP2Pjzbf1HdTF1C6ZJZ4l55L0 ,)",
                    "nodeType": "exprStmt",
                    "id": "yQCZDLlJNQcyif4m00UoIH6l",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "TVrcOnZCmjo8206v3lXeIxB7",
                "locals": []
              }
            ],
            "id": "nQXkHGBOsBpCJD42l33VgHbx"
          },
          {
            "name": "start",
            "comment": "start time\n",
            "type": "DateTime",
            "isReadonly": false,
            "isTransient": false,
            "nodeType": "data",
            "id": "DBylAbs4epbe9qJ7oVBZZmul"
          },
          {
            "name": "tower range set",
            "comment": "",
            "type": "Sprite Set",
            "isReadonly": false,
            "isTransient": true,
            "nodeType": "data",
            "id": "UL48wM1Vt4kEPiLuEQ704Oia"
          },
          {
            "nodeType": "record",
            "name": "thing",
            "sourceName": "Sprite decorator",
            "comment": "",
            "category": "decorator",
            "isCloudEnabled": false,
            "keys": [
              {
                "nodeType": "recordKey",
                "name": "target",
                "type": "Sprite",
                "id": "xcIs42fQxOe9TlAK1f3lwbV4"
              }
            ],
            "fields": [
              {
                "nodeType": "recordField",
                "name": "tower",
                "type": "{\"o\":\"tower\"}",
                "id": "huhenS4uPoguFroPXFh58Qo5"
              },
              {
                "nodeType": "recordField",
                "name": "attacker",
                "type": "{\"o\":\"attacker\"}",
                "id": "gDHSc85SALY4u5qGeMMBWG6E"
              }
            ],
            "id": "oPiTtkU83Rmx83BhX3TFEWjN"
          },
          {
            "name": "towers shoot attacker",
            "inParameters": [
              {
                "name": "attack",
                "type": "Sprite",
                "nodeType": "localDef",
                "id": "s3cO4462bO7j3Cn2tlYwS2hKP0"
              },
              {
                "name": "elapsed",
                "type": "Number",
                "nodeType": "localDef",
                "id": "s3cO4462bO7j3Cn2tlYwS2hKP1"
              }
            ],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "expr": "$BxbjY3q2bFqyiEDMm2vw3X7sL0 ,:= $s3cO4462bO7j3Cn2tlYwS2hKP0 .overlap_with ,( :data #UL48wM1Vt4kEPiLuEQ704Oia ,)",
                "nodeType": "exprStmt",
                "id": "BxbjY3q2bFqyiEDMm2vw3X7s",
                "locals": [
                  {
                    "name": "in range towers",
                    "type": "Sprite Set",
                    "nodeType": "localDef",
                    "id": "BxbjY3q2bFqyiEDMm2vw3X7sL0"
                  }
                ]
              },
              {
                "collection": "$BxbjY3q2bFqyiEDMm2vw3X7sL0",
                "conditions": [
                  {
                    "condition": "T",
                    "nodeType": "where",
                    "id": "XCRZcf8rEkrhVk8MAbyIqI9k",
                    "locals": []
                  }
                ],
                "body": [
                  {
                    "expr": "$xtJ74FGmB2IDDYPcwmwlSw3hL0 ,:= :records #oPiTtkU83Rmx83BhX3TFEWjN .at ,( $mHJ2ikJH2SPeuqCFjVMsSMKpB0 ,) .tower .get",
                    "nodeType": "exprStmt",
                    "id": "xtJ74FGmB2IDDYPcwmwlSw3h",
                    "locals": [
                      {
                        "name": "tow",
                        "type": "{\"o\":\"tower\"}",
                        "nodeType": "localDef",
                        "id": "xtJ74FGmB2IDDYPcwmwlSw3hL0"
                      }
                    ]
                  },
                  {
                    "expr": ":code #Zad36uSLrBH97DtuDNiJCUYQ ,( $s3cO4462bO7j3Cn2tlYwS2hKP0 ,, $xtJ74FGmB2IDDYPcwmwlSw3hL0 ,, $s3cO4462bO7j3Cn2tlYwS2hKP1 ,)",
                    "nodeType": "exprStmt",
                    "id": "C5g5UzhKdW4OdNDru22yuJsy",
                    "locals": []
                  }
                ],
                "nodeType": "foreach",
                "id": "mHJ2ikJH2SPeuqCFjVMsSMKp",
                "locals": [
                  {
                    "name": "tower range",
                    "type": "Sprite",
                    "nodeType": "localDef",
                    "id": "mHJ2ikJH2SPeuqCFjVMsSMKpB0"
                  }
                ]
              }
            ],
            "id": "s3cO4462bO7j3Cn2tlYwS2hK"
          },
          {
            "name": "tower shoot attacker",
            "inParameters": [
              {
                "name": "attack",
                "type": "Sprite",
                "nodeType": "localDef",
                "id": "Zad36uSLrBH97DtuDNiJCUYQP0"
              },
              {
                "name": "tow",
                "type": "{\"o\":\"tower\"}",
                "nodeType": "localDef",
                "id": "Zad36uSLrBH97DtuDNiJCUYQP1"
              },
              {
                "name": "elapsed",
                "type": "Number",
                "nodeType": "localDef",
                "id": "Zad36uSLrBH97DtuDNiJCUYQP2"
              }
            ],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "nodeType": "if",
                "condition": "$Zad36uSLrBH97DtuDNiJCUYQP1 .next_shot .get ,< $Zad36uSLrBH97DtuDNiJCUYQP2",
                "thenBody": [
                  {
                    "text": "Delay between shots",
                    "nodeType": "comment",
                    "id": "G19mLdHCfeao9JCwhhFFUpJ9"
                  },
                  {
                    "expr": "$Zad36uSLrBH97DtuDNiJCUYQP1 .next_shot .set ,( $Zad36uSLrBH97DtuDNiJCUYQP2 ,+ $Zad36uSLrBH97DtuDNiJCUYQP1 .reload .get ,)",
                    "nodeType": "exprStmt",
                    "id": "I7MwLjGBPkAAPM3n9ULRAhX6",
                    "locals": []
                  },
                  {
                    "text": "Add new bullet in game",
                    "nodeType": "comment",
                    "id": "DOCqznuqkTB2NfjTYpOSEL6x"
                  },
                  {
                    "expr": "$MsBqUGVlCIfGEqsrWlwBxrIrL0 ,:= $Zad36uSLrBH97DtuDNiJCUYQP1 .energy .get",
                    "nodeType": "exprStmt",
                    "id": "MsBqUGVlCIfGEqsrWlwBxrIr",
                    "locals": [
                      {
                        "name": "energy",
                        "type": "Number",
                        "nodeType": "localDef",
                        "id": "MsBqUGVlCIfGEqsrWlwBxrIrL0"
                      }
                    ]
                  },
                  {
                    "expr": "$GpoL0wysyWBDu8ONGOzdcpYLL0 ,:= :data #xhchEUvKZ4hq0srmcqpiFidS .create_ellipse ,( $MsBqUGVlCIfGEqsrWlwBxrIrL0 ,/ ,2 ,, $MsBqUGVlCIfGEqsrWlwBxrIrL0 ,/ ,2 ,)",
                    "nodeType": "exprStmt",
                    "id": "GpoL0wysyWBDu8ONGOzdcpYL",
                    "locals": [
                      {
                        "name": "bullet",
                        "type": "Sprite",
                        "nodeType": "localDef",
                        "id": "GpoL0wysyWBDu8ONGOzdcpYLL0"
                      }
                    ]
                  },
                  {
                    "expr": "$a47XYVe5MDdt0ViqIAKxkKfUL0 ,:= $Zad36uSLrBH97DtuDNiJCUYQP1 .sprite .get",
                    "nodeType": "exprStmt",
                    "id": "a47XYVe5MDdt0ViqIAKxkKfU",
                    "locals": [
                      {
                        "name": "tower sprite",
                        "type": "Sprite",
                        "nodeType": "localDef",
                        "id": "a47XYVe5MDdt0ViqIAKxkKfUL0"
                      }
                    ]
                  },
                  {
                    "expr": "$GpoL0wysyWBDu8ONGOzdcpYLL0 .set_pos ,( $a47XYVe5MDdt0ViqIAKxkKfUL0 .x ,, $a47XYVe5MDdt0ViqIAKxkKfUL0 .y ,)",
                    "nodeType": "exprStmt",
                    "id": "SofUVMqXt4wQtY7JkhOg4LGi",
                    "locals": []
                  },
                  {
                    "expr": "$GpoL0wysyWBDu8ONGOzdcpYLL0 .speed_towards ,( $Zad36uSLrBH97DtuDNiJCUYQP0 ,, :math .max ,( ,3 ,0 ,, ,1 ,0 ,0 ,- $MsBqUGVlCIfGEqsrWlwBxrIrL0 ,) ,)",
                    "nodeType": "exprStmt",
                    "id": "FH8wCZRc2Fxy9lBnDajz2ESl",
                    "locals": []
                  },
                  {
                    "expr": "$GpoL0wysyWBDu8ONGOzdcpYLL0 .set_color ,( $Zad36uSLrBH97DtuDNiJCUYQP1 .bullet_color .get ,)",
                    "nodeType": "exprStmt",
                    "id": "xHDthQSLuwuJY93KWswsfqBC",
                    "locals": []
                  },
                  {
                    "expr": ":data #doAcgR4giaggIGyGAqOMM6Zp .add ,( $GpoL0wysyWBDu8ONGOzdcpYLL0 ,)",
                    "nodeType": "exprStmt",
                    "id": "bYQzZPE9KsXhuSdj80Kr8i6s",
                    "locals": []
                  },
                  {
                    "expr": ":records #oPiTtkU83Rmx83BhX3TFEWjN .at ,( $GpoL0wysyWBDu8ONGOzdcpYLL0 ,) .tower .set ,( $Zad36uSLrBH97DtuDNiJCUYQP1 ,)",
                    "nodeType": "exprStmt",
                    "id": "k2ywQkt1LlPyiRPNwLrSwfbX",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "xRWAQhxcg4CIk4qqgSw7CIZ8",
                "locals": []
              }
            ],
            "id": "Zad36uSLrBH97DtuDNiJCUYQ"
          },
          {
            "name": "score",
            "comment": "",
            "type": "Number",
            "isReadonly": false,
            "isTransient": false,
            "nodeType": "data",
            "id": "UvpiiNl2YUL0qCVU82OUNDzd"
          },
          {
            "name": "earned life",
            "inParameters": [],
            "outParameters": [
              {
                "name": "r",
                "type": "Number",
                "nodeType": "localDef",
                "id": "M2bWCWeuwVbM2zZtX4WVUj0GP0"
              }
            ],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "Gets the sum of life of attacker destroyed",
                "nodeType": "comment",
                "id": "xacUEzU6XMmUxSAAJqS23QqI"
              },
              {
                "expr": "$M2bWCWeuwVbM2zZtX4WVUj0GP0 ,:= :data #UvpiiNl2YUL0qCVU82OUNDzd",
                "nodeType": "exprStmt",
                "id": "Tuq47bUA5NKaE7ziBeJL4CNG",
                "locals": []
              }
            ],
            "id": "M2bWCWeuwVbM2zZtX4WVUj0G"
          },
          {
            "name": "bullets shoot attacker",
            "inParameters": [
              {
                "name": "attack",
                "type": "Sprite",
                "nodeType": "localDef",
                "id": "oO2uEcRfGmhRSKuas54CgjTNP0"
              }
            ],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "expr": "$GgvFR2u1qTAl9DjVZQQ165EyL0 ,:= :records #oPiTtkU83Rmx83BhX3TFEWjN .at ,( $oO2uEcRfGmhRSKuas54CgjTNP0 ,) .attacker .get",
                "nodeType": "exprStmt",
                "id": "GgvFR2u1qTAl9DjVZQQ165Ey",
                "locals": [
                  {
                    "name": "arow",
                    "type": "{\"o\":\"attacker\"}",
                    "nodeType": "localDef",
                    "id": "GgvFR2u1qTAl9DjVZQQ165EyL0"
                  }
                ]
              },
              {
                "expr": "$tVkn3v4PZ10Kp6kHYa8QSAppL0 ,:= $oO2uEcRfGmhRSKuas54CgjTNP0 .overlap_with ,( :data #doAcgR4giaggIGyGAqOMM6Zp ,)",
                "nodeType": "exprStmt",
                "id": "tVkn3v4PZ10Kp6kHYa8QSApp",
                "locals": [
                  {
                    "name": "in range bullets",
                    "type": "Sprite Set",
                    "nodeType": "localDef",
                    "id": "tVkn3v4PZ10Kp6kHYa8QSAppL0"
                  }
                ]
              },
              {
                "collection": "$tVkn3v4PZ10Kp6kHYa8QSAppL0",
                "conditions": [
                  {
                    "condition": "$GgvFR2u1qTAl9DjVZQQ165EyL0 .life .get ,≥ ,0",
                    "nodeType": "where",
                    "id": "svSKQ0EQ0sJv8222mlGEixdr",
                    "locals": []
                  }
                ],
                "body": [
                  {
                    "expr": ":code #hEZcFmzO4N0TMv2P0swVHDil ,( $oO2uEcRfGmhRSKuas54CgjTNP0 ,, $b2ZWP6sHkXnWg7avJ2wy4iGVB0 ,, $GgvFR2u1qTAl9DjVZQQ165EyL0 ,)",
                    "nodeType": "exprStmt",
                    "id": "FWmwSVzFu4ZGGRPhZOrEbmoA",
                    "locals": []
                  }
                ],
                "nodeType": "foreach",
                "id": "b2ZWP6sHkXnWg7avJ2wy4iGV",
                "locals": [
                  {
                    "name": "bullet",
                    "type": "Sprite",
                    "nodeType": "localDef",
                    "id": "b2ZWP6sHkXnWg7avJ2wy4iGVB0"
                  }
                ]
              }
            ],
            "id": "oO2uEcRfGmhRSKuas54CgjTN"
          },
          {
            "name": "bullet shoot attacker",
            "inParameters": [
              {
                "name": "attack",
                "type": "Sprite",
                "nodeType": "localDef",
                "id": "hEZcFmzO4N0TMv2P0swVHDilP0"
              },
              {
                "name": "bullet",
                "type": "Sprite",
                "nodeType": "localDef",
                "id": "hEZcFmzO4N0TMv2P0swVHDilP1"
              },
              {
                "name": "arow",
                "type": "{\"o\":\"attacker\"}",
                "nodeType": "localDef",
                "id": "hEZcFmzO4N0TMv2P0swVHDilP2"
              }
            ],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "Remove life from attacker",
                "nodeType": "comment",
                "id": "sbbg3Lr6gEk1ygnUgbN540W2"
              },
              {
                "expr": "$L3dbkFmCrflPf9W40N1U7ma7L0 ,:= $hEZcFmzO4N0TMv2P0swVHDilP1 .width",
                "nodeType": "exprStmt",
                "id": "L3dbkFmCrflPf9W40N1U7ma7",
                "locals": [
                  {
                    "name": "strength",
                    "type": "Number",
                    "nodeType": "localDef",
                    "id": "L3dbkFmCrflPf9W40N1U7ma7L0"
                  }
                ]
              },
              {
                "expr": "$L3dbkFmCrflPf9W40N1U7ma7L0 ,:= :math .min ,( $L3dbkFmCrflPf9W40N1U7ma7L0 ,, $hEZcFmzO4N0TMv2P0swVHDilP2 .life .get ,)",
                "nodeType": "exprStmt",
                "id": "l4LgvEE4WdqdN22qzd1BEtOK",
                "locals": []
              },
              {
                "expr": ":data #UvpiiNl2YUL0qCVU82OUNDzd ,:= :data #UvpiiNl2YUL0qCVU82OUNDzd ,- $L3dbkFmCrflPf9W40N1U7ma7L0",
                "nodeType": "exprStmt",
                "id": "s26jisVl2aa7jK2Ymgi54ETn",
                "locals": []
              },
              {
                "expr": "$hEZcFmzO4N0TMv2P0swVHDilP2 .life .set ,( $hEZcFmzO4N0TMv2P0swVHDilP2 .life .get ,- $L3dbkFmCrflPf9W40N1U7ma7L0 ,)",
                "nodeType": "exprStmt",
                "id": "MPPar8AxFN2YqflqQHj42iM4",
                "locals": []
              },
              {
                "expr": ":/267b #m7eiZ2B44sdUWX6Pd22466at #qNSBydBEIjlyjCRbpj5xnb21 ,( $hEZcFmzO4N0TMv2P0swVHDilP2 .sprite .get ,, $hEZcFmzO4N0TMv2P0swVHDilP2 .life .get ,/ $hEZcFmzO4N0TMv2P0swVHDilP2 .max_life .get ,)",
                "nodeType": "exprStmt",
                "id": "hX2TeLZbHt1uIyikj2C9xY7N",
                "locals": []
              },
              {
                "expr": ":code #gP4ZwgBpGw98ZiN4FFjf4YFN ,( $hEZcFmzO4N0TMv2P0swVHDilP1 ,)",
                "nodeType": "exprStmt",
                "id": "lfc05wVxqgKoU47hp7EgI82i",
                "locals": []
              },
              {
                "text": "Test if attacker is still alive",
                "nodeType": "comment",
                "id": "NhIRRJLSyFwGV3Az4lz1rrsy"
              },
              {
                "nodeType": "if",
                "condition": "$hEZcFmzO4N0TMv2P0swVHDilP2 .life .get ,≤ ,0",
                "thenBody": [
                  {
                    "expr": ":/267b #m7eiZ2B44sdUWX6Pd22466at #SAvn1y7k9oBx9vaVckz3UPGg ,( $hEZcFmzO4N0TMv2P0swVHDilP2 .sprite .get ,)",
                    "nodeType": "exprStmt",
                    "id": "nE2lqTqU84qRzVFeKbXyv3Vp",
                    "locals": []
                  },
                  {
                    "expr": ":code #aF8P02CfsDMPK1m0e2agfNvK ,( $hEZcFmzO4N0TMv2P0swVHDilP2 ,, $hEZcFmzO4N0TMv2P0swVHDilP0 ,)",
                    "nodeType": "exprStmt",
                    "id": "e99o4VHg9RddDf5C7w5HtEC5",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "qLMNaMUxp9so9GScZRqP4t9i",
                "locals": []
              }
            ],
            "id": "hEZcFmzO4N0TMv2P0swVHDil"
          },
          {
            "name": "add attacker",
            "inParameters": [
              {
                "name": "sprite",
                "type": "Sprite",
                "nodeType": "localDef",
                "id": "zbIDKqF3SN4pbKEW1ybXE8KMP0"
              },
              {
                "name": "life",
                "type": "Number",
                "nodeType": "localDef",
                "id": "zbIDKqF3SN4pbKEW1ybXE8KMP1"
              }
            ],
            "outParameters": [],
            "isPrivate": false,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "Adds a tower with a range, power and reload in seconds.",
                "nodeType": "comment",
                "id": "usImSY4zkjYmHpt6SRelDdLg"
              },
              {
                "nodeType": "if",
                "condition": ":data #zJ67vKgUIfMi24UE4LRtnlo2 .add ,( $zbIDKqF3SN4pbKEW1ybXE8KMP0 ,)",
                "thenBody": [
                  {
                    "expr": "$x9XxZol4H2k7LjcsdP564pbPL0 ,:= :records #Oa4Smlrl1a1uHcNAR5I6iMkm .create",
                    "nodeType": "exprStmt",
                    "id": "x9XxZol4H2k7LjcsdP564pbP",
                    "locals": [
                      {
                        "name": "t",
                        "type": "{\"o\":\"attacker\"}",
                        "nodeType": "localDef",
                        "id": "x9XxZol4H2k7LjcsdP564pbPL0"
                      }
                    ]
                  },
                  {
                    "expr": "$x9XxZol4H2k7LjcsdP564pbPL0 .sprite .set ,( $zbIDKqF3SN4pbKEW1ybXE8KMP0 ,)",
                    "nodeType": "exprStmt",
                    "id": "hPhDFUHcdrq4r6PZjFMvKQLm",
                    "locals": []
                  },
                  {
                    "expr": "$x9XxZol4H2k7LjcsdP564pbPL0 .life .set ,( $zbIDKqF3SN4pbKEW1ybXE8KMP1 ,)",
                    "nodeType": "exprStmt",
                    "id": "KHpQg2V7kCp9YMxWBPUVr0DB",
                    "locals": []
                  },
                  {
                    "expr": "$x9XxZol4H2k7LjcsdP564pbPL0 .max_life .set ,( $zbIDKqF3SN4pbKEW1ybXE8KMP1 ,)",
                    "nodeType": "exprStmt",
                    "id": "xwRqAgiwj6kYhCAVKf4PwGme",
                    "locals": []
                  },
                  {
                    "expr": ":records #oPiTtkU83Rmx83BhX3TFEWjN .at ,( $zbIDKqF3SN4pbKEW1ybXE8KMP0 ,) .attacker .set ,( $x9XxZol4H2k7LjcsdP564pbPL0 ,)",
                    "nodeType": "exprStmt",
                    "id": "q75jkJ6mFSukURuLEeNMQqJV",
                    "locals": []
                  },
                  {
                    "expr": ":/267b #m7eiZ2B44sdUWX6Pd22466at #qNSBydBEIjlyjCRbpj5xnb21 ,( $zbIDKqF3SN4pbKEW1ybXE8KMP0 ,, ,1 ,)",
                    "nodeType": "exprStmt",
                    "id": "Y4nKlAoeMaMymn4IIdXDCi54",
                    "locals": []
                  }
                ],
                "isElseIf": false,
                "id": "BkpZsDN72fIMTSEmB56ZcF3D",
                "locals": []
              }
            ],
            "id": "zbIDKqF3SN4pbKEW1ybXE8KM"
          },
          {
            "name": "delete bullet",
            "inParameters": [
              {
                "name": "bullet",
                "type": "Sprite",
                "nodeType": "localDef",
                "id": "gP4ZwgBpGw98ZiN4FFjf4YFNP0"
              }
            ],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "text": "Remove bullet",
                "nodeType": "comment",
                "id": "oj4eTbG024PLiIDO0BFip2PL"
              },
              {
                "expr": "$gP4ZwgBpGw98ZiN4FFjf4YFNP0 .hide",
                "nodeType": "exprStmt",
                "id": "xs7bjYuLX8AdssvBaIVMZuEr",
                "locals": []
              },
              {
                "expr": ":data #doAcgR4giaggIGyGAqOMM6Zp .remove ,( $gP4ZwgBpGw98ZiN4FFjf4YFNP0 ,)",
                "nodeType": "exprStmt",
                "id": "xRYmX2aZ0xAtQ7m6tmGSxEOa",
                "locals": []
              },
              {
                "expr": "$gP4ZwgBpGw98ZiN4FFjf4YFNP0 .delete",
                "nodeType": "exprStmt",
                "id": "xIF7nDqxyhiPc1qN4x2Sr6XT",
                "locals": []
              }
            ],
            "id": "gP4ZwgBpGw98ZiN4FFjf4YFN"
          },
          {
            "name": "delete attacker",
            "inParameters": [
              {
                "name": "arow",
                "type": "{\"o\":\"attacker\"}",
                "nodeType": "localDef",
                "id": "aF8P02CfsDMPK1m0e2agfNvKP0"
              },
              {
                "name": "attack",
                "type": "Sprite",
                "nodeType": "localDef",
                "id": "aF8P02CfsDMPK1m0e2agfNvKP1"
              }
            ],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "expr": "$aF8P02CfsDMPK1m0e2agfNvKP0 .clear_fields",
                "nodeType": "exprStmt",
                "id": "hBGLuWSAUuNNmF2PjIbl3ENM",
                "locals": []
              },
              {
                "expr": "$aF8P02CfsDMPK1m0e2agfNvKP1 .hide",
                "nodeType": "exprStmt",
                "id": "D7qXO0ZiMjJryz4grZKUCzZE",
                "locals": []
              },
              {
                "expr": ":data #zJ67vKgUIfMi24UE4LRtnlo2 .remove ,( $aF8P02CfsDMPK1m0e2agfNvKP1 ,)",
                "nodeType": "exprStmt",
                "id": "xGmKzQTo4XoZxCboAHwYg0Zj",
                "locals": []
              },
              {
                "expr": "$aF8P02CfsDMPK1m0e2agfNvKP1 .delete",
                "nodeType": "exprStmt",
                "id": "NHOaKJr1aHtUaR30eha8h5Lh",
                "locals": []
              }
            ],
            "id": "aF8P02CfsDMPK1m0e2agfNvK"
          },
          {
            "name": "go",
            "inParameters": [],
            "outParameters": [],
            "isPrivate": true,
            "isOffloaded": false,
            "isTest": false,
            "isAsync": false,
            "nodeType": "action",
            "body": [
              {
                "expr": "",
                "nodeType": "exprStmt",
                "id": "VXcPTNuduaxamo288U7f40Mf",
                "locals": []
              }
            ],
            "id": "jwVot4mVz3Nh3IpbdAYRtYJY"
          },
          {
            "nodeType": "record",
            "name": "thing2",
            "sourceName": "thing2 table",
            "comment": "",
            "category": "table",
            "isCloudEnabled": false,
            "keys": [],
            "fields": [],
            "id": "XtHhXShBDTl2a0PZDzG2yFMZ"
          }
        ],
        "deletedDecls": [],
        "nodeType": "app",
        "id": "app"
      }
    },
    {
      "seqNo": 1,
      "time": 1359057157,
      "scriptId": "ngxy",
      "historyId": "2520432436426335207bcc9f2d9-c3d3-4948-8988-398091330ff7",
      "updateSize": 45,
      "updates": {
        "app": {
          "rootId": "x3NgBuN0j2d5y23H4Dkkwqpe"
        }
      }
    }
  ]
}